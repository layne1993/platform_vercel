(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[83],{"1u+h":function(e,a,t){e.exports={info:"antd-pro-pages-stagging-tool-mechanism-index-info"}},ADzk:function(e,a,t){"use strict";t.r(a);t("IzEo");var r=t("bx4M"),n=(t("Znn+"),t("ZTPi")),l=t("q1tI"),s=t.n(l),o=t("Hx5s"),c=t("Pe3R"),i=t("M/+P"),u=t("i0xw"),d=(t("T2oS"),t("W9HT")),m=(t("+L6B"),t("2/Rp")),g=(t("DYRE"),t("zeV3")),b=(t("sRBo"),t("kaz8")),p=(t("5NDa"),t("5rEg")),E=t("k1fw"),f=(t("miYZ"),t("tsqr")),C=t("9og8"),D=(t("y8nQ"),t("Vl3Y")),I=t("tJVT"),h=(t("iQDF"),t("+eQT")),N=(t("OaEy"),t("2fM7")),x=t("WmNS"),T=t.n(x),Y=t("1u+h"),S=t.n(Y),w=t("wd/R"),O=t.n(w),y=t("AEkp"),k=t("+n12");Object(k["t"])();function v(){return V.apply(this,arguments)}function V(){return V=Object(C["a"])(T.a.mark((function e(){return T.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",y["a"].get("/staggingnewOrgInfo/getOrgInfo"));case 1:case"end":return e.stop()}}),e)}))),V.apply(this,arguments)}function q(e){return L.apply(this,arguments)}function L(){return L=Object(C["a"])(T.a.mark((function e(a){return T.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",y["a"].postJSON("/staggingnewOrgInfo/addOrgInfo",a));case 1:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function R(e){return j.apply(this,arguments)}function j(){return j=Object(C["a"])(T.a.mark((function e(a){return T.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",y["a"].postJSON("/staggingnewOrgInfo/updateOrgInfo",a));case 1:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}var M=N["a"].Option,F=h["a"].RangePicker,P=function(e){var a=D["a"].useForm(),t=Object(I["a"])(a,1),r=t[0],n=Object(l["useState"])(!1),o=Object(I["a"])(n,2),c=o[0],i=o[1],u=Object(l["useState"])(!1),h=Object(I["a"])(u,2),x=h[0],Y=h[1],w=Object(l["useState"])({}),y=Object(I["a"])(w,2),k=y[0],V=y[1],L=Object(l["useState"])(1),j=Object(I["a"])(L,2),P=j[0],z=j[1],Z=Object(l["useState"])(!0),A=Object(I["a"])(Z,2),J=(A[0],A[1],function(){var e=Object(C["a"])(T.a.mark((function e(a){var t,r,n,l,s,o,c,u,d;return T.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i(!0),console.log("Success:",a),t=a["businessDate"],r=a["creditDate"],n=a["originDate"],l=a["taxDate"],s={},s.companyName=a.companyName,s.associationCode=a.associationCode,s.isThreeCard=a.isThreeCard,"\u662f"==a.isThreeCard||"1"==a.isThreeCard?(s.isThreeCard=1,s.creditCode=a.creditCode):(s.isThreeCard=0,s.businessNo=a.businessNo),1==a.creditCodeIsLongTerm?s.creditCodeIsLongTerm=1:s.creditCodeIsLongTerm=0,s.contactName=a.contactName,s.mobile=a.mobile,s.phone=a.phone,s.email=a.email,s.address=a.address,s.businessScope=a.businessScope,console.log(s),"1"!=a.isThreeCard){e.next=36;break}if(r&&(s.creditCodeCardValidStartDate=r[0].format("YYYY-MM-DD"),s.creditCodeCardValidEndDate=r[1].format("YYYY-MM-DD")),1!=P){e.next=28;break}return e.next=24,q(s);case 24:o=e.sent,1008==+o.code?f["default"].success("\u4fdd\u5b58\u6210\u529f"):f["default"].error("\u4fdd\u5b58\u5931\u8d25"),e.next=33;break;case 28:return s.id=k.id,e.next=31,R(s);case 31:c=e.sent,1008==+c.code?f["default"].success("\u4fdd\u5b58\u6210\u529f"):f["default"].error("\u4fdd\u5b58\u5931\u8d25");case 33:i(!1),e.next=58;break;case 36:if(t&&(s.businessNoCardValidStartDate=t[0].format("YYYY-MM-DD"),s.businessNoCardValidEndDate=t[1].format("YYYY-MM-DD")),n&&(s.orgCodeCardValidStartDate=n[0].format("YYYY-MM-DD"),s.orgCodeCardValidEndDate=n[1].format("YYYY-MM-DD")),l&&(s.taxRegNoCardValidStartDate=l[0].format("YYYY-MM-DD"),s.taxRegNoCardValidEndDate=l[1].format("YYYY-MM-DD")),1==a.businessNoIsLongTerm?s.businessNoIsLongTerm=1:s.businessNoIsLongTerm=0,1==a.orgCodeIsLongTerm?s.orgCodeIsLongTerm=1:s.orgCodeIsLongTerm=0,1==a.taxRegNoIsLongTerm?s.taxRegNoIsLongTerm=1:s.taxRegNoIsLongTerm=0,s.businessNo=a.businessNo,s.orgCode=a.orgCode,s.taxRegNo=a.taxRegNo,1!=P){e.next=52;break}return e.next=48,q(s);case 48:u=e.sent,1008==+u.code?f["default"].success("\u4fdd\u5b58\u6210\u529f"):f["default"].error("\u4fdd\u5b58\u5931\u8d25"),e.next=57;break;case 52:return s.id=k.id,e.next=55,R(s);case 55:d=e.sent,1008==+d.code?f["default"].success("\u4fdd\u5b58\u6210\u529f"):f["default"].error("\u4fdd\u5b58\u5931\u8d25");case 57:i(!1);case 58:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()),U=function(e){},Q=function(e){Y("0"==e)},B=function(){var e=Object(C["a"])(T.a.mark((function e(){var a,t;return T.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i(!0),e.next=3,v();case 3:a=e.sent,console.log(a),1008===+a.code&&(null==a.data||""==a.data?z(1):(z(0),V(a.data),t=a.data,1==t.isThreeCard?(t.isThreeCard="\u662f",a.data.creditCodeCardValidStartDate?(t.creditDate=[],t.creditDate[0]=O()(a.data.creditCodeCardValidStartDate),t.creditDate[1]=O()(a.data.creditCodeCardValidEndDate)):t.creditDate=void 0):(t.isThreeCard="\u5426",Y(!0),a.data.businessNoCardValidStartDate?(t.businessDate=[],t.businessDate[0]=O()(a.data.businessNoCardValidStartDate),t.businessDate[1]=O()(a.data.businessNoCardValidEndDate)):t.businessDate=void 0),null!==a.data.orgCodeCardValidStartDate&&(t.originDate=[],t.originDate[0]=O()(a.data.orgCodeCardValidStartDate),t.originDate[1]=O()(a.data.orgCodeCardValidEndDate)),null!==a.data.taxRegNoCardValidStartDate&&(t.taxDate=[],t.taxDate[0]=O()(a.data.taxRegNoCardValidStartDate),t.taxDate[1]=O()(a.data.taxRegNoCardValidEndDate)),r.setFieldsValue(Object(E["a"])({},t)))),i(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l["useEffect"])((function(){B()}),[]),s.a.createElement("div",{className:S.a.info},s.a.createElement(d["a"],{spinning:c},s.a.createElement(D["a"],{form:r,name:"basic",labelCol:{span:5},wrapperCol:{span:10},onFinish:J,onFinishFailed:U},s.a.createElement(D["a"].Item,{label:"\u673a\u6784\u540d\u79f0",name:"companyName",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u673a\u6784\u540d\u79f0!"}]},s.a.createElement(p["a"],null)),s.a.createElement(D["a"].Item,{label:"\u7f51\u4e0b\u6295\u8d44\u8005\u534f\u4f1a\u7f16\u7801\uff085\u4f4d\u7f16\u7801\uff09",name:"associationCode",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7f51\u4e0b\u6295\u8d44\u8005\u534f\u4f1a\u7f16\u7801\uff085\u4f4d\u7f16\u7801\uff09"}]},s.a.createElement(p["a"],null)),s.a.createElement(D["a"].Item,{label:"\u662f\u5426\u4e09\u8bc1\u5408\u4e00",name:"isThreeCard",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u662f\u5426\u4e09\u8bc1\u5408\u4e00"}]},s.a.createElement(N["a"],{showSearch:!0,placeholder:"\u8bf7\u9009\u62e9",optionFilterProp:"children",onChange:Q,filterOption:function(e,a){return a.children.toLowerCase().indexOf(e.toLowerCase())>=0}},s.a.createElement(M,{value:"1"},"\u662f"),s.a.createElement(M,{value:"0"},"\u5426"))),x?s.a.createElement("div",null,s.a.createElement(D["a"].Item,{label:"\u8425\u4e1a\u6267\u7167\u53f7\uff1a",name:"businessNo",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8425\u4e1a\u6267\u7167\u53f7!"}]},s.a.createElement(p["a"],null)),s.a.createElement(D["a"].Item,{label:"\u8425\u4e1a\u6267\u7167\u8bc1\u4ef6\u6709\u6548\u671f",required:!0,shouldUpdate:!0},(function(e){var a=e.getFieldValue;return s.a.createElement(g["b"],null,s.a.createElement(D["a"].Item,{noStyle:!0,rules:[{required:!a("businessNoIsLongTerm"),message:"\u8bf7\u9009\u62e9\u8bc1\u4ef6\u6709\u6548\u65e5\u671f!"}],name:"businessDate"},s.a.createElement(F,null)),s.a.createElement(D["a"].Item,{noStyle:!0,name:"businessNoIsLongTerm",valuePropName:"checked"},s.a.createElement(b["a"],null,"\u957f\u671f\u6709\u6548")))}))):s.a.createElement("div",null,s.a.createElement(D["a"].Item,{label:"\u7edf\u4e00\u793e\u4f1a\u4fe1\u7528\u4ee3\u7801\uff1a",name:"creditCode",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7edf\u4e00\u793e\u4f1a\u4fe1\u7528\u4ee3\u7801!"}]},s.a.createElement(p["a"],null)),s.a.createElement(D["a"].Item,{label:"\u8bc1\u4ef6\u6709\u6548\u671f",required:!0,shouldUpdate:!0},(function(e){var a=e.getFieldValue;return s.a.createElement(g["b"],null,s.a.createElement(D["a"].Item,{noStyle:!0,name:"creditDate",rules:[{required:!a("creditCodeIsLongTerm"),message:"\u8bf7\u9009\u62e9\u8bc1\u4ef6\u6709\u6548\u65e5\u671f!"}]},s.a.createElement(F,null)),s.a.createElement(D["a"].Item,{noStyle:!0,name:"creditCodeIsLongTerm",valuePropName:"checked"},s.a.createElement(b["a"],null,"\u957f\u671f\u6709\u6548")))}))),x?s.a.createElement("div",null,s.a.createElement(D["a"].Item,{label:"\u7ec4\u7ec7\u673a\u6784\u4ee3\u7801",name:"orgCode",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7ec4\u7ec7\u673a\u6784\u4ee3\u7801!"}]},s.a.createElement(p["a"],null)),s.a.createElement(D["a"].Item,{label:"\u8bc1\u4ef6\u6709\u6548\u671f",required:!0,shouldUpdate:!0},(function(e){var a=e.getFieldValue;return s.a.createElement(g["b"],null,s.a.createElement(D["a"].Item,{noStyle:!0,name:"originDate",rules:[{required:!a("orgCodeIsLongTerm"),message:"\u8bf7\u9009\u62e9\u8bc1\u4ef6\u6709\u6548\u65e5\u671f!"}]},s.a.createElement(F,null)),s.a.createElement(D["a"].Item,{noStyle:!0,name:"orgCodeIsLongTerm",valuePropName:"checked"},s.a.createElement(b["a"],null,"\u957f\u671f\u6709\u6548")))})),s.a.createElement(D["a"].Item,{label:"\u7a0e\u52a1\u767b\u8bb0\u53f7\u7801",name:"taxRegNo",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7a0e\u52a1\u767b\u8bb0\u53f7\u7801!"}]},s.a.createElement(p["a"],null)),s.a.createElement(D["a"].Item,{label:"\u8bc1\u4ef6\u6709\u6548\u671f",required:!0,shouldUpdate:!0},(function(e){var a=e.getFieldValue;return s.a.createElement(g["b"],null,s.a.createElement(D["a"].Item,{noStyle:!0,name:"taxDate",rules:[{required:!a("taxRegNoIsLongTerm"),message:"\u8bf7\u9009\u62e9\u8bc1\u4ef6\u6709\u6548\u65e5\u671f!"}]},s.a.createElement(F,null)),s.a.createElement(D["a"].Item,{noStyle:!0,name:"taxRegNoIsLongTerm",valuePropName:"checked"},s.a.createElement(b["a"],null,"\u957f\u671f\u6709\u6548")))}))):"",s.a.createElement(D["a"].Item,{label:"\u4e1a\u52a1\u8054\u7cfb\u4eba\u59d3\u540d",name:"contactName",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4e1a\u52a1\u8054\u7cfb\u4eba\u59d3\u540d!"}]},s.a.createElement(p["a"],null)),s.a.createElement(D["a"].Item,{label:"\u529e\u516c\u7535\u8bdd",name:"phone",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u529e\u516c\u7535\u8bdd!"}]},s.a.createElement(p["a"],null)),s.a.createElement(D["a"].Item,{label:"\u624b\u673a\u53f7\u7801",name:"mobile",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801!"},{required:!1,pattern:new RegExp(/^1(3|4|5|6|7|8|9)\d{9}$/,"g"),message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7"}]},s.a.createElement(p["a"],null)),s.a.createElement(D["a"].Item,{label:"\u90ae\u7bb1",name:"email",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1!"},{pattern:/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1\u683c\u5f0f"}]},s.a.createElement(p["a"],null)),s.a.createElement(D["a"].Item,{label:"\u529e\u516c\u5730\u5740",name:"address",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u529e\u516c\u5730\u5740!"}]},s.a.createElement(p["a"],null)),s.a.createElement(D["a"].Item,{label:"\u7ecf\u8425\u8303\u56f4",name:"businessScope",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7ecf\u8425\u8303\u56f4!"}]},s.a.createElement(p["a"],null)),s.a.createElement(D["a"].Item,{wrapperCol:{offset:8,span:16}},s.a.createElement(m["a"],{type:"primary",htmlType:"submit"},"\u4fdd\u5b58")))))},z=P,Z=n["a"].TabPane,A=[{key:1,tab:"\u914d\u552e\u5bf9\u8c61\u4fe1\u606f\u7ef4\u62a4",component:i["default"]},{key:2,tab:"\u7ba1\u7406\u4eba\u4fe1\u606f\u7ef4\u62a4",component:c["default"]},{key:3,tab:"\u627f\u9500\u5546\u7528\u6237\u540d\u548c\u5bc6\u7801\u7ef4\u62a4",component:u["default"]},{key:4,tab:"\u673a\u6784\u4fe1\u606f\u7ef4\u62a4",component:z}],J=function(){return s.a.createElement(o["a"],null,s.a.createElement(r["a"],null,s.a.createElement(n["a"],null,A.map((function(e){return s.a.createElement(Z,{tab:e.tab,key:e.key},s.a.createElement(e.component,null))})))))};a["default"]=J}}]);