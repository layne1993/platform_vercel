(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[89],{Gb89:function(e,t,a){e.exports={tabsCard:"antd-pro-pages-transaction-info-order-list-index-tabsCard"}},WnAw:function(e,t,a){e.exports={container:"antd-pro-pages-transaction-info-order-list-components-list-container",header:"antd-pro-pages-transaction-info-order-list-components-list-header",filter:"antd-pro-pages-transaction-info-order-list-components-list-filter",btnGroup:"antd-pro-pages-transaction-info-order-list-components-list-btnGroup",showMore:"antd-pro-pages-transaction-info-order-list-components-list-showMore",dataTable:"antd-pro-pages-transaction-info-order-list-components-list-dataTable",operationBtn:"antd-pro-pages-transaction-info-order-list-components-list-operationBtn"}},"ZyK/":function(e,t,a){"use strict";a.r(t);a("IzEo");var n=a("bx4M"),r=a("fWQN"),s=a("mtLc"),o=a("yKVA"),l=a("879j"),i=a("Hx5s"),c=a("FRQA"),d=a("q1tI"),u=a.n(d),p=a("9kvl"),m=(a("g9YV"),a("wCAj")),f=(a("fOrg"),a("+KLJ")),h=(a("qVdP"),a("jsC+")),g=(a("lUTK"),a("BvKs")),E=a("0Owb"),b=(a("5NDa"),a("5rEg")),w=(a("2qtc"),a("kLXV")),y=(a("14J3"),a("BMrR")),C=(a("+L6B"),a("2/Rp")),v=(a("jCWc"),a("kPKH")),S=(a("ozfa"),a("MJZm")),k=a("PpiC"),O=a("k1fw"),I=(a("OaEy"),a("2fM7")),x=(a("y8nQ"),a("Vl3Y")),D=(a("iQDF"),a("+eQT")),N=(a("/xke"),a("TeRw")),L=(a("DZo9"),a("8z0m")),j=a("55Ip"),R=a("nT/m"),T=a("LtfV"),A=a("8Skl"),V=a("wd/R"),K=a.n(V),U=a("LvDl"),F=a("WnAw"),M=a.n(F),_=a("QWqi"),z=a("+n12"),B=L["a"].Dragger,H={labelCol:{xs:{span:8},sm:{span:8}},wrapperCol:{xs:{span:16},sm:{span:16}}},P=function(e,t,a,n,r){N["default"][e||"info"]({message:t,description:a,placement:n,duration:r||3})},Q="YYYY/MM/DD",W=(D["a"].RangePicker,x["a"].Item),Y=I["a"].Option,G=function(e){Object(o["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;Object(r["a"])(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s)),e.state={loading:!1,selectedRowKeys:[],pageData:{current:1,pageSize:20},checkedValues:[],showColumn:!1,columnsStandard:[],columnsValue:[],isShow:!1,confirmId:null,showUpload:!1,datasources:{list:[],total:"",pageNum:"",pageSize:"",pages:""},formValues:{},customerList:[],productList:[],trusteeshipList:[],trusteeship:void 0},e.getSignInfoList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.props.dispatch,n=e.state.pageData;a({type:"OrderList/SignConfirmList",payload:Object(O["a"])(Object(O["a"])({},t),n),callback:function(a){1008===a.code&&a.data?e.setState({datasources:a.data,formValues:t}):P("warning","\u63d0\u9192",a.message||"\u67e5\u8be2\u5931\u8d25")}})},e.formRef=u.a.createRef(),e.popUpRef=u.a.createRef(),e.columns=[{title:"\u4efd\u989d\u7c7b\u522b",dataIndex:"parentProductId",width:100,fixed:"left",render:function(e,t){return u.a.createElement("div",{style:{width:80}},e&&t.productName||"--")}},{title:"\u5ba2\u6237\u540d\u79f0",dataIndex:"customerName",width:150,ellipsis:!0,render:function(e,t){return u.a.createElement(j["a"],{to:"/investor/customerInfo/investordetails/".concat(t.customerId)},e)},fixed:"left"},{title:"\u4ea7\u54c1\u540d\u79f0",dataIndex:"productName",width:200,ellipsis:!0,render:function(e,t){return u.a.createElement(j["a"],{to:"/product/list/details/".concat(t.productId)},e)}},{title:"\u5f00\u653e\u65e5\u65e5\u671f",dataIndex:"openDay",width:120,render:function(e){return u.a.createElement("span",null,e||"--")}},{title:"\u4ea4\u6613\u7c7b\u578b",dataIndex:"flowType",width:100,render:function(e){return u.a.createElement("span",null,R["O"][e]||"--")}},{title:"\u4ea4\u6613\u989d",dataIndex:"tradeMoney",width:120,ellipsis:!0,render:function(e){return e||"--"}},{title:"\u8bc1\u4ef6\u53f7\u7801",dataIndex:"cardNumber",ellipsis:!0,width:120,render:function(e){return e||"--"}},{title:"\u94f6\u884c\u540d\u79f0",dataIndex:"bankName",width:140,ellipsis:!0,render:function(e){return e||"--"}},{title:"\u94f6\u884c\u8d26\u53f7",dataIndex:"accountNumber",width:140,ellipsis:!0,render:function(e){return e||"--"}},{title:"\u94f6\u884c\u6237\u540d",dataIndex:"accountName",width:140,ellipsis:!0,render:function(e){return e||"--"}},{title:"\u94f6\u884c\u7701\u4efd",dataIndex:"provice",width:140,ellipsis:!0,render:function(e,t){return u.a.createElement(u.a.Fragment,null,u.a.createElement("span",null,e),u.a.createElement("span",null,t.city))}},{title:"\u5f00\u6237\u884c\u540d\u79f0",dataIndex:"depositBankName",width:140,ellipsis:!0,render:function(e){return e||"--"}},{title:"\u7533\u8bf7\u65e5\u671f/\u5f00\u653e\u65e5",dataIndex:"applyTime",width:200,ellipsis:!0,sorter:!0,render:function(e){return e?K()(e).format(Q):"--"}}],e.getTrusteeship=function(){var t=e.props.dispatch;t({type:"OrderList/trusteeship",callback:function(t){1008===t.code?e.setState({trusteeshipList:t.data||[]}):P("warning","\u63d0\u9192",t.message||"\u67e5\u8be2\u5931\u8d25")}})},e.setTrusteeship=function(t){e.setState({trusteeship:t})},e._onFinish=function(t){var a=t.openDayDate,n=Object(k["a"])(t,["openDayDate"]),r={};r.openDayStartTime=a&&K()(a[0]).valueOf()||void 0,r.openDayEndTime=a&&K()(a[1]).valueOf()||void 0,e.state.pageData.pageNum=1,e.state.pageData.pageSize=20,e.getSignInfoList(Object(O["a"])(Object(O["a"])({},r),n)),e.setState({selectedRowKeys:[]})},e._reset=function(){e.state.pageData.pageNum=1,e.state.pageData.pageSize=20,e.formRef.current.resetFields(),e.getSignInfoList(),e.setState({selectedRowKeys:[]})},e._onSelectChange=function(t){e.setState({selectedRowKeys:t})},e._cleanSelectedKeys=function(){e.setState({selectedRowKeys:[]})},e.NotificationChange=function(t){e.setState({checkedValues:t})},e.handleFileChange=function(t){var a=t.file;if("uploading"!==a.status&&"removed"!==a.status&&"done"===a.status)if(1008===a.response.code)P("success","\u63d0\u9192","\u4e0a\u4f20\u6210\u529f"),e.handleOk(),e.getSignInfoList(e.formRef.current.getFieldsValue());else{var n=a.response.message||"\u4e0a\u4f20\u5931\u8d25";P("warning","\u63d0\u9192",n)}},e.bulkdownload=function(t){var a=e.state,n=(a.selectedRowKeys,a.trusteeship),r=e.formRef.current.getFieldsValue();Object(z["g"])({method:"post",url:"/signConfirm/export",data:Object(O["a"])(Object(O["a"])({},r),{},{trusteeship:n,signConfirmIds:t}),callback:function(e){var t=e.status,a=e.message,n=void 0===a?"\u5bfc\u51fa\u5931\u8d25\uff01":a;"success"===t&&P("success","\u63d0\u9192","\u5bfc\u51fa\u6210\u529f"),"error"===t&&P("error","\u63d0\u9192",n)}})},e.Columnmenu=function(){var t=e.state.columnsStandard,a=[],n=[];return t.map((function(e,t){a.push({title:e.title,key:t,checkbox:!0}),n.push(t)})),u.a.createElement(S["a"],{style:{width:"100%",paddingTop:20,border:"1px solid #ccc"},checkable:!0,defaultCheckedKeys:n,onCheck:e.HeadColumn,treeData:a})},e.HeadColumn=function(t,a){var n=a.checkedNodes,r=e.state.columnsStandard,s=[];r.forEach((function(e){n.forEach((function(t){t.title===e.title&&s.push(e)}))})),e.setState({columnsValue:s})},e.showColumn=function(){var t=e.state.showColumn;e.setState({showColumn:!t})},e.tableChange=function(t,a,n){e.state.formValues;e.state.pageData.pageNum=t.current,e.state.pageData.sortFiled=n&&n.field,e.state.pageData.sortType=n&&n.order&&("ascend"===n.order?"asc":"desc"),e.state.pageData.pageSize=t.pageSize,e.getSignInfoList(e.formRef.current.getFieldsValue())},e.switchHosting=function(e){},e.handleOk=function(t){e.setState({showUpload:!1})},e.handleCancel=function(t){e.setState({showUpload:!1})},e}return Object(s["a"])(a,[{key:"componentDidMount",value:function(){this.setState({columnsStandard:this.columns,columnsValue:this.columns}),this.getTrusteeship(),this.getSignInfoList()}},{key:"render",value:function(){var e=this,t=this.state,a=t.datasources,n=(t.pageData,t.selectedRowKeys),r=t.showColumn,s=t.columnsValue,o=(t.isShow,t.showUpload),l=(t.productList,t.customerList,t.trusteeshipList),i=t.trusteeship,c={selectedRowKeys:n,onChange:this._onSelectChange},p=this.props.loading;return u.a.createElement("div",{className:M.a.container},u.a.createElement(w["a"],{visible:o,closable:!1,footer:u.a.createElement(y["a"],null,u.a.createElement(v["a"],{span:6},u.a.createElement("a",{href:"".concat(window.location.origin).concat({baseUrl:"/sitvipmanager/",adminUrl:"/vip-manager",ASSSET_DOMIAN:"RESOURCE_PATH",AI:{AI_type:2},isSaas:2}.adminUrl,"/signConfirm/import/template?tokenId=").concat(Object(z["l"])("vipAdminToken"),"&trusteeship=").concat(i),download:!0},"\u7533\u8d4e\u4e0b\u5355\u6a21\u677f\u4e0b\u8f7d")),u.a.createElement(v["a"],{span:3,offset:10},u.a.createElement(C["a"],{type:"primary",onClick:this.handleOk},"\u5173\u95ed")))},u.a.createElement(B,{name:"file",action:"".concat({baseUrl:"/sitvipmanager/",adminUrl:"/vip-manager",ASSSET_DOMIAN:"RESOURCE_PATH",AI:{AI_type:2},isSaas:2}.adminUrl,"/signConfirm/import"),headers:{tokenId:Object(z["l"])("vipAdminToken")},data:{trusteeship:i},showUploadList:!1,accept:".xlsx, .xls",onChange:this.handleFileChange},u.a.createElement("p",{className:"ant-upload-drag-icon"},u.a.createElement(T["a"],null)),"\u70b9\u51fb\u5c06\u8868\u683c\u62d6\u62fd\u5230\u8fd9\u91cc\u4e0a\u4f20")),u.a.createElement("div",{className:M.a.filter},u.a.createElement(x["a"],Object(E["a"])({name:"basic",onFinish:this._onFinish,ref:this.formRef},H),u.a.createElement(y["a"],{gutter:[8,0]},u.a.createElement(v["a"],{span:8},u.a.createElement(W,{label:"\u5ba2\u6237\u59d3\u540d",name:"customerName"},u.a.createElement(b["a"],{placeholder:"\u8bf7\u8f93\u5165\u5ba2\u6237\u540d\u79f0"}))),u.a.createElement(v["a"],{span:8},u.a.createElement(W,{label:"\u5ba2\u6237\u7c7b\u578b",name:"customerType"},u.a.createElement(I["a"],{allowClear:!0,placeholder:"\u8bf7\u9009\u62e9\u5ba2\u6237\u7c7b\u578b"},R["Hb"].map((function(e,t){return u.a.createElement(Y,{key:t,value:e.value},e.label)}))))),u.a.createElement(v["a"],{span:8},u.a.createElement(W,{label:"\u8bc1\u4ef6\u53f7\u7801",name:"cardNumber"},u.a.createElement(b["a"],{allowClear:!0,placeholder:"\u8bf7\u8f93\u5165\u8bc1\u4ef6\u53f7\u7801"}))),u.a.createElement(v["a"],{span:8},u.a.createElement(W,{label:"\u94f6\u884c\u540d\u79f0",name:"bankName"},u.a.createElement(b["a"],{allowClear:!0,placeholder:"\u8bf7\u8f93\u5165\u94f6\u884c\u540d\u79f0"}))),u.a.createElement(v["a"],{span:8},u.a.createElement(_["b"],{params:"productIds",value:"productId",label:"productName",mode:"multiple",formLabel:"\u4ea7\u54c1\u540d\u79f0"})),u.a.createElement(v["a"],{span:8},u.a.createElement(_["a"],{assignment:this.formRef,label:"\u5f00\u653e\u65e5\u65e5\u671f",name:"openDayDate"}))),u.a.createElement(y["a"],{justify:"end"},u.a.createElement(v["a"],{span:6,offset:4,className:M.a.btnGroup},u.a.createElement(C["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),u.a.createElement(C["a"],{onClick:this._reset},"\u91cd\u7f6e"))))),u.a.createElement("div",{className:M.a.dataTable},u.a.createElement("div",{className:M.a.operationBtn},u.a.createElement(y["a"],null,u.a.createElement(v["a"],{span:12},this.props.authEdit&&u.a.createElement(C["a"],{type:"primary",disabled:!Boolean(i),onClick:function(){return e.setState({showUpload:!0})}},"\u6279\u91cf\u4e0a\u4f20"),this.props.authExport&&u.a.createElement(h["a"],{overlay:u.a.createElement(g["a"],null,u.a.createElement(g["a"].Item,{key:"1",disabled:!Boolean(i)||Object(U["isEmpty"])(n),onClick:function(){return e.bulkdownload(n)}},"\u5bfc\u51fa\u9009\u4e2d"),u.a.createElement(g["a"].Item,{key:"0",disabled:!Boolean(i),onClick:function(){return e.bulkdownload(void 0)}},"\u5bfc\u51fa\u5168\u90e8"))},u.a.createElement(C["a"],null,"\xa0\xa0\u6279\u91cf\u5bfc\u51fa",u.a.createElement(A["a"],null)))),u.a.createElement(v["a"],{span:12,style:{textAlign:"end"}},u.a.createElement("span",null,"\u9009\u62e9\u6258\u7ba1\uff1a"),u.a.createElement(I["a"],{allowClear:!0,placeholder:"\u8bf7\u9009\u62e9\u6258\u7ba1",showSearch:!0,style:{width:200,textAlign:"left"},onChange:this.setTrusteeship,filterOption:function(e,t){return t.children&&t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},l.map((function(e){return u.a.createElement(Y,{key:e.trusteeship,value:e.trusteeship},e.trusteeshipName)})))))),u.a.createElement(f["a"],{message:u.a.createElement(d["Fragment"],null,u.a.createElement(y["a"],null,u.a.createElement(v["a"],{span:20},"\u5df2\u9009\u62e9"," ",u.a.createElement("a",{style:{fontWeight:600}},n.length)," ","\u9879\xa0\xa0"),u.a.createElement(v["a"],{span:4},u.a.createElement(C["a"],{onClick:this.showColumn,style:{width:"100%"}},"\u5217\u8bbe\u7f6e ",u.a.createElement(A["a"],null)),u.a.createElement("div",{style:{position:"absolute",zIndex:999,width:"100%"}},r?this.Columnmenu():null)))),type:"info",showIcon:!0}),u.a.createElement(m["a"],{loading:p,rowSelection:c,columns:s,dataSource:a.list,rowKey:"signConfirmId",scroll:{x:"100%",scrollToFirstRowOnChange:!0},sticky:!0,pagination:Object(R["Sb"])(a.total,a.pageNum),onChange:function(t,a,n){return e.tableChange(t,a,n)}})))}}]),a}(d["PureComponent"]),J=Object(p["b"])((function(e){var t=e.OrderList,a=e.loading;return{OrderList:t,loading:a.effects["OrderList/SignConfirmList"]}}))(G),q=a("Gb89"),Z=a.n(q),X=function(e){Object(o["a"])(a,e);var t=Object(l["a"])(a);function a(e){var n;return Object(r["a"])(this,a),n=t.call(this,e),n.state={},n}return Object(s["a"])(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return u.a.createElement(i["a"],{title:"\u8ba4\u7533\u8d4e\u4e0b\u5355\u67e5\u8be2"},u.a.createElement(c["a"],{className:Z.a.tabsCard},u.a.createElement(n["a"],{bordered:!1},u.a.createElement(J,Object(z["o"])(10400)))))}}]),a}(d["Component"]);t["default"]=Object(p["b"])((function(e){e.Customerinfo;return{}}))(X)}}]);