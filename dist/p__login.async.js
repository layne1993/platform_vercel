(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[40],{Qddd:function(e,t,a){e.exports={main:"antd-pro-pages-login-style-main",loginBox:"antd-pro-pages-login-style-loginBox",pbutton:"antd-pro-pages-login-style-pbutton",input:"antd-pro-pages-login-style-input",content:"antd-pro-pages-login-style-content",button:"antd-pro-pages-login-style-button",icon:"antd-pro-pages-login-style-icon",other:"antd-pro-pages-login-style-other",register:"antd-pro-pages-login-style-register",modal:"antd-pro-pages-login-style-modal",ListHeader:"antd-pro-pages-login-style-ListHeader"}},gqXj:function(e,t,a){"use strict";a.r(t);a("2qtc");var n=a("kLXV"),r=(a("Mwp2"),a("VXEj")),o=(a("sRBo"),a("kaz8")),c=(a("5NDa"),a("5rEg")),i=(a("+L6B"),a("2/Rp")),l=a("k1fw"),s=(a("y8nQ"),a("Vl3Y")),u=a("tJVT"),m=(a("fOrg"),a("+KLJ"),a("/xke"),a("TeRw")),p=a("q1tI"),d=a.n(p),g=a("y0hu"),f=a("VTBJ"),b={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304z",fill:e}},{tag:"path",attrs:{d:"M232 840h560V536H232v304zm280-226a48.01 48.01 0 0128 87v53c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-53a48.01 48.01 0 0128-87z",fill:t}},{tag:"path",attrs:{d:"M484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z",fill:e}}]}},name:"lock",theme:"twotone"},h=b,v=a("6VBw"),y=function(e,t){return p["createElement"](v["a"],Object(f["a"])(Object(f["a"])({},e),{},{ref:t,icon:h}))};y.displayName="LockTwoTone";var O=p["forwardRef"](y),E={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M744 64H280c-35.3 0-64 28.7-64 64v768c0 35.3 28.7 64 64 64h464c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64zm-8 824H288V136h448v752z",fill:e}},{tag:"path",attrs:{d:"M288 888h448V136H288v752zm224-142c22.1 0 40 17.9 40 40s-17.9 40-40 40-40-17.9-40-40 17.9-40 40-40z",fill:t}},{tag:"path",attrs:{d:"M472 786a40 40 0 1080 0 40 40 0 10-80 0z",fill:e}}]}},name:"mobile",theme:"twotone"},j=E,w=function(e,t){return p["createElement"](v["a"],Object(f["a"])(Object(f["a"])({},e),{},{ref:t,icon:j}))};w.displayName="MobileTwoTone";var C=p["forwardRef"](w),x=a("9kvl"),N=(a("Znn+"),a("ZTPi")),S=a("oBTY");function I(e,t){return T(e)||k(e,t)||V(e,t)||L()}function T(e){if(Array.isArray(e))return e}function k(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done);n=!0)if(a.push(c.value),t&&a.length===t)break}catch(l){r=!0,o=l}finally{try{n||null==i["return"]||i["return"]()}finally{if(r)throw o}}return a}}function V(e,t){if(e){if("string"===typeof e)return z(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?z(e,t):void 0}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(e,t){var a=t||{},n=a.defaultValue,r=a.value,o=a.onChange,c=a.postState,i=d.a.useState((function(){return void 0!==r?r:void 0!==n?"function"===typeof n?n():n:"function"===typeof e?e():e})),l=I(i,2),s=l[0],u=l[1],m=void 0!==r?r:s;function p(e){u(e),m!==e&&o&&o(e,m)}return c&&(m=c(m)),[m,p]}var P=M,A=a("TSYQ"),R=a.n(A),U=Object(p["createContext"])({}),B=U,H=(a("14J3"),a("BMrR")),F=(a("jCWc"),a("kPKH")),q=a("0Owb"),J=a("9og8"),D=a("PpiC"),G=a("WmNS"),K=a.n(G),Q=a("QbLZ"),Y=a.n(Q);function X(e,t){for(var a=Y()({},e),n=0;n<t.length;n++){var r=t[n];delete a[r]}return a}var Z=X,$=(a("anxO"),{icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M477.5 536.3L135.9 270.7l-27.5-21.4 27.6 21.5V792h752V270.8L546.2 536.3a55.99 55.99 0 01-68.7 0z",fill:t}},{tag:"path",attrs:{d:"M876.3 198.8l39.3 50.5-27.6 21.5 27.7-21.5-39.3-50.5z",fill:t}},{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-94.5 72.1L512 482 190.5 232.1h643zm54.5 38.7V792H136V270.8l-27.6-21.5 27.5 21.4 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5h.1l39.3 50.5-27.7 21.5z",fill:e}}]}},name:"mail",theme:"twotone"}),W=$,_=function(e,t){return p["createElement"](v["a"],Object(f["a"])(Object(f["a"])({},e),{},{ref:t,icon:W}))};_.displayName="MailTwoTone";var ee=p["forwardRef"](_),te=a("mYKk"),ae=a.n(te),ne={UserName:{props:{size:"large",id:"userName",prefix:d.a.createElement(g["a"],{style:{color:"#1890ff"},className:ae.a.prefixIcon}),placeholder:"admin"},rules:[{required:!0,message:"Please enter username!"}]},Password:{props:{size:"large",prefix:d.a.createElement(O,{className:ae.a.prefixIcon}),type:"password",id:"password",placeholder:"888888"},rules:[{required:!0,message:"Please enter password!"}]},Mobile:{props:{size:"large",prefix:d.a.createElement(C,{className:ae.a.prefixIcon}),placeholder:"mobile number"},rules:[{required:!0,message:"Please enter mobile number!"},{pattern:/^1\d{10}$/,message:"Wrong mobile number format!"}]},Captcha:{props:{size:"large",prefix:d.a.createElement(ee,{className:ae.a.prefixIcon}),placeholder:"captcha"},rules:[{required:!0,message:"Please enter Captcha!"}]}},re=function(e,t,a,n,r){m["default"][e||"info"]({message:t,description:a,placement:n,duration:r||3})},oe=s["a"].Item,ce=function(e){var t=e.onChange,a=e.defaultValue,n=e.customProps,r=void 0===n?{}:n,o=e.rules,c={rules:o||r.rules};return t&&(c.onChange=t),a&&(c.initialValue=a),c},ie=function(e){var t=Object(p["useState"])(e.countDown||0),a=Object(u["a"])(t,2),n=a[0],r=a[1],o=Object(p["useState"])(!1),l=Object(u["a"])(o,2),s=l[0],m=l[1],g=(e.onChange,e.customProps),f=(e.defaultValue,e.rules,e.name),b=(e.getCaptchaButtonText,e.getCaptchaSecondText,e.updateActive,e.type),h=(e.tabUtil,e.getCompanyList),v=Object(D["a"])(e,["onChange","customProps","defaultValue","rules","name","getCaptchaButtonText","getCaptchaSecondText","updateActive","type","tabUtil","getCompanyList"]),y=Object(p["useCallback"])(Object(J["a"])(K.a.mark((function e(){return K.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:h();case 1:case"end":return e.stop()}}),e)}))),[1]);if(Object(p["useEffect"])((function(){m(e.timing)}),[e.timing]),Object(p["useEffect"])((function(){var t=0,a=e.countDown;return s&&(t=window.setInterval((function(){r((function(e){return e<=1?(m(!1),clearInterval(t),a||60):e-1}))}),1e3)),function(){return clearInterval(t)}}),[s]),!f)return null;var O=ce(e),E=v||{};if("Captcha"===b){var j=Z(E,["onGetCaptcha","countDown"]);return d.a.createElement(oe,{shouldUpdate:!0,noStyle:!0},(function(e){var t=e.getFieldValue,a=e.getFieldError;return d.a.createElement(H["a"],{gutter:8},d.a.createElement(F["a"],{span:16},d.a.createElement(oe,Object(q["a"])({name:f},O),d.a.createElement(c["a"],Object(q["a"])({},g,j)))),d.a.createElement(F["a"],{span:8},d.a.createElement(i["a"],{disabled:s,className:ae.a.getCaptcha,size:"large",onClick:function(){var e=a("mobile"),n=t("mobile");n&&e.length<1?y(n):re("error","\u63d0\u793a","\u8bf7\u8f93\u5165\u6b63\u786e\u624b\u673a\u53f7","topRight")}},s?"".concat(n," \u79d2"):"\u83b7\u53d6\u9a8c\u8bc1\u7801")))}))}return d.a.createElement(oe,Object(q["a"])({name:f},O),d.a.createElement(c["a"],Object(q["a"])({},g,E)))},le={};Object.keys(ne).forEach((function(e){var t=ne[e];le[e]=function(a){return d.a.createElement(B.Consumer,null,(function(n){return d.a.createElement(ie,Object(q["a"])({customProps:t.props,rules:t.rules},a,{type:e},n,{updateActive:n.updateActive}))}))}}));var se=le,ue=s["a"].Item,me=function(e){var t=e.className,a=Object(D["a"])(e,["className"]),n=R()(ae.a.submit,t);return d.a.createElement(ue,null,d.a.createElement(i["a"],Object(q["a"])({size:"large",className:n,type:"primary",htmlType:"submit"},a)))},pe=me,de=N["a"].TabPane,ge=function(){var e=0;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e+=1,"".concat(t).concat(e)}}(),fe=function(e){Object(p["useEffect"])((function(){var t=ge("login-tab-"),a=e.tabUtil;a&&a.addTab(t)}),[]);var t=e.children;return d.a.createElement(de,e,e.active&&t)},be=function(e){return d.a.createElement(B.Consumer,null,(function(t){return d.a.createElement(fe,Object(q["a"])({tabUtil:t.tabUtil},e))}))};be.typeName="LoginTab";var he=be,ve=function(e){var t=e.className,a=Object(p["useState"])([]),n=Object(u["a"])(a,2),r=n[0],o=n[1],c=Object(p["useState"])({}),i=Object(u["a"])(c,2),l=i[0],m=i[1],g=P("",{value:e.activeKey,onChange:e.onTabChange}),f=Object(u["a"])(g,2),b=f[0],h=f[1],v=[],y=[];return d.a.Children.forEach(e.children,(function(e){e&&("LoginTab"===e.type.typeName?v.push(e):y.push(e))})),d.a.createElement(B.Provider,{value:{tabUtil:{addTab:function(e){o([].concat(Object(S["a"])(r),[e]))},removeTab:function(e){o(r.filter((function(t){return t!==e})))}},updateActive:function(e){l&&(l[b]?l[b].push(e):l[b]=[e],m(l))}}},d.a.createElement("div",{className:R()(t,ae.a.login)},d.a.createElement(s["a"],{form:e.from,initialValues:e.initialValues,onFinish:function(t){e.onSubmit&&e.onSubmit(t)}},r.length?d.a.createElement(d.a.Fragment,null,d.a.createElement(N["a"],{animated:!1,className:ae.a.tabs,activeKey:b,onChange:function(e){h(e)}},v),y):e.children)))};ve.Tab=he,ve.Submit=pe,ve.UserName=se.UserName,ve.Password=se.Password,ve.Mobile=se.Mobile,ve.Captcha=se.Captcha;var ye=ve,Oe=a("gjeX"),Ee=a.n(Oe),je=a("+n12"),we=a("34ay"),Ce=a("Qddd"),xe=a.n(Ce),Ne=(ye.UserName,ye.Password,ye.Submit,ye.Mobile,ye.Captcha),Se=function(e,t,a,n,r){m["default"][e||"info"]({top:165,message:t,description:a,placement:n,duration:r||3})},Ie=function(e){var t=s["a"].useForm(),a=Object(u["a"])(t,1),m=a[0],f=e.getCustomer,b=e.submitting,h=Object(p["useState"])(!1),v=Object(u["a"])(h,2),y=v[0],E=v[1],j=Object(p["useState"])(!1),w=Object(u["a"])(j,2),x=w[0],N=w[1],S=Object(p["useState"])(!1),I=Object(u["a"])(S,2),T=I[0],k=I[1],V=Object(p["useState"])(!0),z=Object(u["a"])(V,2),L=z[0],M=z[1],P=Object(p["useState"])([]),A=Object(u["a"])(P,2),R=A[0],U=A[1],B=Object(p["useState"])(""),H=Object(u["a"])(B,2),F=H[0],q=H[1],J=Object(p["useState"])(!1),D=Object(u["a"])(J,2),G=D[0],K=D[1],Q=function(){var e=localStorage.getItem("hasRememberPassword"),t=!1;"1"===e&&(t=!0,m.setFieldsValue({email:localStorage.getItem("email")})),E(t),N(t)};Object(p["useEffect"])(Q,[]);var Y=function(e){E(y),N(e)},X=function(t){q(t);var a=e.dispatch,n=m.getFieldsValue();a({type:"LOGIN/getFakeCaptcha",payload:{companyCode:t,mobile:n.mobile},callback:function(e){1008===e.code&&(Se("success","\u63d0\u793a","\u9a8c\u8bc1\u7801\u53d1\u9001\u6210\u529f","topRight"),k(!1),K(!0))}})},Z=function(t){var a=e.dispatch,n=m.getFieldsValue();for(var r in n)n[r]=n[r]&&n[r].trim()||n[r];a({type:"LOGIN/login",payload:Object(l["a"])(Object(l["a"])({},n),{},{password:n.password&&Ee()(n.password),isChecked:y,loginType:L?1:2,companyCode:t}),callback:function(e){if(1008===e.code){var t=e.data||{},a=t.token,n=t.account,r=t.userName,o=t.companyCode,c=t.managerUserId,i=t.email,l=t.companyName,s=t.menuAuths,u=void 0===s?[]:s;sessionStorage.setItem("tokenId",a),Object(je["E"])("vipAdminToken",a),Object(je["E"])("account",n),Object(je["E"])("userName",r),Object(je["E"])("companyCode",o),Object(je["E"])("managerUserId",c),Object(je["E"])("email",i),Object(je["E"])("companyName",l),localStorage.setItem("email",i),localStorage.setItem("hasRememberPassword",0|x);var m={};u.map((function(e){m[e.menuCode]=Object(je["a"])(e)}));var p=Object(je["y"])(u);Object(we["b"])(p),sessionStorage.setItem("PERMISSION",JSON.stringify(m)),window.location.href="".concat({baseUrl:"/sitvipmanager/",adminUrl:"/vip-manager",ASSSET_DOMIAN:"RESOURCE_PATH",AI:{AI_type:2},isSaas:2}.baseUrl,"panel")}else if(L){var d=e.message||"\u8d26\u53f7\u6216\u5bc6\u7801\u9519\u8bef";Se("warning","\u63d0\u793a",d,"topRight")}else{var g=e.message||"\u624b\u673a\u53f7\u6216\u9a8c\u8bc1\u7801\u9519\u8bef";Se("warning","\u63d0\u793a",g,"topRight")}}})},$=function(){var t=e.dispatch,a=m.getFieldsValue();for(var n in a)a[n]=a[n]&&a[n].trim()||a[n];t({type:"LOGIN/getCompanies",payload:Object(l["a"])(Object(l["a"])({},a),{},{password:a.password&&Ee()(a.password),loginType:L?1:2}),callback:function(e){if(1008===e.code)if(0===e.data.length)Se("warning","\u63d0\u793a",L?"\u8d26\u53f7\u6216\u5bc6\u7801\u9519\u8bef":"\u624b\u673a\u53f7\u6216\u9a8c\u8bc1\u7801\u9519\u8bef","topRight");else if(1===e.data.length){var t=e.data[0]||{};L?Z(t.companyCode):X(t.companyCode)}else U(e.data),k(!0);else if(L){var a=e.message||"\u8d26\u53f7\u6216\u5bc6\u7801\u9519\u8bef";Se("warning","\u63d0\u793a",a,"topRight")}else{var n=e.message||"\u624b\u673a\u53f7\u6216\u9a8c\u8bc1\u7801\u9519\u8bef";Se("warning","\u63d0\u793a",n,"topRight")}}})},W=function(e){L?$():Z(F)},_=function(){e.dispatch;M(!L)};return d.a.createElement("div",{className:xe.a.main},d.a.createElement("div",{className:xe.a.loginBox},d.a.createElement("div",{className:xe.a.pbutton},d.a.createElement("p",null,"\u5efa\u8bae\u4f7f\u7528\u8c37\u6b4c\u6216360\u6d4f\u89c8\u5668"),d.a.createElement(i["a"],{className:xe.a.button,onClick:_},L?"\u624b\u673a\u767b\u5f55":"\u8d26\u53f7\u5bc6\u7801\u767b\u5f55")),d.a.createElement(s["a"],{form:m,onFinish:W},L&&d.a.createElement(d.a.Fragment,null,d.a.createElement(s["a"].Item,{name:"email",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u767b\u5f55\u90ae\u7bb1"}]},d.a.createElement(c["a"],{style:{height:"40px"},prefix:d.a.createElement(g["a"],{style:{color:"#1890ff"},className:xe.a.prefixIcon}),placeholder:"\u8bf7\u8f93\u5165\u767b\u5f55\u90ae\u7bb1..."})),d.a.createElement(s["a"].Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801\uff01"},{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[\s\S]{8,20}$/,message:"\u5bc6\u7801\u957f\u5ea68~20\u4f4d\uff0c\u5fc5\u987b\u5305\u542b\u5927\u5199\u5b57\u6bcd\u3001\u5c0f\u5199\u5b57\u6bcd\u548c\u6570\u5b57"}]},d.a.createElement(c["a"],{style:{height:"40px"},prefix:d.a.createElement(O,{className:xe.a.prefixIcon}),type:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801..."})),d.a.createElement(o["a"],{checked:x,onChange:function(e){return Y(e.target.checked)}},"\u8bb0\u4f4f\u8d26\u53f7")),!L&&d.a.createElement(d.a.Fragment,null,d.a.createElement(s["a"].Item,{name:"mobile",placeholder:"\u624b\u673a\u53f7",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\uff01"},{pattern:/^1\d{10}$/,message:"\u624b\u673a\u53f7\u683c\u5f0f\u9519\u8bef\uff01"}]},d.a.createElement(c["a"],{style:{height:"40px"},prefix:d.a.createElement(C,{className:xe.a.prefixIcon}),placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"})),d.a.createElement(Ne,{name:"verificationCode",placeholder:"\u9a8c\u8bc1\u7801",countDown:60,getCaptchaButtonText:"",getCaptchaSecondText:"\u79d2",timing:G,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801\uff01"}],getCompanyList:$})),d.a.createElement(i["a"],{style:{width:"100%",marginTop:"15px",height:"40px"},type:"primary",htmlType:"submit",loading:b||f},"\u767b\u5f55"))),d.a.createElement(n["a"],{className:xe.a.modal,title:"\u8bf7\u9009\u62e9\u767b\u5f55\u8d26\u53f7",visible:T,footer:null,keyboard:!1,maskClosable:!1,onCancel:function(){return k(!1)}},d.a.createElement(r["b"],{header:d.a.createElement("div",{className:xe.a.ListHeader},d.a.createElement("h3",null,"\u516c\u53f8\u540d\u79f0"),d.a.createElement("h3",null,"\u64cd\u4f5c")),dataSource:R,renderItem:function(e,t){return d.a.createElement(r["b"].Item,{style:{paddingLeft:20},className:"testAutomation-multiManager".concat(t)},d.a.createElement("div",null,e.companyName),d.a.createElement(i["a"],{type:"primary",onClick:function(){return L&&Z(e.companyCode)||X(e.companyCode)}},L?"\u767b\u5f55":"\u53d1\u9001\u9a8c\u8bc1\u7801"))}})))};t["default"]=Object(x["b"])((function(e){var t=e.login,a=e.loading;return{userLogin:t,submitting:a.effects["LOGIN/login"],getCustomer:a.effects["LOGIN/getCustomer"]}}))(Ie)},mYKk:function(e,t,a){e.exports={login:"antd-pro-pages-login-components-login-index-login",getCaptcha:"antd-pro-pages-login-components-login-index-getCaptcha",icon:"antd-pro-pages-login-components-login-index-icon",other:"antd-pro-pages-login-components-login-index-other",register:"antd-pro-pages-login-components-login-index-register",prefixIcon:"antd-pro-pages-login-components-login-index-prefixIcon",submit:"antd-pro-pages-login-components-login-index-submit"}}}]);