(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[30],{nYgN:function(e,t,a){"use strict";a.r(t);a("IzEo");var n=a("bx4M"),c=(a("qVdP"),a("jsC+")),r=(a("lUTK"),a("BvKs")),o=a("0Owb"),l=(a("14J3"),a("BMrR")),i=(a("+L6B"),a("2/Rp")),s=(a("jCWc"),a("kPKH")),m=(a("5NDa"),a("5rEg")),u=a("k1fw"),d=(a("y8nQ"),a("Vl3Y")),p=a("tJVT"),f=(a("/xke"),a("TeRw")),g=(a("OaEy"),a("2fM7")),E=a("q1tI"),b=a.n(E),v=a("9kvl"),N=a("8Skl"),y=a("Hx5s"),h=a("FRQA"),I=a("tQHx"),O=a("+n12"),j=a("tcI+"),w=a.n(j),k=g["a"].Option,x={labelCol:{span:6},wrapperCol:{span:18}},T={pageNum:1,pageSize:20},C=function(e,t,a,n,c){f["default"][e||"info"]({top:30,message:t,description:a,placement:n,duration:c||3})};function S(e){var t=[{title:"\u5ba2\u6237\u59d3\u540d",dataIndex:"customerName",width:210,render:function(e,t){return b.a.createElement("a",{onClick:function(){return W(t)}},e)||"--"}},{title:"\u5ba2\u6237\u8eab\u4efd\u8bc1",dataIndex:"cardNumber",align:"center",width:320,render:function(e){return e||"--"}},{title:"\u9605\u8bfb\u72b6\u6001",dataIndex:"confirmType",width:120,align:"center",render:function(e){return e?"\u5df2\u786e\u8ba4":"\u672a\u786e\u8ba4"}},{title:"\u9605\u8bfb\u65f6\u95f4",dataIndex:"readTime",width:120,align:"center",render:function(e){return e||"--"}},{title:"\u786e\u8ba4\u5df2\u9605\u8bfb\u65f6\u95f4",dataIndex:"createTime",width:120,align:"center",render:function(e){return e||"--"}}],a=sessionStorage.getItem("confirmInformation")||"{}",f=JSON.parse(a),j=Object(E["useState"])(T),S=Object(p["a"])(j,2),B=S[0],D=S[1],F=Object(E["useState"])({}),R=Object(p["a"])(F,2),V=R[0],q=R[1],A=Object(E["useState"])([]),J=Object(p["a"])(A,2),K=J[0],z=J[1],H=d["a"].useForm(),M=Object(p["a"])(H,1),Q=M[0],P={selectedRowKeys:K,onChange:function(e){return z(e)}},Y=function(){var t=e.dispatch,a=e.match,n=a||{},c=n.params,r=void 0===c?{}:c,o=Q.getFieldsValue();t({type:"confirmAnnouncementSettings/queryNoticeDetail",payload:Object(u["a"])(Object(u["a"])(Object(u["a"])({},o),B),{},{contraintNoticeId:r.id}),callback:function(e){if(1008===e.code){var t=e.data||{},a=t.list,n=void 0===a?[]:a,c=t.total;q({list:n,total:c})}else C("warning","\u63d0\u793a\uff08\u4ee3\u7801\uff1a".concat(e.code,"\uff09"),"".concat(e.message?e.message:"\u83b7\u53d6\u6570\u636e\u5931\u8d25!"),"topRight")}})},L=function(e,t,a){D(Object(u["a"])(Object(u["a"])({},B),{},{pageNum:e.current,pageSize:e.pageSize}))},U=function(){D(T),Y()},W=function(e){v["c"].push("/investor/customerInfo/investordetails/".concat(e.customerId))},G=function(){Q.setFieldsValue({customerName:"",cardNumber:"",confirmType:null}),Y()},X=function(){var t=e.match,a=t||{},n=a.params,c=void 0===n?{}:n;Object(O["g"])({method:"post",url:"/contraintNotice/allExport",data:{exportAll:!1,contraintNoticeId:c.id,applyIds:K},callback:function(e){var t=e.status,a=e.message,n=void 0===a?"\u5bfc\u51fa\u5931\u8d25\uff01":a;"success"===t&&C("success","\u63d0\u9192","\u5bfc\u51fa\u6210\u529f"),"error"===t&&C("error","\u63d0\u9192",n)}})},Z=function(){var t=e.match,a=t||{},n=a.params,c=void 0===n?{}:n,r=Q.getFieldsValue();Object(O["g"])({method:"post",url:"/contraintNotice/allExport",data:Object(u["a"])(Object(u["a"])({},r),{},{exportAll:!0,contraintNoticeId:c.id}),callback:function(e){var t=e.status,a=e.message,n=void 0===a?"\u5bfc\u51fa\u5931\u8d25\uff01":a;"success"===t&&C("success","\u63d0\u9192","\u5bfc\u51fa\u6210\u529f"),"error"===t&&C("error","\u63d0\u9192",n)}})};return Object(E["useEffect"])((function(){Y()}),[B]),b.a.createElement(y["a"],{title:"\u5f3a\u5236\u786e\u8ba4\u6587\u4ef6"},b.a.createElement(h["a"],null,b.a.createElement(n["a"],null,b.a.createElement("div",{className:w.a.confirmationDocument},b.a.createElement("h1",null,f.noticeName||"--"),b.a.createElement("div",{className:w.a.documentTips},b.a.createElement("p",null,"\u5f3a\u5236\u9605\u8bfb",f.readTime||"--","s"),b.a.createElement("p",null,"\u5df2\u786e\u8ba4",f.confirmCount||"--","\u4eba"),b.a.createElement("p",null,"\u672a\u786e\u8ba4",f.noConfirmCount||"--","\u4eba")),b.a.createElement(d["a"],Object(o["a"])({},x,{form:Q,onFinish:U}),b.a.createElement(l["a"],{gutter:24},b.a.createElement(s["a"],{span:6},b.a.createElement(d["a"].Item,{label:"\u5ba2\u6237\u540d\u79f0:",name:"customerName"},b.a.createElement(m["a"],{placeholder:"\u8bf7\u8f93\u5165"}))),b.a.createElement(s["a"],{span:6},b.a.createElement(d["a"].Item,{label:"\u5ba2\u6237\u8eab\u4efd\u8bc1:",name:"cardNumber"},b.a.createElement(m["a"],{placeholder:"\u8bf7\u8f93\u5165"}))),b.a.createElement(s["a"],{span:6,className:w.a.questionType},b.a.createElement(d["a"].Item,{label:"\u786e\u8ba4\u72b6\u6001:",name:"confirmType"},b.a.createElement(g["a"],{placeholder:"\u8bf7\u9009\u62e9",allowClear:!0},b.a.createElement(k,{value:0},"\u672a\u786e\u8ba4"),b.a.createElement(k,{value:1},"\u5df2\u786e\u8ba4")))),b.a.createElement(s["a"],{span:6,className:w.a.btns},b.a.createElement(i["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),b.a.createElement(i["a"],{htmlType:"button",className:w.a.resetBtn,onClick:G},"\u91cd\u7f6e")))),b.a.createElement("div",null,b.a.createElement("div",null,b.a.createElement(c["a"],{overlay:b.a.createElement(r["a"],null,b.a.createElement(r["a"].Item,{key:"1",disabled:0===K.length,onClick:X},"\u5bfc\u51fa\u9009\u4e2d"),b.a.createElement(r["a"].Item,{key:"0",onClick:Z},"\u5bfc\u51fa\u5168\u90e8"))},b.a.createElement(i["a"],null,"\xa0\xa0\u6279\u91cf\u5bfc\u51fa",b.a.createElement(N["a"],null)))),b.a.createElement(I["a"],{loading:Boolean(e.loading),columns:t,dataSource:V.list||[],total:V.total,pageNum:B.pageNum,scroll:{x:"100%"},sticky:!0,onChange:function(e,t,a){return L(e,t,a)},rowSelection:P,rowKey:"customerId"}))))))}t["default"]=Object(v["b"])((function(e){var t=e.loading;return{loading:t.effects["confirmAnnouncementSettings/queryNoticeDetail"]}}))(S)},"tcI+":function(e,t,a){e.exports={confirmationDocument:"antd-pro-pages-information-disclosure-confirm-announcement-settings-confirmation-document-styles-confirmationDocument",documentTips:"antd-pro-pages-information-disclosure-confirm-announcement-settings-confirmation-document-styles-documentTips",btns:"antd-pro-pages-information-disclosure-confirm-announcement-settings-confirmation-document-styles-btns",resetBtn:"antd-pro-pages-information-disclosure-confirm-announcement-settings-confirmation-document-styles-resetBtn"}}}]);