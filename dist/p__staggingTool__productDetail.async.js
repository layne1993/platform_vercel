(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[85],{"B/hl":function(e,t,a){"use strict";a.r(t);a("IzEo");var n=a("bx4M"),r=(a("g9YV"),a("wCAj")),c=a("9og8"),l=a("tJVT"),i=(a("OaEy"),a("2fM7")),o=a("WmNS"),u=a.n(o),s=a("q1tI"),p=a.n(s),d=(a("+L6B"),a("2/Rp")),m=(a("/zsF"),a("PArb")),f=(a("miYZ"),a("tsqr")),g=(a("2qtc"),a("kLXV")),v=a("AEkp");function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v["a"].post("/staggingnew/lp/query?productId=".concat(e),t)}function b(e,t){return v["a"].getBasicInfo("/stager/getStaggingProductBaseInfo?id=".concat(e),t)}function E(e){return v["a"].postJSON("/stager/saveStaggingProductBaseInfo",e)}function y(e){return v["a"].postJSON("/staggingnew/lp/level/queryLpList",e)}function O(e){return v["a"].postJSON("/staggingnew/lp/privateMoney",e)}function w(e){return v["a"].postJSON("/staggingnew/lp/cardType",e)}function x(e){return v["a"].postJSON("/staggingnew/lp/investAmountType",e)}function S(e){return v["a"].postJSON("/staggingnew/lp/lpInvestType",e)}function j(e){return v["a"].postJSON("/staggingnew/lp/level/create",e)}function I(e){return v["a"].postJSON("/staggingnew/lp/level/edit",e)}function k(e){return v["a"].postJSON("/staggingnew/lp/level/delete",e)}function C(e){return v["a"].postMultipart("/staggingnew/allImport",e)}i["a"].Option;var N=function(e){var t=e.layer,a=e.bizKey,n=e.productId,i=(e.amountTypeList,e.joinTypeList,e.refreshList),o=e.isVisible,v=e.onCancel,h=e.onCreateOrEdit,b=e.onMaintain,E=e.onDelete,O=Object(s["useState"])(!1),w=Object(l["a"])(O,2),x=w[0],S=(w[1],Object(s["useState"])([])),j=Object(l["a"])(S,2),I=j[0],C=j[1],N=Object(s["useCallback"])(Object(c["a"])(u.a.mark((function e(){var t;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y({parentId:a,productId:n});case 2:t=e.sent,t&&1008===t.code&&C(t.data);case 4:case"end":return e.stop()}}),e)}))),[a,n]),T=Object(s["useCallback"])((function(e){var t=e.id;g["a"].confirm({title:"\u662f\u5426\u5220\u9664\u8be5\u51fa\u8d44\u65b9\uff1f",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){var e=Object(c["a"])(u.a.mark((function e(){var a;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k({id:t});case 2:a=e.sent,console.log(a),1008===a.code?(f["default"].success("\u5220\u9664\u6210\u529f"),N(),E()):f["default"].error(a.msg||"\u5220\u9664\u5931\u8d25");case 5:case"end":return e.stop()}}),e)})));function a(){return e.apply(this,arguments)}return a}()})}),[N]),J=[{title:"\u51fa\u8d44\u65b9\u540d\u79f0",dataIndex:"lpName",align:"center",width:100,fixed:"left"},{title:"\u662f\u5426\u4e3a\u81ea\u6709\u8d44\u91d1",dataIndex:"isPrivateMoney",align:"center",width:80,fixed:"left",render:function(e,t){return 1===e?"\u662f":"\u5426"}},{title:"\u4e3a\u914d\u552e\u5bf9\u8c61\u7684\u7b2c\u51e0\u5c42\u51fa\u8d44\u65b9",dataIndex:"level",width:100,align:"center"},{title:"\u51fa\u8d44\u65b9\u8eab\u4efd\u8bc1\u660e\u53f7\u7801\uff08\u7ec4\u7ec7\u673a\u6784\u4ee3\u7801\u8bc1\u53f7/\u8eab\u4efd\u8bc1\u53f7\uff09",dataIndex:"cardNumber",width:200,align:"center"},{title:"\u51fa\u8d44\u4efd\u989d",dataIndex:"amount",width:100,align:"center"},{title:"\u64cd\u4f5c",dataIndex:"action",align:"center",width:200,fixed:"right",render:function(e,t){var a=t.isPrivateMoney;return p.a.createElement(p.a.Fragment,null,0===a&&p.a.createElement("span",{style:{color:"#3D7FFF",cursor:"pointer"},onClick:function(){return b(t)}},"\u7ef4\u62a4",t.level+1,"\u5c42\u51fa\u8d44\u65b9"),0===a&&p.a.createElement(m["a"],{type:"vertical"}),"0"===t.isSysData&&p.a.createElement(p.a.Fragment,null,p.a.createElement("span",{style:{color:"#3D7FFF",cursor:"pointer"},onClick:function(){return h(t)}},"\u7f16\u8f91"),p.a.createElement(m["a"],{type:"vertical"}),p.a.createElement("span",{style:{color:"#3D7FFF",cursor:"pointer"},onClick:function(){return T(t)}},"\u5220\u9664")))}}];return Object(s["useEffect"])((function(){N()}),[N]),Object(s["useEffect"])((function(){i&&N()}),[N,i]),p.a.createElement(g["a"],{title:"\u8bf7\u7ef4\u62a4\u7b2c".concat(t,"\u5c42\u51fa\u8d44\u65b9"),width:"80%",visible:o,onCancel:v,footer:!1},p.a.createElement(r["a"],{style:{marginBottom:"40px"},columns:J,dataSource:I,loading:x,pagination:!1,scroll:{x:"100%"},rowKey:"id"}),p.a.createElement(d["a"],{type:"primary",style:{float:"right",marginTop:"-20px"},onClick:function(){return h()}},"\u65b0\u589e\u51fa\u8d44\u65b9"))},T=N,J=(a("5NDa"),a("5rEg")),A=a("k1fw"),F=(a("y8nQ"),a("Vl3Y")),z=a("LvDl"),D=i["a"].Option,L=function(e){var t=e.layer,a=e.bizKey,n=e.productId,r=e.cardTypeList,o=e.amountTypeList,d=e.joinTypeList,m=e.isVisible,v=e.isEdit,h=e.editData,b=e.onConfirm,E=e.onCancel,y=F["a"].useForm(),O=Object(l["a"])(y,1),w=O[0],x=Object(s["useCallback"])(Object(c["a"])(u.a.mark((function e(){var r,c,l;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,w.validateFields();case 2:if(r=e.sent,c=h.id,v){e.next=10;break}return e.next=7,j(Object(A["a"])({productId:n,parentId:a,level:t},r));case 7:l=e.sent,e.next=13;break;case 10:return e.next=12,I(Object(A["a"])({id:c,productId:n,parentId:a,level:t},r));case 12:l=e.sent;case 13:1008===l.code?(f["default"].success(v?"\u7f16\u8f91\u6210\u529f":"\u6dfb\u52a0\u6210\u529f"),b()):f["default"].error(l.msg||"\u4fdd\u5b58\u5931\u8d25");case 14:case"end":return e.stop()}}),e)}))),[a,h,w,v,t,b,n]);return Object(s["useEffect"])((function(){v&&setTimeout((function(){w.setFieldsValue(h)}),500)}),[h,w,v]),p.a.createElement(g["a"],{title:v?"\u51fa\u8d44\u65b9\u57fa\u672c\u4fe1\u606f\u7f16\u8f91":"\u6dfb\u52a0\u7b2c".concat(t,"\u5c42\u51fa\u8d44\u65b9"),width:"50%",visible:m,onCancel:E,onOk:Object(z["debounce"])(x,500)},p.a.createElement(F["a"],{form:w,labelCol:{span:9},wrapperCol:{span:16}},p.a.createElement(F["a"].Item,{label:"\u51fa\u8d44\u65b9\u540d\u79f0",name:"lpName",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u51fa\u8d44\u65b9\u540d\u79f0!"}]},p.a.createElement(J["a"],{placeholder:"\u8bf7\u8f93\u5165\u51fa\u8d44\u65b9\u540d\u79f0"})),p.a.createElement(F["a"].Item,{label:"\u914d\u552e\u5bf9\u8c61",name:"buyConfigType",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u914d\u552e\u5bf9\u8c61!"}]},p.a.createElement(i["a"],{allowClear:!0},p.a.createElement(i["a"].Option,{value:1},"\u57fa\u91d1\u516c\u53f8\u6216\u5176\u8d44\u4ea7\u7ba1\u7406\u5b50\u516c\u53f8\u4e00\u5bf9\u591a\u4e13\u6237\u7406\u8d22\u4ea7\u54c1"),p.a.createElement(i["a"].Option,{value:2},"\u79c1\u52df\u57fa\u91d1"),p.a.createElement(i["a"].Option,{value:3},"\u8bc1\u5238\u516c\u53f8\u96c6\u5408\u8d44\u4ea7\u7ba1\u7406\u8ba1\u5212"))),p.a.createElement(F["a"].Item,{label:"\u662f\u5426\u4e3a\u81ea\u6709\u8d44\u91d1",name:"isPrivateMoney",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u662f\u5426\u4e3a\u81ea\u6709\u8d44\u91d1!"}]},p.a.createElement(i["a"],{placeholder:"\u8bf7\u9009\u62e9",allowClear:!0},p.a.createElement(D,{value:1},"\u662f"),p.a.createElement(D,{value:0},"\u5426"))),p.a.createElement(F["a"].Item,{label:"\u4e3a\u914d\u552e\u5bf9\u8c61\u7b2c\u51e0\u5c42\u51fa\u8d44\u65b9",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4e3a\u914d\u552e\u5bf9\u8c61\u7b2c\u51e0\u5c42\u51fa\u8d44\u65b9!"}]},p.a.createElement(J["a"],{disabled:!0,value:t,placeholder:"\u8bf7\u8f93\u5165\u4e3a\u914d\u552e\u5bf9\u8c61\u7b2c\u51e0\u5c42\u51fa\u8d44\u65b9"})),p.a.createElement(F["a"].Item,{label:"\u51fa\u8d44\u65b9\u8eab\u4efd\u8bc1\u660e\u7c7b\u578b",name:"cardType",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u51fa\u8d44\u65b9\u8eab\u4efd\u8bc1\u660e\u7c7b\u578b!"}]},p.a.createElement(i["a"],{placeholder:"\u8bf7\u9009\u62e9",allowClear:!0},r.map((function(e,t){return p.a.createElement(D,{key:t,value:e.value},e.label)})))),p.a.createElement(F["a"].Item,{label:"\u51fa\u8d44\u65b9\u8eab\u4efd\u8bc1\u660e\u53f7",name:"cardNumber",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u51fa\u8d44\u65b9\u8eab\u4efd\u8bc1\u660e\u53f7!"}]},p.a.createElement(J["a"],{placeholder:"\u8bf7\u8f93\u5165\u51fa\u8d44\u65b9\u8eab\u4efd\u8bc1\u660e\u53f7"})),p.a.createElement(F["a"].Item,{label:"\u51fa\u8d44\u4efd\u989d",name:"amount",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u51fa\u8d44\u4efd\u989d!"}]},p.a.createElement(J["a"],{placeholder:"\u8bf7\u8f93\u5165\u51fa\u8d44\u4efd\u989d"})),p.a.createElement(F["a"].Item,{label:"\u8d44\u91d1\u7c7b\u578b",name:"investAmountType",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8d44\u91d1\u7c7b\u578b!"}]},p.a.createElement(i["a"],{placeholder:"\u8bf7\u9009\u62e9",allowClear:!0},o.map((function(e,t){return p.a.createElement(D,{key:t,value:e.value},e.label)})))),p.a.createElement(F["a"].Item,{label:"\u53c2\u4e0e\u7c7b\u578b",name:"lpInvestType",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u53c2\u4e0e\u7c7b\u578b!"}]},p.a.createElement(i["a"],{placeholder:"\u8bf7\u9009\u62e9",allowClear:!0},d.map((function(e,t){return p.a.createElement(D,{key:t,value:e.value},e.label)}))))))},M=L,V=(a("T2oS"),a("W9HT")),P=(a("DYRE"),a("zeV3")),q=(a("DZo9"),a("8z0m")),B=(a("14J3"),a("BMrR")),K=(a("jCWc"),a("kPKH")),R=(a("/xke"),a("TeRw")),W=a("9kvl"),Y=a("vPUc"),U=a.n(Y),H=a("+n12"),Z=function(e,t,a,n,r){R["default"][e||"info"]({top:165,message:t,description:a,placement:n||"topRight",duration:r||3})},Q=function(e){var t=e.id,a=Object(s["useState"])({}),n=Object(l["a"])(a,2),r=n[0],o=n[1],g=Object(s["useState"])(!1),v=Object(l["a"])(g,2),h=v[0],y=v[1],O=Object(s["useState"])(!1),w=Object(l["a"])(O,2),x=w[0],S=w[1],j=function(e){var t=JSON.parse(JSON.stringify(r));t.canApplyNewShare=e*=1,o(t)},I=function(e){var t=JSON.parse(JSON.stringify(r));t.lpInvestType=e*=1,o(t)},k=function(){W["c"].push({pathname:"/investor/shareInfoAdmin/share/shareInfo"})},N=Object(s["useCallback"])(Object(c["a"])(u.a.mark((function e(){var a,n;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return y(!0),e.next=3,b(t,"");case 3:a=e.sent,a&&1008==a.code&&(n=JSON.parse(JSON.stringify(a.data)),o(n),y(!1));case 5:case"end":return e.stop()}}),e)}))),[t]),T=function(){var e=Object(c["a"])(u.a.mark((function e(){var a,n;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={},a.shanghaiStockExchangeAccount=r.shanghaiStockExchangeAccount,a.shenzhenStockExchangeAccount=r.shenzhenStockExchangeAccount,a.productSacCode=r.productSacCode,a.productSacName=r.productSacName,a.canApplyNewShare=r.canApplyNewShare,a.lpInvestType=r.lpInvestType,null==a.shanghaiStockExchangeAccount&&(a.shanghaiStockExchangeAccount=""),null==a.shenzhenStockExchangeAccount&&(a.shenzhenStockExchangeAccount=""),null==a.productSacCode&&(a.productSacCode=""),null==a.productSacName&&(a.productSacName=""),a.productId=t,e.next=14,E(a);case 14:n=e.sent,1008==n.code&&(f["default"].success("\u4fdd\u5b58\u6210\u529f"),N());case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s["useEffect"])((function(){N()}),[N]);var A=function(){var e=Object(c["a"])(u.a.mark((function e(a){var n,r;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return S(!0),n=new window.FormData,console.log(a),n.append("file",a),n.append("productId",t),e.next=7,C(n);case 7:r=e.sent,1008===r.code?Z("success","\u63d0\u9192","\u4e0a\u4f20\u6210\u529f"):Z("warning","\u63d0\u793a\uff08\u4ee3\u7801\uff1a".concat(r.code,"\uff09"),r.message||"\u4e0a\u4f20\u5931\u8d25\uff01","topRight"),S(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){Object(H["g"])({method:"post",url:"/staggingnew/allExport",data:{productId:t},callback:function(e){var t=e.status;"success"===t&&Z("success","\u63d0\u9192","\u5bfc\u51fa\u6210\u529f"),"error"===t&&Z("error","\u63d0\u9192","\u5bfc\u51fa\u5931\u8d25\uff01")}})};return p.a.createElement("div",{className:U.a.productInfo},p.a.createElement(V["a"],{spinning:h},p.a.createElement("div",{className:U.a.title},"\u6253\u65b0\u6240\u9700\u57fa\u672c\u4fe1\u606f"),p.a.createElement(m["a"],{style:{margin:"12px 0"}}),p.a.createElement("div",{className:U.a.basicInfo},p.a.createElement(B["a"],{style:{marginBottom:"20px"}},p.a.createElement(K["a"],{span:8},p.a.createElement("p",null,"\u914d\u552e\u5bf9\u8c61\u8bc1\u5238\u8d26\u6237\u53f7\uff08\u6caa\u5e02\uff09"),p.a.createElement(J["a"],{style:{width:"80%"},value:r.shanghaiStockExchangeAccount,onChange:function(e){var t=e.target.value,a=JSON.parse(JSON.stringify(r));a.shanghaiStockExchangeAccount=t,o(a)},placeholder:"\u8bf7\u8f93\u5165"})),p.a.createElement(K["a"],{span:8},p.a.createElement("p",null,"\u914d\u552e\u5bf9\u8c61\u8bc1\u5238\u8d26\u6237\u53f7\uff08\u6df1\u5e02\uff09"),p.a.createElement(J["a"],{style:{width:"80%"},value:r.shenzhenStockExchangeAccount,onChange:function(e){var t=e.target.value,a=JSON.parse(JSON.stringify(r));a.shenzhenStockExchangeAccount=t,o(a)},placeholder:"\u8bf7\u8f93\u5165"})),p.a.createElement(K["a"],{span:8},p.a.createElement("p",null,"\u914d\u552e\u5bf9\u8c61\u8bc1\u5238\u4e1a\u534f\u4f1a\u5907\u6848\u7f16\u53f7"),p.a.createElement(J["a"],{style:{width:"80%"},value:r.productSacCode,onChange:function(e){var t=e.target.value,a=JSON.parse(JSON.stringify(r));a.productSacCode=t,o(a)},placeholder:"\u8bf7\u8f93\u5165"}))),p.a.createElement(B["a"],{style:{marginBottom:"20px"}},p.a.createElement(K["a"],{span:8},p.a.createElement("p",null,"\u914d\u552e\u5bf9\u8c61\u540d\u79f0"),p.a.createElement(J["a"],{style:{width:"80%"},value:r.productSacName,placeholder:"\u8bf7\u8f93\u5165",onChange:function(e){var t=e.target.value,a=JSON.parse(JSON.stringify(r));a.productSacName=t,o(a)}})),p.a.createElement(K["a"],{span:8},p.a.createElement("p",null,"\u662f\u5426\u5177\u6709\u914d\u552e\u5bf9\u8c61\u8d44\u8d28"),p.a.createElement(i["a"],{value:1==r.canApplyNewShare?"\u662f":"\u5426",style:{width:"80%"},onChange:j},p.a.createElement(i["a"].Option,{value:"1"},"\u662f"),p.a.createElement(i["a"].Option,{value:"0"},"\u5426"))),p.a.createElement(K["a"],{span:8},p.a.createElement("p",null,"\u53c2\u4e0e\u5e02\u573a"),p.a.createElement(i["a"],{placeholder:"\u8bf7\u9009\u62e9",value:r.lpInvestType||1,style:{width:"80%"},onChange:I},p.a.createElement(i["a"].Option,{value:1},"\u6caa\u5e02"),p.a.createElement(i["a"].Option,{value:2},"\u6df1\u5e02"),p.a.createElement(i["a"].Option,{value:3},"\u6caa\u5e02\u6df1\u5e02")))),p.a.createElement(B["a"],null,p.a.createElement(K["a"],{span:24,style:{textAlign:"center",marginBottom:"30px"}},p.a.createElement(d["a"],{type:"primary",onClick:T},"\u4fdd\u5b58")))),p.a.createElement("div",{className:U.a.title},"\u51fa\u8d44\u65b9\u57fa\u672c\u4fe1\u606f\u8868"),p.a.createElement(B["a"],{justify:"space-between"},p.a.createElement("div",{className:U.a.tip},p.a.createElement("span",{className:U.a.left},"\u6295\u8d44\u8005\u7684\u51fa\u8d44\u6bd4\u4f8b\uff0c\u4ece\u6295\u8d44\u8005\u7684\u4efd\u989d\u4f59\u989d\u81ea\u52a8\u83b7\u53d6\uff0c\u5982\u9700\u7ef4\u62a4\u6295\u8d44\u8005\u7684\u4efd\u989d\u4f59\u989d"),p.a.createElement("span",{className:U.a.right,onClick:k},"\u70b9\u51fb\u8df3\u8f6c")),p.a.createElement(P["b"],null,p.a.createElement(q["a"],{accept:".xlsx,.xls",beforeUpload:A,fileList:[]},p.a.createElement(d["a"],{type:"primary",loading:x},"\u6279\u91cf\u4e0a\u4f20")),p.a.createElement(d["a"],{onClick:F},"\u5bfc\u51fa\u5168\u90e8")))))},X=Q,G=a("aMJk"),$=a.n(G),_=i["a"].Option,ee=[{label:"\u57fa\u91d1\u516c\u53f8\u6216\u5176\u8d44\u4ea7\u7ba1\u7406\u5b50\u516c\u53f8\u4e00\u5bf9\u591a\u4e13\u6237\u7406\u8d22\u4ea7\u54c1",value:"1"},{label:"\u79c1\u52df\u57fa\u91d1",value:"2"},{label:"\u8bc1\u5238\u516c\u53f8\u96c6\u5408\u8d44\u4ea7\u7ba1\u7406\u8ba1\u5212",value:"3"}],te=Object(H["x"])(ee),ae=[{label:"\u662f",value:1},{label:"\u5426",value:0}],ne=Object(H["x"])(ae),re=function(e){var t=e.match.params,a=t.id,o=Object(s["useState"])([]),d=Object(l["a"])(o,2),m=d[0],f=d[1],g=Object(s["useState"])([]),v=Object(l["a"])(g,2),b=v[0],E=v[1],y=Object(s["useState"])([]),j=Object(l["a"])(y,2),I=j[0],k=j[1],C=Object(s["useState"])(!1),N=Object(l["a"])(C,2),J=N[0],A=N[1],F=Object(s["useState"])({}),z=Object(l["a"])(F,2),D=z[0],L=z[1],V=Object(s["useState"])(1),P=Object(l["a"])(V,2),q=P[0],B=P[1],K=Object(s["useState"])(null),R=Object(l["a"])(K,2),W=R[0],Y=R[1],U=Object(s["useState"])(null),Z=Object(l["a"])(U,2),Q=Z[0],G=Z[1],re=Object(s["useState"])(!1),ce=Object(l["a"])(re,2),le=ce[0],ie=ce[1],oe=Object(s["useState"])(!1),ue=Object(l["a"])(oe,2),se=ue[0],pe=ue[1],de=Object(s["useState"])(!1),me=Object(l["a"])(de,2),fe=me[0],ge=me[1],ve=Object(s["useState"])([]),he=Object(l["a"])(ve,2),be=he[0],Ee=he[1],ye=Object(s["useState"])(!1),Oe=Object(l["a"])(ye,2),we=Oe[0],xe=Oe[1],Se=Object(s["useCallback"])(Object(c["a"])(u.a.mark((function e(){var t;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return xe(!0),e.next=3,h(a);case 3:t=e.sent,xe(!1),t&&1008==t.code&&Ee(t.data);case 6:case"end":return e.stop()}}),e)}))),[a]),je=Object(s["useCallback"])(function(){var e=Object(c["a"])(u.a.mark((function e(t,a,n){var r,c,l,i,o,s,p,d,m;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.productId,c=t.bizKey,l=t.isPrivateMoney,i=t.lpInvestType,o=t.investAmountType,s=t.lpName,p=t.productSacType,xe(!0),d={productId:r,bizKey:c,isPrivateMoney:l,lpInvestType:i,investAmountType:o,lpName:s,buyConfigType:p},d[a]=n,e.next=6,O(d);case 6:m=e.sent,xe(!1),1008===m.code&&Ee(be.map((function(e){return e.bizKey===c&&(e[a]=n),e})));case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),[be]),Ie=Object(s["useCallback"])((function(e){var t=e.level,a=(e.id,e.cardNumber),n=e.bizKey,r=e.productId;pe(!0),B(t+1),Y(n||"".concat(t,"-").concat(a)),G(r)}),[]),ke=Object(s["useCallback"])((function(e){ge(!0),e?(L(e),A(!0)):(L({}),A(!1))}),[]),Ce=Object(s["useCallback"])((function(){ge(!1),ie(!0),ie(!1),Se()}),[Se]),Ne=[{title:"\u4ea7\u54c1\u540d\u79f0",dataIndex:"productName",align:"center",fixed:"left",width:200},{title:"\u914d\u552e\u5bf9\u8c61\u7c7b\u578b",dataIndex:"productSacType",align:"center",width:200,render:function(e,t){return"1"===t.isSysData?p.a.createElement(i["a"],{style:{width:150},defaultValue:e,onChange:function(e){return je(t,"buyConfigType",e)}},ee.map((function(e){return p.a.createElement(i["a"].Option,{key:e.value,value:e.value},e.label)}))):t.productId?te[e]:p.a.createElement(p.a.Fragment,null)}},{title:"\u5e8f\u53f7",dataIndex:"sortNo",align:"center",width:80},{title:"\u51fa\u8d44\u65b9\u540d\u79f0",dataIndex:"lpName",align:"center",width:150},{title:"\u662f\u5426\u4e3a\u81ea\u6709\u8d44\u91d1",dataIndex:"isPrivateMoney",align:"center",width:100,render:function(e,t){return"1"===t.isSysData?p.a.createElement(i["a"],{defaultValue:e,onChange:function(e){return je(t,"isPrivateMoney",e)}},ae.map((function(e){return p.a.createElement(i["a"].Option,{key:e.value,value:e.value},e.label)}))):t.productId?ne[e]:p.a.createElement(p.a.Fragment,null)}},{title:"\u8d44\u91d1\u7c7b\u578b",dataIndex:"investAmountType",align:"center",width:200,render:function(e,t){return"1"===t.isSysData?p.a.createElement(i["a"],{style:{width:"160px"},defaultValue:e,onChange:function(e){return je(t,"investAmountType",e)}},b.map((function(e,t){return p.a.createElement(_,{key:t,value:e.value},e.label)}))):t.productId?Object(H["x"])(b)[e]||"":p.a.createElement(p.a.Fragment,null)}},{title:"\u53c2\u4e0e\u7c7b\u578b",dataIndex:"lpInvestType",align:"center",width:200,render:function(e,t){return"1"===t.isSysData?p.a.createElement(i["a"],{style:{width:"120px"},defaultValue:e,onChange:function(e){return je(t,"lpInvestType",e)}},I.map((function(e,t){return p.a.createElement(_,{key:t,value:e.value},e.label)}))):t.productId?Object(H["x"])(I)[e]||"":p.a.createElement(p.a.Fragment,null)}},{title:"\u4e3a\u914d\u552e\u5bf9\u8c61\u7684\u7b2c\u51e0\u5c42\u51fa\u8d44\u65b9",dataIndex:"level",width:200,align:"center"},{title:"\u51fa\u8d44\u65b9\u8eab\u4efd\u8bc1\u660e\u53f7\u7801\uff08\u7ec4\u7ec7\u673a\u6784\u4ee3\u7801\u8bc1\u53f7/\u8eab\u4efd\u8bc1\u53f7\uff09",dataIndex:"cardNumber",width:200,align:"center"},{title:"\u51fa\u8d44\u6bd4\u4f8b\uff08%\uff09\u65b9\u5f0f\u4e00",dataIndex:"ratio1Percent",align:"center",width:200},{title:"\u51fa\u8d44\u6bd4\u4f8b\uff08%\uff09\u65b9\u5f0f\u4e8c",dataIndex:"ratio2Percent",align:"center",width:200},{title:"\u51fa\u8d44\u4efd\u989d",dataIndex:"tradeShare",align:"center",width:150},{title:"\u64cd\u4f5c",dataIndex:"action",align:"center",width:180,fixed:"right",render:function(e,t){return t.productId&&0===t.isPrivateMoney?p.a.createElement("span",{onClick:function(){return Ie(t)},style:{color:"#3D7FFF",cursor:"pointer"}},"\u7ef4\u62a4".concat(t.level+1,"\u5c42\u51fa\u8d44\u65b9")):p.a.createElement("span",null,"--")}}];return Object(s["useEffect"])((function(){var e=function(){var e=Object(c["a"])(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,w({});case 2:t=e.sent,1008===t.code&&(a=t.data||[],f(a.map((function(e){return{label:e.codeText,value:e.codeValue}}))));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(s["useEffect"])((function(){var e=function(){var e=Object(c["a"])(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x({});case 2:t=e.sent,1008===t.code&&(a=t.data||[],E(a.map((function(e){return{label:e.codeText,value:e.codeValue}}))));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(s["useEffect"])((function(){var e=function(){var e=Object(c["a"])(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S({});case 2:t=e.sent,1008===t.code&&(a=t.data||[],k(a.map((function(e){return{label:e.codeText,value:e.codeValue}}))));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(s["useEffect"])((function(){Se()}),[Se]),p.a.createElement(n["a"],{className:$.a.productWrapper},p.a.createElement(X,{id:a}),p.a.createElement(r["a"],{columns:Ne,dataSource:be,rowKey:function(e,t){return t},style:{marginBottom:"40px"},loading:we,pagination:!1,scroll:{x:"100%"}}),p.a.createElement(T,{layer:q,bizKey:W,productId:Q,amountTypeList:b,joinTypeList:I,isVisible:se,refreshList:le,onCreateOrEdit:ke,onMaintain:Ie,onCancel:function(){return pe(!1)},onDelete:function(){return Se()}}),p.a.createElement(M,{layer:q,bizKey:W,productId:Q,cardTypeList:m,amountTypeList:b,joinTypeList:I,isVisible:fe,isEdit:J,editData:D,onConfirm:Ce,onCancel:function(){return ge(!1)}}))};t["default"]=re},aMJk:function(e,t,a){e.exports={productWrapper:"antd-pro-pages-stagging-tool-product-detail-index-productWrapper"}},vPUc:function(e,t,a){e.exports={productInfo:"antd-pro-pages-stagging-tool-product-detail-components-product-info-index-productInfo",title:"antd-pro-pages-stagging-tool-product-detail-components-product-info-index-title",tip:"antd-pro-pages-stagging-tool-product-detail-components-product-info-index-tip",left:"antd-pro-pages-stagging-tool-product-detail-components-product-info-index-left",right:"antd-pro-pages-stagging-tool-product-detail-components-product-info-index-right"}}}]);