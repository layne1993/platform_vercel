(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[78],{F6gP:function(e,t,a){"use strict";a.r(t);a("T2oS");var n=a("W9HT"),r=(a("IzEo"),a("bx4M")),i=(a("+L6B"),a("2/Rp")),o=(a("DYRE"),a("zeV3")),l=(a("sRBo"),a("kaz8")),c=a("rAM+"),s=a("jrin"),u=(a("miYZ"),a("tsqr")),m=(a("7Kak"),a("9yH6")),d=(a("5NDa"),a("5rEg")),p=a("oBTY"),f=a("tJVT"),b=a("k1fw"),k=(a("fu2T"),a("gK9i")),v=(a("2qtc"),a("kLXV")),y=a("q1tI"),E=a.n(y),g=a("Hx5s"),h=a("VTBJ"),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},S=O,x=a("6VBw"),T=function(e,t){return y["createElement"](x["a"],Object(h["a"])(Object(h["a"])({},e),{},{ref:t,icon:S}))};T.displayName="PlusCircleOutlined";var N=y["forwardRef"](T),j=a("wlus"),C=a("wd/R"),L=a.n(C),R=a("9kvl"),w=a("yEr3"),I=a.n(w),B=(a("Lzxq"),a("xy6g")),J=a.n(B),V=a("MuoO"),M=a("LvDl"),q=a("+n12"),H=(a("14J3"),a("BMrR")),z=(a("giR+"),a("fyUT")),A=a("0Owb"),G=(a("/xke"),a("TeRw")),D=(a("y8nQ"),a("Vl3Y")),Y=D["a"].Item,F=function(e,t,a,n,r){G["default"][e||"info"]({top:165,message:t,description:a,placement:n,duration:r||3})},P=function(e){var t=e.isModalVisible,a=e.record,n=void 0===a?{}:a,r=e.onCancel,l=e.dispatch,c=e.onOk,s=D["a"].useForm(),u=Object(f["a"])(s,1),m=u[0],p=function(e){var t=Object(b["a"])(Object(b["a"])({},n),e);l({type:"risk/checkRiskStarRating",payload:Object(b["a"])({},t),callback:function(e){if(1008===e.code)c(t);else{var a=e.message||e.data||"\u4fdd\u5b58\u5931\u8d25\uff01";F("warning","\u63d0\u793a\uff08\u4ee3\u7801\uff1a".concat(e.code,"\uff09"),a,"topRight")}}})},k=function(){Array.isArray(n.starList)&&!Object(M["isEmpty"])(n.starList)?m.setFieldsValue({starList:n.starList}):m.setFieldsValue({starList:[{starLevel:"".concat(n.riskText,"\u4e00\u661f"),minScore:Number(n.minScore),maxScore:Number(n.maxScore)}]})};return Object(y["useEffect"])((function(){k()}),[n]),E.a.createElement(v["a"],{title:"\u98ce\u9669\u7b49\u7ea7\u661f\u7ea7\u7f16\u8f91-".concat(n.riskText),width:700,centered:!0,maskClosable:!1,visible:t,footer:null,onCancel:r,className:J.a.editStarModalWrapper},E.a.createElement(D["a"],{form:m,onFinish:p,autoComplete:"off"},E.a.createElement(D["a"].List,{name:"starList"},(function(e,t){var a=t.add,n=t.remove;return E.a.createElement(E.a.Fragment,null,e.map((function(t,r){return E.a.createElement(o["b"],{key:t.key,className:J.a.timeWrapper},E.a.createElement(Y,Object(A["a"])({},t,{label:"\u661f\u7ea7".concat(r+1),name:[t.name,"starLevel"],className:J.a.posOrCountdown}),E.a.createElement(d["a"],null)),E.a.createElement(Y,Object(A["a"])({},t,{label:"\u6700\u5c0f\u5206\u503c",name:[t.name,"minScore"],className:J.a.tradingDay}),E.a.createElement(z["a"],null)),E.a.createElement(Y,Object(A["a"])({},t,{label:"\u6700\u5927\u5206\u503c",name:[t.name,"maxScore"],className:J.a.tradingDay}),E.a.createElement(z["a"],null)),E.a.createElement(o["b"],{className:J.a.btnGroup},E.a.createElement(N,{className:J.a.addIcon,onClick:function(){a()}}),e.length>1?E.a.createElement(j["a"],{className:J.a.delIcon,onClick:function(){return n(t.name)}}):null))})))})),E.a.createElement(H["a"],{justify:"end",style:{marginTop:20}},E.a.createElement(o["b"],null,E.a.createElement(i["a"],{type:"primary",htmlType:"submit"},"\u63d0\u4ea4"),E.a.createElement(i["a"],{onClick:r},"\u53d6\u6d88")))))},U=Object(R["b"])((function(e){var t=e.risk;return{risk:t}}))(P),W=v["a"].confirm,Q=k["a"].Panel,K=function(e){var t=Object(q["o"])(50200),a=t.authEdit,v=function(e,t){T.options[t].optionText=e.target.value,C(Object(b["a"])({},T))},h=function(e){C(Object(b["a"])(Object(b["a"])({},T),{},{titleText:e.target.value}))},O=function(e,t){if("add"===t)return T.options.splice(e+1,0,{optionText:""}),T.options.forEach((function(e,t){e.optionValue=t+1})),void C(Object(b["a"])({},T));1!==T.options.length&&(T.options.splice(e,1),T.options.forEach((function(e,t){e.optionValue=t+1})),C(Object(b["a"])({},T)))},S=Object(y["useState"])({}),x=Object(f["a"])(S,2),T=x[0],C=x[1],w=Object(y["useState"])([]),B=Object(f["a"])(w,2),V=B[0],H=B[1],z=Object(y["useState"])([]),A=Object(f["a"])(z,2),G=A[0],D=A[1],Y=Object(y["useState"])(""),F=Object(f["a"])(Y,2),P=(F[0],F[1],Object(y["useState"])(!1)),K=Object(f["a"])(P,2),X=K[0],Z=K[1],$=Object(y["useState"])({}),_=Object(f["a"])($,2),ee=_[0],te=_[1],ae=Object(y["useState"])({}),ne=Object(f["a"])(ae,2),re=ne[0],ie=ne[1],oe=Object(y["useState"])({}),le=Object(f["a"])(oe,2),ce=le[0],se=le[1],ue=Object(y["useState"])(!1),me=Object(f["a"])(ue,2),de=me[0],pe=me[1],fe=Object(y["useState"])({}),be=Object(f["a"])(fe,2),ke=be[0],ve=be[1],ye=function(e,t){t.stopPropagation(),W({title:"\u662f\u5426\u786e\u5b9a\u5220\u9664\u8be5\u95ee\u9898",onOk:function(){V.splice(e,1),H(Object(p["a"])(V))}})},Ee=function(e){return E.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},E.a.createElement("span",null,"\u95ee\u9898".concat(e+1)),V.length>1&&a&&!X?E.a.createElement("span",{style:{cursor:"pointer",color:"#1890ff"},onClick:function(t){return ye(e,t)}},"\u5220\u9664"):null)},ge=function(){return V.map((function(e,t){return E.a.createElement("div",{key:t},E.a.createElement(k["a"],null,E.a.createElement(Q,{header:Ee(t),key:t},E.a.createElement("div",{className:J.a.configBox2},E.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:16}},E.a.createElement("div",{style:{display:"flex",alignItems:"center",width:450,paddingRight:20}},E.a.createElement("span",{style:{width:80,textAlign:"right"}},"\u95ee\u9898",t+1,"\uff1a"),E.a.createElement(d["a"],{disabled:X,value:e.titleText,onInput:function(e){return Oe(t,"titleText",e.target.value)}})),E.a.createElement("div",null,E.a.createElement("span",null,"\u6700\u5927\u5206\u6570\uff1a"),E.a.createElement(d["a"],{type:"number",disabled:X,value:e.maxScore,onInput:function(e){return Oe(t,"maxScore",e.target.value)},style:{marginRight:50,width:80},onBlur:function(){return xe(e)}})),E.a.createElement("div",null,E.a.createElement("span",null,"\u9009\u9879\u7c7b\u578b\uff1a"),E.a.createElement(m["a"].Group,{disabled:X,value:e.multipleChoice,style:{marginRight:50,textAlign:"left"},onChange:function(e){return Oe(t,"multipleChoice",e.target.value)}},E.a.createElement(m["a"],{value:!1},"\u5355\u9009"),E.a.createElement(m["a"],{value:!0},"\u591a\u9009")))),(e.options||[]).map((function(a,n){return E.a.createElement("div",{className:J.a.item,key:n},E.a.createElement("span",null,"\u9009\u9879",n+1,"\uff1a"),E.a.createElement(d["a"],{disabled:X,value:a.optionText,onInput:function(e){return Se(t,n,"optionText",e.target.value)}}),E.a.createElement("div",{className:J.a.score},E.a.createElement("span",null,"\u5206\u503c\uff1a"),E.a.createElement(d["a"],{type:"number",disabled:X,value:a.score,onChange:function(e){return Se(t,n,"score",e.target.value)},onBlur:function(){return Te(e,a)}})),E.a.createElement("div",{className:J.a.iconG,style:{visibility:X?"hidden":"unset"}},E.a.createElement(N,{style:{fontSize:20,paddingRight:5,paddingLeft:5,color:"#1890ff"},onClick:function(){Ne(t,n,"add")}}),E.a.createElement(j["a"],{style:{fontSize:20,color:"#ff4d4f"},onClick:function(){Ne(t,n,"remove")}})))}))))))}))},he=function(){V.push({titleText:"\u95ee\u9898",multipleChoice:!1,options:[{score:"0",optionText:"",check:!1}]}),H(Object(p["a"])(V))},Oe=function(e,t,a){"maxScore"===t&&(a=Number(a)<0?0:a),a="boolean"===typeof a?a:String(a),V[e][t]=a,H(Object(p["a"])(V))},Se=function(e,t,a,n){"score"===a&&(n=Number(n)<0?0:n),V[e].options[t][a]=n,H(Object(p["a"])(V))},xe=function(e){var t=e.options.every((function(t){return Number(t.score||0)<=Number(e.maxScore)}));e.maxScore&&!t&&(e.maxScore="",H(Object(p["a"])(V)),u["default"].error("\u4efb\u4e00\u4e2a\u9009\u9879\u5206\u6570\u5fc5\u5c0f\u4e8e\u6700\u5927\u5206"))},Te=function(e,t){e.maxScore&&t.score&&+e.maxScore<+t.score&&(t.score="",H(Object(p["a"])(V)),u["default"].error("\u4efb\u4e00\u4e2a\u9009\u9879\u5206\u6570\u5fc5\u5c0f\u4e8e\u6700\u5927\u5206"))},Ne=function(e,t,a){return"add"===a?((V[e].options||[]).splice(t+1,0,{score:"0",optionText:"",check:!1}),V.forEach((function(e,t){e.titleValue=t+1,e.options.forEach((function(e,t){e.optionValue=t+1}))})),H(Object(p["a"])(V))):1!==(V[e].options||[]).length?((V[e].options||[]).splice(t,1),V.forEach((function(e,t){e.titleValue=t+1,e.options.forEach((function(e,t){e.optionValue=t+1}))})),H(Object(p["a"])(V))):void 0},je=function(e,t,a){"minScore"!==t&&"maxScore"!==t||(a=Number(a)<0?0:a),G[e][t]=a,D(Object(p["a"])(G))},Ce=function(e,t){if("add"===t)return G.splice(e+1,0,{riskText:"",minScore:"",maxScore:"",productRiskText:"",productRiskValue:"",riskValue:""}),G.forEach((function(e,t){e.productRiskValue=String(t+1),e.riskValue=String(t+1)})),void D(Object(p["a"])(G));1!==G.length&&(G.splice(e,1),D(Object(p["a"])(G)))},Le=function(e,t){"isRiskLongTime"!==t?(e=Number(e)<0?0:e,se(Object(b["a"])(Object(b["a"])({},ce),{},Object(s["a"])({},t,String(e))))):se(Object(b["a"])(Object(b["a"])({},ce),{},{isRiskLongTime:e?1:0}))},Re=function(){var e,t;for(var a in ce)if(0!==ce[a]&&!ce[a])return u["default"].error("\u57fa\u672c\u4fe1\u606f\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a"),!1;if(""===ee.content||"<p></p>"===ee.content)return u["default"].error("\u98ce\u9669\u63d0\u793a\u8bbe\u7f6e\u4e0d\u80fd\u4e3a\u7a7a"),!1;if("object"===typeof ee.content&&(""===ee.content.toHTML()||"<p></p>"===ee.content.toHTML()))return u["default"].error("\u98ce\u9669\u63d0\u793a\u8bbe\u7f6e\u4e0d\u80fd\u4e3a\u7a7a"),!1;if(!T.titleText)return u["default"].error("\u5408\u683c\u6295\u8d44\u8005\u786e\u8ba4\u9879\u4e0d\u80fd\u4e3a\u7a7a"),!1;if(!T.options.every((function(e){return e.optionText})))return u["default"].error("\u5408\u683c\u6295\u8d44\u8005\u786e\u8ba4\u9879\u4e0d\u80fd\u4e3a\u7a7a"),!1;var n,r=Object(c["a"])(V);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!String(i.maxScore)||!i.titleText)return u["default"].error("\u98ce\u9669\u95ee\u5377\u9898\u76ee\u4e0d\u80fd\u4e3a\u7a7a"),!1;if(!i.options.every((function(e){return e.optionText&&String(e.score)})))return u["default"].error("\u98ce\u9669\u95ee\u5377\u9898\u76ee\u9009\u9879\u4e0d\u80fd\u4e3a\u7a7a"),!1}}catch(v){r.e(v)}finally{r.f()}var o,l=Object(c["a"])(G);try{for(l.s();!(o=l.n()).done;){var s=o.value;for(var m in s)if(!s[m])return u["default"].error("\u98ce\u9669\u7b49\u7ea7\u76f8\u5173\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a"),!1}}catch(v){l.e(v)}finally{l.f()}var d=V.map((function(e){var t=e.options.map((function(e){return+e.score}));return Math.min.apply(Math,Object(p["a"])(t))})).reduce((function(e,t){return e+t}),0);if(!(d<Number(G[0].minScore))){if(String(G[G.length-1].maxScore)!==String(ce.maxScore))return u["default"].error("\u98ce\u9669\u7b49\u7ea7\u6700\u540e\u4e00\u9009\u9879\u5e94\u8be5\u4e0e\u8be5\u95ee\u5377\u603b\u5206\u76f8\u7b49"),!1;if(""===ee.bookContent||"<p></p>"===ee.bookContent)return u["default"].error("\u98ce\u9669\u6d4b\u8bc4\u7ed3\u679c\u786e\u8ba4\u4e66\u4e0d\u80fd\u4e3a\u7a7a"),!1;if("object"===typeof ee.bookContent&&(""===ee.bookContent.toHTML()||"<p></p>"===ee.bookContent.toHTML()))return u["default"].error("\u98ce\u9669\u6d4b\u8bc4\u7ed3\u679c\u786e\u8ba4\u4e66\u4e0d\u80fd\u4e3a\u7a7a"),!1;var f=V.reduce((function(e,t){return e+Number(t.maxScore)}),0),b=null===(e=G[G.length-1])||void 0===e?void 0:e.maxScore,k=null===(t=G[G.length-1])||void 0===t?void 0:t.minScore;return f!==Number(b)?(u["default"].error("\u6bcf\u9053\u95ee\u9898\u7684\u6700\u5927\u5206\u503c\u603b\u548c\u5fc5\u987b\u7b49\u4e8e\u95ee\u5377\u603b\u5206\u6570\uff0c\u8bf7\u6838\u5b9e\u5206\u6570\u540e\u518d\u4fdd\u5b58\uff01"),!1):!(f<Number(k))||(u["default"].error("\u98ce\u9669\u95ee\u5377\u95ee\u9898\u603b\u5206\u4e4b\u548c\u4e0d\u5728\u98ce\u9669\u7b49\u7ea75\u533a\u95f4\u5185\uff0c\u8bf7\u4fee\u6539\uff01"),!1)}u["default"].error("\u98ce\u9669\u7b49\u7ea71\u7684\u6700\u5c0f\u5206\u503c\u4e0d\u80fd\u5927\u4e8e\u95ee\u5377\u9898\u76ee\u9009\u9879\u6700\u5c0f\u503c\u603b\u548c")},we=function(t){var a=Re(),n=e.dispatch,r=e.location,i=e.match.params.id,o=r.query.askType;if(a){var l="string"===typeof ee.content?ee.content:ee.content.toHTML(),c="string"===typeof ee.bookContent?ee.bookContent:ee.bookContent.toHTML(),s=ce.versionNumber.split("-")[1],m=Object(b["a"])(Object(b["a"])({},ce),{},{askType:o,versionNumber:s,bookContent:c,content:l,sureJson:JSON.stringify(T),scoreJson:JSON.stringify(V),abilityJson:JSON.stringify(G),publishStatus:"save"===t?0:1});if("0"!==i)return void n({type:"risk/updateRiskAsk",payload:Object(b["a"])(Object(b["a"])({},m),{},{riskaskId:i}),callback:function(e){if(1008===e.code){if("save"!==t)return u["default"].success("\u53d1\u5e03\u6210\u529f"),void R["c"].push({pathname:"/risk/templateList"});u["default"].success("\u4fdd\u5b58\u6210\u529f")}else u["default"].error(e.message)}});n({type:"risk/createRiskAsk",payload:m,callback:function(e){1008===e.code?"save"!==t?(u["default"].success("\u53d1\u5e03\u6210\u529f"),R["c"].push({pathname:"/risk/templateList"})):(u["default"].success("\u4fdd\u5b58\u6210\u529f"),R["c"].push({pathname:"/risk/templateList/template/edit/".concat(e.data.riskaskId),query:{askType:e.data.askType,showOperation:!0}})):u["default"].error(e.message)}})}},Ie=function(){Object(q["d"])("/attachments/downloadFile",{source:105,codeType:1200})};Object(y["useEffect"])((function(){var t=null===e||void 0===e?void 0:e.match,a=t.params,n=e.location;n.query;"view"===a.type&&Z(!0)}),[]),Object(y["useEffect"])((function(){var t=e.match.params.id,a=e.dispatch,n=e.location.query.askType;a("0"!==t?{type:"risk/queryRiskAskDetail",payload:{riskaskId:t},callback:function(e){var t=JSON.parse(e.abilityJson)||{},a=e.sureJson?JSON.parse(e.sureJson):{},n=e.scoreJson?JSON.parse(e.scoreJson):[];se({riskTime:e.riskTime,maxScore:e.maxScore,versionNumber:e.versionNumber,isRiskLongTime:e.isRiskLongTime||0}),te({content:I.a.createEditorState(e.content),bookContent:I.a.createEditorState(e.bookContent)}),C(a),H(n),D(t||[]),ie({managerUserName:e.managerUserName,updateTime:e.updateTime})}}:{type:"risk/queryQuestionnaires",payload:{askType:n},callback:function(e){var t,r;1008===e.code&&(H(JSON.parse(e.data.scoreJson)),D(JSON.parse(e.data.abilityJson)),C(JSON.parse(e.data.sureJson)),te({content:I.a.createEditorState(null===(t=e.data)||void 0===t?void 0:t.content),bookContent:I.a.createEditorState(null===(r=e.data)||void 0===r?void 0:r.bookContent)}),a({type:"risk/queryVersionNumber",payload:{askType:n},callback:function(t){var a,n;se({riskTime:null===(a=e.data)||void 0===a?void 0:a.riskTime,maxScore:null===(n=e.data)||void 0===n?void 0:n.maxScore,versionNumber:t,isRiskLongTime:e.isRiskLongTime||0})}}))}})}),[]);var Be=function(e){pe((function(e){return!e})),ve(de?{}:e)},Je=function(e){var t=Object(M["cloneDeep"])(G);pe(!1),t.forEach((function(t){t.riskText===e.riskText&&(t.starList=e.starList)})),D(t)},Ve=function(){var t=e.match.params.id,a=e.dispatch,n=e.location.query,r=n.askType,i=n.showOperation;a({type:"risk/queryVersionNumber",payload:{askType:r},callback:function(e){W({title:"\u65b0\u95ee\u5377\u7684\u7248\u672c\u53f7\u662f".concat(e,"?"),onOk:function(){a({type:"risk/copySave",payload:{riskaskId:t,askType:r},callback:function(e){1008===e.code?(R["c"].push({pathname:"/risk/templateList/template/edit/".concat(e.data.riskaskId),query:{askType:r,showOperation:i}}),u["default"].success("\u590d\u5236\u6210\u529f")):u["default"].error(e.message)}})}})}})};return E.a.createElement(g["a"],{title:"\u98ce\u9669\u6d4b\u8bc4\u95ee\u5377\u6a21\u677f"},E.a.createElement(n["a"],{spinning:Boolean(e.loading1)||Boolean(e.loading2)||Boolean(e.loading3)||Boolean(e.loading4)||Boolean(e.loading5)},E.a.createElement(r["a"],{title:"\u57fa\u672c\u4fe1\u606f",className:J.a.card},E.a.createElement("div",{className:J.a.box},E.a.createElement("div",{className:J.a.item},E.a.createElement("span",null,"\u7248\u672c\u53f7\uff1a"),E.a.createElement("div",null,E.a.createElement(d["a"],{className:J.a.itemInput,disabled:!0,value:ce.versionNumber}),E.a.createElement("span",null,"\u7248\u672c\u53f7\u81ea\u52a8\u751f\u6210\uff0c\u6bcf\u6b21\u81ea\u52a8\u52a01"))),E.a.createElement("div",{className:J.a.item},E.a.createElement("span",null,"\u98ce\u9669\u8c03\u67e5\u95ee\u5377\u5931\u6548\u65f6\u95f4\uff1a"),E.a.createElement("div",null,E.a.createElement("div",null,E.a.createElement(o["b"],null,E.a.createElement(d["a"],{type:"number",className:J.a.itemInput,suffix:"\u6708",disabled:X,value:ce.riskTime,onChange:function(e){return Le(e.target.value,"riskTime")}}),E.a.createElement(l["a"],{onChange:function(e){return Le(1*e.target.checked,"isRiskLongTime")},checked:!(null===ce||void 0===ce||!ce.isRiskLongTime)},"\u957f\u671f\u6709\u6548"))),E.a.createElement("span",null,"\u6ce8\uff1a\u5931\u6548\u540e\u4f1a\u63d0\u793a\u6295\u8d44\u4eba\u91cd\u65b0\u586b\u5199\u95ee\u5377\uff1b\u8be5\u65f6\u95f4\u81ea\u7136\u4eba\u548c\u673a\u6784\u95ee\u5377\u901a\u7528"))),E.a.createElement("div",{className:J.a.item},E.a.createElement("span",null,"\u95ee\u5377\u603b\u5206\u6570\uff1a"),E.a.createElement("div",null,E.a.createElement("div",null,E.a.createElement(d["a"],{type:"number",className:J.a.itemInput,suffix:"\u5206",disabled:X,value:ce.maxScore,onChange:function(e){return Le(e.target.value,"maxScore")}})),E.a.createElement("span",null,"\u6ce8\uff1a\u6bcf\u9053\u9898\u76ee\u6700\u9ad8\u5206\u76f8\u52a0\u4e0d\u9ad8\u4e8e\u603b\u5206\u6570"))),0!==Number(e.match.params.id)&&E.a.createElement(i["a"],{type:"primary",style:{width:200},onClick:Ve,loading:e.copyLoading},"\u590d\u5236\u672c\u5957\u95ee\u5377\u5e76\u7f16\u8f91"))),E.a.createElement(r["a"],{title:E.a.createElement("div",{className:J.a.cardTitle},"\u5408\u89c4\u914d\u7f6e ",E.a.createElement("span",{onClick:Ie},"\u70b9\u51fb\u67e5\u770b\u652f\u6301\u901a\u914d\u7b26\u4fe1\u606f")," "),className:J.a.card},E.a.createElement("div",{className:J.a.config},E.a.createElement("div",{className:J.a.item},E.a.createElement("p",null,"1\u3001\u98ce\u9669\u63d0\u793a\u8bbe\u7f6e\uff1a\uff08\u672c\u4eba\u540c\u610f\u4ee5\u4e0b\u63d0\u793a\uff09"),E.a.createElement("div",null,E.a.createElement(I.a,{value:ee.content,readOnly:X,controls:[],contentStyle:{height:200},onChange:function(e){te(Object(b["a"])(Object(b["a"])({},ee),{},{content:e.toHTML()}))},style:{marginLeft:22,border:"1px solid #000"}}))),E.a.createElement("div",{className:J.a.item},E.a.createElement("p",null,"2\u3001\u5408\u683c\u6295\u8d44\u8005\u786e\u8ba4\u9879"),E.a.createElement("div",{className:J.a.configBox},E.a.createElement("div",{className:J.a.item},E.a.createElement("span",null,"\u6807\u9898\uff1a"),E.a.createElement(d["a"],{style:{marginRight:50},value:T.titleText,onInput:function(e){return h(e)},disabled:X})),(T.options||[]).map((function(e,t){return E.a.createElement("div",{className:J.a.item,key:t},E.a.createElement("span",null,"\u9009\u9879",t+1,"\uff1a"),E.a.createElement(d["a"],{value:e.optionText,onInput:function(e){return v(e,t)},disabled:X}),E.a.createElement("div",{className:J.a.iconG,style:{visibility:X?"hidden":"unset"}},E.a.createElement(N,{style:{fontSize:20,paddingRight:5,paddingLeft:5,color:"#1890ff"},onClick:function(){O(t,"add")}}),E.a.createElement(j["a"],{style:{fontSize:20,color:"#ff4d4f"},onClick:function(){O(t,"remove")}})))})))),E.a.createElement("div",{className:J.a.item},E.a.createElement("p",null,"3\u3001\u98ce\u9669\u95ee\u5377\u9898\u76ee\u8bbe\u7f6e"),ge(),X?null:E.a.createElement("div",{className:J.a.issue,onClick:function(){return he()}},"+\u65b0\u589e\u95ee\u9898")),E.a.createElement("div",{className:J.a.item},E.a.createElement("p",null,"4\u3001\u6295\u8d44\u8005\u98ce\u9669\u627f\u53d7\u80fd\u529b\u8bbe\u5b9a"),G.map((function(e,t){return E.a.createElement("div",{className:J.a.part4Content,key:t},E.a.createElement("div",{className:J.a.part4ContentItem},E.a.createElement("span",null,"\u98ce\u9669\u7b49\u7ea7",t+1,"\uff1a"),E.a.createElement(d["a"],{disabled:!0,style:{width:100},value:e.riskText,onInput:function(e){return je(t,"riskText",e.target.value)}})),E.a.createElement("div",{className:J.a.part4ContentItem},E.a.createElement("span",null,"\u6700\u5c0f\u5206\u503c\uff1a"),E.a.createElement(d["a"],{type:"number",disabled:X,style:{width:100},value:e.minScore,onChange:function(e){return je(t,"minScore",e.target.value)}})),E.a.createElement("div",{className:J.a.part4ContentItem},E.a.createElement("span",null,"\u6700\u5927\u5206\u503c\uff1a"),E.a.createElement(d["a"],{type:"number",disabled:X,style:{width:100},value:e.maxScore,onChange:function(e){return je(t,"maxScore",e.target.value)}})),E.a.createElement("div",{className:J.a.part4ContentItem},E.a.createElement("span",null,"\u5339\u914d\u4ea7\u54c1\u7b49\u7ea7\uff1a"),E.a.createElement(d["a"],{disabled:!0,style:{width:100},value:e.productRiskText,onInput:function(e){return je(t,"productRiskText",e.target.value)}})),E.a.createElement("div",{className:J.a.part4ContentItem,style:{visibility:X?"hidden":"unset",display:"none"}},E.a.createElement(N,{style:{fontSize:20,paddingRight:5,paddingLeft:5,color:"#1890ff"},onClick:function(){Ce(t,"add")}}),E.a.createElement(j["a"],{style:{fontSize:20,color:"#ff4d4f"},onClick:function(){Ce(t,"remove")}})),E.a.createElement("div",{className:J.a.part4ContentItem},E.a.createElement("span",{className:J.a.editStar,onClick:function(){return Be(e)}},"\u7f16\u8f91\u661f\u7ea7")))}))),E.a.createElement("div",{className:J.a.item},E.a.createElement("p",null,"5\u3001\u98ce\u9669\u6d4b\u8bc4\u7ed3\u679c\u786e\u8ba4\u4e66"),E.a.createElement("div",null,E.a.createElement(I.a,{value:ee.bookContent,readOnly:X,controls:[],onChange:function(e){te(Object(b["a"])(Object(b["a"])({},ee),{},{bookContent:e.toHTML()}))},contentStyle:{height:200},style:{marginLeft:22,border:"1px solid #000"}}))))),e.location.query.showOperation?E.a.createElement(r["a"],{title:"\u4fe1\u606f\u8bb0\u5f55",className:J.a.card},E.a.createElement("div",null,E.a.createElement("span",null,"\u64cd\u4f5c\u4eba\u5458\uff1a"),E.a.createElement(d["a"],{style:{width:400},disabled:!0,value:re.managerUserName})),E.a.createElement("span",{style:{paddingLeft:70,color:"rgb(136,136,136)",paddingTop:8,paddingBottom:8}},"\u6bcf\u6b21\u4fee\u6539\u5747\u8bb0\u5f55\u4fee\u6539\u4eba\u5458\u4fe1\u606f"),E.a.createElement("div",null,E.a.createElement("span",null,"\u64cd\u4f5c\u65f6\u95f4\uff1a"),E.a.createElement(d["a"],{style:{width:400},disabled:!0,value:re.updateTime?L()(re.updateTime).format("YYYY-MM-DD HH:mm:ss"):""}))):null,X?null:E.a.createElement("div",{className:J.a.btnGBox,style:{display:a?"":"none"}},E.a.createElement("div",null,E.a.createElement(i["a"],null,"\u53d6\u6d88"),E.a.createElement(i["a"],{type:"primary",onClick:function(){we("save")}},"\u4fdd\u5b58"),E.a.createElement(i["a"],{type:"primary",onClick:function(){we("PUSH")}},"\u53d1\u5e03")),E.a.createElement("span",null,"\u4fdd\u5b58\u540e\u5141\u8bb8\u518d\u6b21\u7f16\u8f91\uff0c\u53d1\u5e03\u540e\u4e0d\u53ef\u4ee5\u7f16\u8f91"))),E.a.createElement(U,{isModalVisible:de,record:ke,onCancel:Be,onOk:Je}))};t["default"]=Object(V["connect"])((function(e){var t=e.risk,a=e.loading;return{risk:t,loading1:a.effects["risk/createRiskAsk"],loading2:a.effects["risk/queryRiskAskDetail"],loading3:a.effects["risk/updateRiskAsk"],loading4:a.effects["risk/queryVersionNumber"],loading5:a.effects["risk/queryQuestionnaires"],copyLoading:a.effects["risk/copySave"]}}))(K)},xy6g:function(e,t,a){e.exports={card:"antd-pro-pages-risk-template-styles-card",box:"antd-pro-pages-risk-template-styles-box",item:"antd-pro-pages-risk-template-styles-item",itemInput:"antd-pro-pages-risk-template-styles-itemInput",config:"antd-pro-pages-risk-template-styles-config",part4Title:"antd-pro-pages-risk-template-styles-part4Title",part4Content:"antd-pro-pages-risk-template-styles-part4Content",part4ContentItem:"antd-pro-pages-risk-template-styles-part4ContentItem",editStar:"antd-pro-pages-risk-template-styles-editStar",configBox:"antd-pro-pages-risk-template-styles-configBox",configBox2:"antd-pro-pages-risk-template-styles-configBox2",score:"antd-pro-pages-risk-template-styles-score",iconG:"antd-pro-pages-risk-template-styles-iconG",issue:"antd-pro-pages-risk-template-styles-issue",btnGBox:"antd-pro-pages-risk-template-styles-btnGBox",cardTitle:"antd-pro-pages-risk-template-styles-cardTitle",editStarModalWrapper:"antd-pro-pages-risk-template-styles-editStarModalWrapper",btnGroup:"antd-pro-pages-risk-template-styles-btnGroup"}}}]);