(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{"5Mu4":function(e,t,n){e.exports={commonQuestion:"antd-pro-pages-consulte-question-components-common-question-styles-commonQuestion",questionType:"antd-pro-pages-consulte-question-components-common-question-styles-questionType",operationBox:"antd-pro-pages-consulte-question-components-common-question-styles-operationBox",btns:"antd-pro-pages-consulte-question-components-common-question-styles-btns",questionTypeModal:"antd-pro-pages-consulte-question-components-common-question-styles-questionTypeModal"}},AFsk:function(e,t,n){e.exports={editQuestion:"antd-pro-pages-consulte-question-components-common-question-edit-styles-editQuestion"}},V4xW:function(e,t,n){e.exports={newBuildSubject:"antd-pro-pages-consulte-question-components-common-question-subject-model-index-newBuildSubject",conlumnSortModel:"antd-pro-pages-consulte-question-components-common-question-subject-model-index-conlumnSortModel",consulteQestionModalLoading:"antd-pro-pages-consulte-question-components-common-question-subject-model-index-consulteQestionModalLoading"}},"aO+Y":function(e,t,n){"use strict";function a(e){if(null==e)throw new TypeError("Cannot destructure undefined")}n.r(t);n("IzEo");var o=n("bx4M"),l=(n("Znn+"),n("ZTPi")),i=n("q1tI"),c=n.n(i),s=n("9kvl"),r=n("Hx5s"),u=n("FRQA"),d=n("0Owb"),p=(n("+L6B"),n("2/Rp")),m=(n("14J3"),n("BMrR")),f=(n("jCWc"),n("kPKH")),g=(n("5NDa"),n("5rEg")),b=n("k1fw"),h=(n("y8nQ"),n("Vl3Y")),v=n("tJVT"),y=(n("P2fV"),n("NJEC")),E=(n("/xke"),n("TeRw")),I=(n("2qtc"),n("kLXV")),C=(n("OaEy"),n("2fM7")),S=n("RCxd"),x=n("xvlK"),T=n("tQHx"),O=n("Qnru"),w=n("+n12"),j=(n("T2oS"),n("W9HT")),k=(n("5Dmo"),n("3S7+")),Q=(n("+BJd"),n("mr32")),V=n("oBTY"),q=n("fWQN"),L=n("mtLc"),M=n("yKVA"),D=n("879j"),R=n("ngQI"),N=n("2BaD"),F=n("V4xW"),A=n.n(F),B=8,P=function(e,t){return Object(b["a"])({userSelect:"none",padding:2*B,background:e?"lightgreen":"white"},t)},z=function(e){return{background:e?"lightblue":"lightgrey",width:"100%"}},U=function(e,t,n,a,o){E["default"][e||"info"]({top:165,message:t,description:n,placement:a,duration:o||3})},H=function(e){Object(M["a"])(n,e);var t=Object(D["a"])(n);function n(){var e;Object(q["a"])(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),e.state={selectedRowKeys:"",showModal:!1,datasources:{data:{homeShowCount:null,articleCount:null,subjectCount:null,list:[]}},selectedRow:[],topInfo:{},userList:[],saleUserNameList:[],customerId:"",current:1,pageNum:1,pageSize:20,tabeData:[],powerInfo:{},showExcalVip:!1,vipLevel:"",articleColumnModel:!1,specialCustActStatus:"",tags:[],inputVisible:!1,inputValue:"",editInputIndex:-1,editInputValue:"",checkoutFrontPage:!1,showModalDel:!1,deleteSubjectId:null,removedTag:"",canConfirm:!0},e.modalhandleOk=function(t){var n=e.state.selectedRowKeys;t?e.setState({showExcal:!1}):(e.determine(n),e.setState({showModal:!1}))},e.modalhandleCancelDel=function(){e.setState({showModalDel:!1})},e.modalhandleOkDel=function(){var t=e.state.removedTag,n=e.state.tags.filter((function(e){return e!==t}));e.setState({tags:n,showModalDel:!1})},e.setArticleColumn=function(){var t=e.props.consulteQuestion.questionTypes;e.setState({tags:t,articleColumnModel:!0})},e.customerhandleCancel=function(){e.setState({articleColumnModel:!1,editInputIndex:null,inputVisible:!1})},e.articleColumnSaveOk=function(){if(e.state.canConfirm){var t=e.state.tags;e.setState({editInputIndex:null}),e.saveSubjectColumn(t)}else U("warning","\u7c7b\u578b\u540d\u79f0\u672a\u586b\u5199\u6216\u586b\u5199\u9519\u8bef","","topRight")},e.handleClose=function(t,n){t.preventDefault();var a=n.id;e.setState({removedTag:n,deleteSubjectId:a}),e.setState({showModalDel:!0})},e.showInput=function(){e.setState({inputVisible:!0},(function(){return e.input.focus()}))},e.handleInputChange=function(t){e.setState({inputValue:t.target.value})},e.handleInputConfirm=function(){var t=e.state,n=t.inputValue,a=t.tags;if(!n.replace(/\s+/g,""))return U("warning","\u7c7b\u578b\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a","","topRight"),void e.setState({canConfirm:!1});var o=a,l=a.some((function(t){return t.codeText?t.codeText.replace(/\s+/g,"")===n.replace(/\s+/g,"")?(U("warning","\u8bf7\u8bbe\u7f6e\u4e0d\u540c\u7684\u7c7b\u578b\u540d\u79f0","","topRight"),e.setState({canConfirm:!1}),!0):void 0:(U("warning","\u7c7b\u578b\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a","","topRight"),e.setState({canConfirm:!1}),!0)}));l||(n&&!l&&(o=[].concat(Object(V["a"])(a),[{codeText:n}])),e.setState({tags:o,inputVisible:!1,inputValue:"",canConfirm:!0}))},e.handleEditInputChange=function(t){e.setState({editInputValue:t.target.value})},e.handleEditInputConfirm=function(){var t=e.state,n=t.editInputValue,a=t.tags;if(!n.replace(/\s+/g,""))return U("warning","\u7c7b\u578b\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a","","topRight"),void e.setState({canConfirm:!1,editInputIndex:null});var o=a.some((function(t,a){return a!==e.state.editInputIndex&&(t.codeText.replace(/\s+/g,"")===n.replace(/\s+/g,"")?(e.setState({canConfirm:!1}),U("warning","\u8bf7\u8bbe\u7f6e\u4e0d\u540c\u7684\u7c7b\u578b\u540d\u79f0","","topRight"),!0):void 0)}));o||e.setState((function(e){var t=e.tags,n=e.editInputIndex,a=e.editInputValue,o=Object(V["a"])(t);return o[n].codeText=a,{tags:o,editInputIndex:-1,editInputValue:"",canConfirm:!0}}))},e.saveInputRef=function(t){e.input=t},e.saveEditInputRef=function(t){e.editInput=t},e.saveSubjectColumn=function(t){var n=e.props,a=n.dispatch,o=n.getQuestionType;a({type:"consulteQuestion/addQuestionType",payload:{sysCodelistList:t},callback:function(t){if(1008===t.code)o(),e.setState({articleColumnModel:!1}),U("success","\u63d0\u793a",t.message||"\u4fdd\u5b58\u6210\u529f","topRight",5);else{var n=t.message||t.data||"\u4fdd\u5b58\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01";U("warning","\u63d0\u793a\uff08\u4ee3\u7801\uff1a".concat(t.code,"\uff09"),n,"topRight")}}})},e.reOrder=function(e,t,n){var a=Array.from(e),o=a.splice(t,1),l=Object(v["a"])(o,1),i=l[0];return a.splice(n,0,i),a},e.onDragEnd=function(t){if(t.destination){var n=e.reOrder(e.state.tags,t.source.index,t.destination.index);e.setState({tags:n})}},e}return Object(L["a"])(n,[{key:"componentDidMount",value:function(){var e=this.props.consulteQuestion.questionTypes;this.setState({tags:e})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e||{},n=t.consulteQuestion.questionTypes,a=t.saveLoading,o=t.questionTypeLoading,l=this.state.tags;Object.is(n,l)||a||o||this.setState({tags:n})}},{key:"renderTags",value:function(){var e=this,t=this.state,n=t.tags,a=t.inputVisible,o=t.inputValue,l=t.editInputIndex,i=t.editInputValue;t.showModalDel;return c.a.createElement(c.a.Fragment,null,c.a.createElement(R["a"],{onDragEnd:this.onDragEnd},c.a.createElement(R["c"],{droppableId:"droppable",direction:"vertical"},(function(t,s){return c.a.createElement("div",Object(d["a"])({ref:t.innerRef,style:z(s.isDraggingOver)},t.droppableProps),n.map((function(t,n){if(l===n)return c.a.createElement(g["a"],{ref:e.saveEditInputRef,key:t.codeText,size:"small",className:"tag-input",value:i,onChange:e.handleEditInputChange,onBlur:e.handleEditInputConfirm,onPressEnter:e.handleEditInputConfirm});var a=t.codeText.length>20,o=c.a.createElement(Q["a"],{className:"edit-tag",key:t.codeText,closable:0!==n,onClose:function(n){return e.handleClose(n,t)}},c.a.createElement("span",{onDoubleClick:function(a){e.setState({editInputIndex:n,editInputValue:t.codeText},(function(){e.editInput.focus()})),a.preventDefault()}},a?"".concat(t.codeText.slice(0,20),"..."):t.codeText));return a?c.a.createElement(k["a"],{title:t.codeText,key:t.codeText},o):c.a.createElement(R["b"],{key:t.codeText,draggableId:t.codeText,index:n},(function(e,t){return c.a.createElement("div",Object(d["a"])({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{style:P(t.isDragging,e.draggableProps.style)}),o)}))})),a&&c.a.createElement(g["a"],{ref:e.saveInputRef,type:"text",size:"small",className:"tag-input",value:o,onChange:e.handleInputChange,onBlur:e.handleInputConfirm,onPressEnter:e.handleInputConfirm}))}))),!a&&c.a.createElement(Q["a"],{className:"site-tag-plus",onClick:this.showInput},c.a.createElement(x["a"],null)," \u7c7b\u578b"))}},{key:"render",value:function(){var e=this,t=this.props,n=t.saveLoading,a=t.questionTypeLoading,o=this.state,l=o.articleColumnModel,i=o.showModalDel;return c.a.createElement("div",null,c.a.createElement(I["a"],{visible:i,closable:!1,footer:c.a.createElement(c.a.Fragment,null,c.a.createElement(p["a"],{onClick:function(){return e.modalhandleOkDel(0)},type:"primary"},"\u662f"),c.a.createElement(p["a"],{onClick:this.modalhandleCancelDel},"\u5426"))},c.a.createElement("div",{className:A.a.CloseICon},c.a.createElement("p",null,c.a.createElement(N["a"],{style:{color:"red",fontSize:18}})," \u8bf7\u60a8\u786e\u8ba4\u662f\u5426\u5220\u9664\u8be5\u7c7b\u578b"),c.a.createElement("p",{style:{marginTop:10}},"\u5220\u9664\u8be5\u680f\u76ee\u540e\uff0c\u8be5\u7c7b\u578b\u4e0b\u7684\u6240\u6709\u7684\u201c\u95ee\u9898\u4fe1\u606f\u201d\u7684\u7c7b\u578b\u90fd\u5c06\u4e3a\u7a7a\uff0c\u9700\u8981\u91cd\u65b0\u8bbe\u7f6e\uff0c\u786e\u5b9a\u4fdd\u5b58\u540e\u751f\u6548"))),c.a.createElement(I["a"],{className:A.a.conlumnSortModel,title:"\u8bf7\u8bbe\u7f6e\u95ee\u9898\u7c7b\u578b",visible:l,closable:!1,mask:!1,maskClosable:!1,footer:c.a.createElement(c.a.Fragment,null,c.a.createElement(p["a"],{onClick:this.articleColumnSaveOk,type:"primary"},"\u786e\u5b9a"),c.a.createElement(p["a"],{onClick:this.customerhandleCancel},"\u53d6\u6d88"))},c.a.createElement("div",{className:A.a.modalContentBox,style:{textAlign:"center"}},this.renderTags(),(n||a)&&c.a.createElement("div",{className:A.a.consulteQestionModalLoading},c.a.createElement(j["a"],null)))),c.a.createElement("a",{type:"primary",className:A.a.newBuildSubject,onClick:this.setArticleColumn},"\u6dfb\u52a0\u7c7b\u578b"))}}]),n}(i["Component"]),K=Object(s["b"])((function(e){var t=e.consulteQuestion,n=e.loading;return{consulteQuestion:t,saveLoading:n.effects["consulteQuestion/addQuestionType"],questionTypeLoading:n.effects["consulteQuestion/getQuestionType"]}}))(H),J=(n("7Kak"),n("9yH6")),W=(n("DZo9"),n("8z0m")),G=n("9og8"),_=n("PpiC"),Y=n("WmNS"),Z=n.n(Y),X=n("VTBJ"),$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2zM304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z"}}]},name:"picture",theme:"outlined"},ee=$,te=n("6VBw"),ne=function(e,t){return i["createElement"](te["a"],Object(X["a"])(Object(X["a"])({},e),{},{ref:t,icon:ee}))};ne.displayName="PictureOutlined";var ae=n("z7Xi"),oe=n("AEkp"),le=n("yEr3"),ie=n.n(le),ce=n("Psm9"),se=(n("Lzxq"),n("AFsk")),re=n.n(se),ue={labelCol:{span:4},wrapperCol:{span:20}},de=["bold","italic","underline","text-color","separator","link","separator"],pe=function(e,t,n,a,o){E["default"][e||"info"]({top:30,message:t,description:n,placement:a,duration:o||3})},me=C["a"].Option;function fe(e){var t=e.consulteQuestion.questionTypes,n=e.loadingSubmit,a=e.loadingGetDetail,o=e.visible,l=e.setVisible,s=e.tableSearch,r=e.id,u=void 0===r?null:r,m=h["a"].useForm(),f=Object(v["a"])(m,1),y=f[0],E=Object(i["useState"])(0),S=Object(v["a"])(E,2),x=S[0],T=S[1],O=Object(i["useState"])([]),k=Object(v["a"])(O,2),Q=k[0],V=k[1],q=Object(i["useState"])(!1),L=Object(v["a"])(q,2),M=L[0],D=L[1];Object(i["useEffect"])((function(){if(u){var n=e.dispatch;n({type:"consulteQuestion/getQuestionDetail",payload:{onlineServiceId:u},callback:function(e){if(1008===e.code){var n=e.data,a=void 0===n?{}:n,o=a.problem,l=a.problemId,i=a.contentType,c=a.content,s=a.attachment,r=void 0===s?[]:s,u=c&&ie.a.createEditorState(c)||null,d=t.some((function(e){return e.codeValue===l})),p=r&&[r].map((function(e){return{uid:e.attachmentsId,name:e.fileName,url:e.baseUrl,status:"done"}}))||[];y.setFieldsValue({problem:o,problemId:d?l:"",contentType:i,content:u,fileList:p}),T(i),V(p)}else pe("warning","\u63d0\u793a\uff08\u4ee3\u7801\uff1a".concat(e.code,"\uff09"),"".concat(e.message?e.message:"\u83b7\u53d6\u6570\u636e\u5931\u8d25!"),"topRight")}})}}),[]);var R=function(){var t=y.validateFields;t().then((function(t){var n=e.dispatch,a=t.content,o=t.fileList,i=Object(_["a"])(t,["content","fileList"]),c=a&&a.toHTML()||null,r=Array.isArray(o)&&o[0].uid||null;n({type:"consulteQuestion/submitQuestionDetail",payload:Object(b["a"])(Object(b["a"])({},i),{},{contentType:x,content:0===x?c:null,attachmentsId:1===x?r:null,onlineServiceId:u}),callback:function(e){var t=e.code,n=void 0===t?"":t,a=e.message,o=void 0===a?"":a;1008===n?(pe("success","\u63d0\u793a","\u4fdd\u5b58\u6210\u529f"),s(),l(!1)):pe("warning","\u63d0\u793a\uff08\u4ee3\u7801\uff1a".concat(n,"\uff09"),"".concat(o||"\u4fdd\u5b58\u5931\u8d25\uff01"),"topRight")}})}))},N=function(){var e=Object(G["a"])(Z.a.mark((function e(t){var n,a,o,l;return Z.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.file,a=t.fileList,"uploading"!==n.status&&"removed"!==n.status){e.next=4;break}return V(a),e.abrupt("return");case 4:"done"===n.status&&(1008===n.response.code?(o=n.response.data||{},pe("success","\u63d0\u9192","\u4e0a\u4f20\u6210\u529f"),l=[{uid:o.attachmentsId,name:o.fileName,url:o.baseUrl,status:"done"}],V(l),y.setFieldsValue({fileList:l})):pe("warning","\u63d0\u9192","\u4e0a\u4f20\u5931\u8d25"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(G["a"])(Z.a.mark((function e(t){var n,a,o;return Z.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oe["a"].get("/attachments/deleteFile",{attachmentsId:t.uid});case 2:n=e.sent,a=y.getFieldValue("fileList")||[],o=[],1008===n.code&&(o=a.filter((function(e){return e.uid!==t.uid})),0===o.length?y.setFieldsValue({fileList:[]}):y.setFieldsValue({fileList:o}),V(o));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(e){return Array.isArray(e)?e:e&&e.fileList},B=function(){var e=Object(G["a"])(Z.a.mark((function e(t){var n,a,o;return Z.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.file,n){e.next=3;break}return e.abrupt("return",!1);case 3:return D(!0),a=new FormData,a.append("file",n),a.append("source","17"),a.append("sourceId",""),a.append("codeType",154),e.next=11,oe["a"].postMultipart("/attachments/uploadFile",a);case 11:return o=e.sent,1008===o.code?y.setFieldsValue({content:ce["ContentUtils"].insertMedias(y.getFieldValue("content"),[{type:"IMAGE",url:o.data.baseUrl}])}):pe("warning","\u63d0\u9192","\u4e0a\u4f20\u5931\u8d25"),D(!1),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();W["a"];return c.a.createElement(I["a"],{visible:o,mask:!1,maskClosable:!1,onCancel:function(){return l(!1)},onOk:R,wrapClassName:re.a.editQuestion,title:"\u65b0\u5efa\u95ee\u9898\u8be6\u60c5"},c.a.createElement(h["a"],Object(d["a"])({},ue,{form:y,onFinish:R,initialValues:{contentType:x}}),c.a.createElement(h["a"].Item,{label:"\u95ee\u9898:",name:"problem",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u95ee\u9898!"},{max:70,message:"\u6700\u591a\u8f93\u516570\u4e2a\u5b57\u7b26"}]},c.a.createElement(g["a"],{placeholder:"\u8bf7\u5728\u8fd9\u91cc\u8f93\u5165\u6807\u9898\uff0c\u6700\u591a70\u4e2a\u5b57\u7b26",max:140})),c.a.createElement(h["a"].Item,{label:"\u95ee\u9898\u7c7b\u578b:",name:"problemId",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u95ee\u9898\u7c7b\u578b!"}]},c.a.createElement(C["a"],{placeholder:"\u8bf7\u9009\u62e9",allowClear:!0,loading:Boolean(e.questionTypeLoading)},t.map((function(e){return c.a.createElement(me,{value:e.codeValue,key:e.codeValue},e.codeText)})))),c.a.createElement(h["a"].Item,{label:"\u56de\u590d\u5185\u5bb9",name:"contentType"},c.a.createElement(J["a"].Group,{onChange:function(e){return T(e.target.value)}},c.a.createElement(J["a"],{value:0},"\u6587\u5b57"),c.a.createElement(J["a"],{value:1},"\u4e0a\u4f20\u6587\u4ef6\u6216\u56fe\u7247"))),0===x&&c.a.createElement(h["a"].Item,{label:"\u8bf7\u8f93\u5165\u5185\u5bb9",name:"content",initialValue:ie.a.createEditorState(""),rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5185\u5bb9!"},function(){return{validator:function(e,t){return t.isEmpty()?Promise.reject(new Error("\u8bf7\u8f93\u5165\u5185\u5bb9!")):Promise.resolve()}}}]},c.a.createElement(ie.a,{style:{border:"1px solid #d9d9d9",width:"100%"},contentStyle:{height:"300px"},controls:de})),1===x&&c.a.createElement(h["a"].Item,{label:"\u8bf7\u4e0a\u4f20\u6587\u4ef6",name:"fileList",extra:"\u5efa\u8baePDF\u3001\u56fe\u7247\u7b49\u624b\u673a\u80fd\u6253\u5f00\u7684\u683c\u5f0f",rules:[{required:!0,message:"\u8bf7\u4e0a\u4f20\u6587\u4ef6!",type:"array"}],getValueFromEvent:A},c.a.createElement(W["a"],{action:"".concat({baseUrl:"/sitvipmanager/",adminUrl:"/vip-manager",ASSSET_DOMIAN:"RESOURCE_PATH",AI:{AI_type:2},isSaas:2}.adminUrl,"/attachments/uploadFile"),headers:{tokenId:Object(w["l"])("vipAdminToken")},accept:".jpg,.png,.pdf,.jpeg",data:{sourceId:"",source:17,codeType:154},fileList:Q,onChange:N,onRemove:F,maxCount:1},c.a.createElement(p["a"],{disabled:Q.length,icon:c.a.createElement(ae["a"],null),size:"middle"},"\u4e0a\u4f20")))),(n||a||M)&&c.a.createElement("div",{className:"consulteModalLoading"},c.a.createElement(j["a"],null)))}var ge=Object(s["b"])((function(e){var t=e.consulteQuestion,n=e.loading;return{consulteQuestion:t,loadingSubmit:n.effects["consulteQuestion/submitQuestionDetail"],loadingGetDetail:n.effects["consulteQuestion/getQuestionDetail"],questionTypeLoading:n.effects["consulteQuestion/getQuestionType"]}}))(fe),be=n("5Mu4"),he=n.n(be),ve={labelCol:{span:6},wrapperCol:{span:18}},ye={pageNum:1,pageSize:20},Ee=["\u6587\u672c","\u6587\u4ef6\u6216\u56fe\u7247"],Ie=C["a"].Option,Ce=I["a"].confirm,Se=function(e,t,n,a,o){E["default"][e||"info"]({top:30,message:t,description:n,placement:a,duration:o||3})};function xe(e){var t=e.consulteQuestion.questionTypes,n=Object(w["o"])("80100"),a=n.authEdit,o=Object(i["useMemo"])((function(){var e=new Map;return t.forEach((function(t){e.set(t.codeValue,t.codeText)})),e}),[t]),l=[{title:"\u95ee\u9898",dataIndex:"problem",width:700,render:function(e){return e||"--"}},{title:"\u95ee\u9898\u7c7b\u578b",dataIndex:"problemId",align:"center",width:420,render:function(e){return o.get(e)||"\u5168\u90e8\u95ee\u9898"}},{title:"\u5185\u5bb9\u7c7b\u578b",dataIndex:"contentType",width:120,align:"center",render:function(e){return Ee[e]||"--"}},{title:"\u64cd\u4f5c",align:"center",width:140,render:function(e){return a?c.a.createElement("div",{className:he.a.operationBox},c.a.createElement("span",{onClick:function(){return ee(e.onlineServiceId)}},"\u7f16\u8f91"),c.a.createElement(y["a"],{placement:"topLeft",title:"\u60a8\u786e\u5b9a\u5220\u9664\u8be5\u6761\u6570\u636e\u5417\uff1f",onConfirm:function(){return ae(e.onlineServiceId)}},c.a.createElement("span",null,"\u5220\u9664"))):null}}],s=h["a"].useForm(),r=Object(v["a"])(s,1),u=r[0],E=Object(i["useState"])({}),I=Object(v["a"])(E,2),j=I[0],k=I[1],Q=Object(i["useState"])(ye),V=Object(v["a"])(Q,2),q=V[0],L=V[1],M=Object(i["useState"])([]),D=Object(v["a"])(M,2),R=D[0],N=D[1],F=Object(i["useState"])(!1),A=Object(v["a"])(F,2),B=A[0],P=A[1],z=Object(i["useState"])(""),U=Object(v["a"])(z,2),H=U[0],J=U[1],W=Object(i["useState"])(!1),G=Object(v["a"])(W,2),_=G[0],Y=G[1],Z=function(e){N(e)},X={selectedRowKeys:R,onChange:Z},$=function(){J(""),P(!0)},ee=function(e){J(e),P(!0)},te=function(){var t=e.dispatch,n=u.getFieldsValue();t({type:"consulteQuestion/getQuestionSettingTableData",payload:Object(b["a"])(Object(b["a"])({},n),q),callback:function(e){if(1008===e.code){var t=e.data||{},n=t.list,a=void 0===n?[]:n,o=t.total;k({list:a,total:o})}else Se("warning","\u63d0\u793a\uff08\u4ee3\u7801\uff1a".concat(e.code,"\uff09"),"".concat(e.message?e.message:"\u83b7\u53d6\u6570\u636e\u5931\u8d25!"),"topRight")}})},ne=function(e,t,n){L(Object(b["a"])(Object(b["a"])({},q),{},{pageNum:e.current,pageSize:e.pageSize}))},ae=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=e.dispatch;a({type:"consulteQuestion/deleteQuestionDetail",payload:{onlineServiceId:t},callback:function(e){1008===e.code?(Se("success","\u63d0\u793a","\u5220\u9664\u6210\u529f"),te(),n&&n()):Se("warning","\u63d0\u793a\uff08\u4ee3\u7801\uff1a".concat(e.code,"\uff09"),"".concat(e.message?e.message:"\u5220\u9664\u5931\u8d25\uff01"),"topRight")}})},oe=function(){Ce({title:"\u8bf7\u60a8\u786e\u5b9a\u662f\u5426\u5168\u90e8\u5220\u9664",icon:c.a.createElement(S["a"],null),content:"\u5220\u9664\u540e\u8be5\u95ee\u9898\u4fe1\u606f\u4f1a\u5220\u9664",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){var e=R.join(",");ae(e,(function(){return N([])}))}})},le=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=e.dispatch;n({type:"consulteQuestion/getQuestionType",payload:{},callback:t})},ie=function(e){L(ye),te()},ce=function(){u.setFieldsValue({problem:"",problemId:null}),te()},se=function(){Y(!1),te()};return Object(i["useEffect"])((function(){var t=e.consulteQuestion.questionTypes;te(),Array.isArray(t)&&t.length||le()}),[]),Object(i["useEffect"])((function(){te()}),[q]),c.a.createElement("div",{className:he.a.commonQuestion},_&&c.a.createElement(O["a"],{modalFlag:_,closeModal:se,templateMsg:"\u62ab\u9732\u89c4\u5219\u6a21\u677f\u4e0b\u8f7d",templateUrl:"/onlineService/import/template?tokenId=".concat(Object(w["l"])("vipAdminToken")),onOk:se,url:"/onlineService/import"}),c.a.createElement(h["a"],Object(d["a"])({},ve,{form:u,onFinish:ie}),c.a.createElement(m["a"],{gutter:24},c.a.createElement(f["a"],{span:8},c.a.createElement(h["a"].Item,{label:"\u95ee\u9898:",name:"problem"},c.a.createElement(g["a"],{placeholder:"\u8bf7\u8f93\u5165"}))),c.a.createElement(f["a"],{span:8,className:he.a.questionType},c.a.createElement(h["a"].Item,{label:"\u95ee\u9898\u7c7b\u578b:",name:"problemId"},c.a.createElement(C["a"],{placeholder:"\u8bf7\u9009\u62e9",showSearch:!0,loading:Boolean(e.questionTypeLoading),allowClear:!0,filterOption:function(e,t){return t.children.indexOf(e)>=0}},t.map((function(e){return c.a.createElement(Ie,{value:e.codeValue,key:e.codeValue},e.codeText)})))),a&&c.a.createElement(K,{getQuestionType:le}))),c.a.createElement(m["a"],{gutter:24},c.a.createElement(f["a"],{span:24},c.a.createElement("div",{className:he.a.btns},c.a.createElement(p["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),c.a.createElement(p["a"],{htmlType:"button",className:he.a.raestBtn,onClick:ce},"\u91cd\u7f6e"))))),c.a.createElement("div",null,!!a&&c.a.createElement("div",null,c.a.createElement(p["a"],{type:"primary",style:{marginRight:"5px"},icon:c.a.createElement(x["a"],null),onClick:$},"\u65b0\u5efa"),c.a.createElement(p["a"],{onClick:oe,style:{marginLeft:"10px"}},"\u6279\u91cf\u5220\u9664"),c.a.createElement(p["a"],{style:{marginLeft:"10px"},onClick:function(){return Y(!0)},type:"primary"},"\u6279\u91cf\u4e0a\u4f20")),c.a.createElement(T["a"],{loading:Boolean(e.loading),columns:l,dataSource:j.list||[],total:j.total,pageNum:q.pageNum,scroll:{x:"100%"},sticky:!0,onChange:function(e,t,n){return ne(e,t,n)},rowSelection:X,rowKey:"onlineServiceId"})),B&&c.a.createElement(ge,{visible:B,setVisible:P,tableSearch:te,id:H}))}var Te=Object(s["b"])((function(e){var t=e.consulteQuestion,n=e.loading;return{consulteQuestion:t,loading:n.effects["consulteQuestion/getQuestionSettingTableData"],questionTypeLoading:n.effects["consulteQuestion/getQuestionType"]}}))(xe),Oe=[{title:"\u5e38\u89c1\u95ee\u9898\u8bbe\u7f6e",key:"1"}],we=(n("o+Cm"),l["a"].TabPane);function je(e){return c.a.createElement(r["a"],{title:"\u5e38\u89c1\u95ee\u9898\u7ba1\u7406"},c.a.createElement(u["a"],null,c.a.createElement(o["a"],null,c.a.createElement(l["a"],null,Oe.map((function(e){return c.a.createElement(we,{tab:e.title,key:e.key},c.a.createElement(Te,null))}))))))}t["default"]=Object(s["b"])((function(e){return a(e),{}}))(je)},"o+Cm":function(e,t,n){}}]);