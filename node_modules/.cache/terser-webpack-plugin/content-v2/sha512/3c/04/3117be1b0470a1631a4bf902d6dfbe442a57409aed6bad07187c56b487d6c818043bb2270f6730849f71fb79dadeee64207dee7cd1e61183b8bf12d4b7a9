{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[86],{\"71Y3\":function(e,t,a){e.exports={stepCard:\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-stepCard\",stepBox:\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-stepBox\",stepItemWrapper:\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-stepItemWrapper\",active:\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-active\",stepItem:\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-stepItem\",date:\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-date\",title:\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-title\",available:\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-available\",stepDetail:\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-stepDetail\",header:\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-header\",rightBox:\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-rightBox\",dropdown:\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-dropdown\",item:\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-item\",right:\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-right\",iconBox:\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-iconBox\"}},QMZd:function(e,t,a){e.exports={stockInfo:\"antd-pro-pages-stagging-tool-stock-detail-components-stock-info-index-stockInfo\",rowItem:\"antd-pro-pages-stagging-tool-stock-detail-components-stock-info-index-rowItem\",singleRow:\"antd-pro-pages-stagging-tool-stock-detail-components-stock-info-index-singleRow\",colItem:\"antd-pro-pages-stagging-tool-stock-detail-components-stock-info-index-colItem\",right:\"antd-pro-pages-stagging-tool-stock-detail-components-stock-info-index-right\",input:\"antd-pro-pages-stagging-tool-stock-detail-components-stock-info-index-input\",label:\"antd-pro-pages-stagging-tool-stock-detail-components-stock-info-index-label\",linkInput:\"antd-pro-pages-stagging-tool-stock-detail-components-stock-info-index-linkInput\"}},\"Ur/b\":function(e,t,a){e.exports={stepInfoModal:\"antd-pro-pages-stagging-tool-stock-detail-components-stock-file-modal-index-stepInfoModal\",item:\"antd-pro-pages-stagging-tool-stock-detail-components-stock-file-modal-index-item\",label:\"antd-pro-pages-stagging-tool-stock-detail-components-stock-file-modal-index-label\",right:\"antd-pro-pages-stagging-tool-stock-detail-components-stock-file-modal-index-right\",iconBox:\"antd-pro-pages-stagging-tool-stock-detail-components-stock-file-modal-index-iconBox\"}},VrEL:function(e,t,a){e.exports={productInfo:\"antd-pro-pages-stagging-tool-stock-detail-components-product-info-index-productInfo\"}},Xa1Q:function(e,t,a){e.exports={staggingProductModal:\"antd-pro-pages-stagging-tool-stock-detail-components-product-modal-index-staggingProductModal\"}},kwRC:function(e,t,a){e.exports=a.p+\"static/zip.c77eb504.svg\"},v326:function(e,t,a){\"use strict\";a.r(t);a(\"DYRE\");var n=a(\"zeV3\"),i=(a(\"+L6B\"),a(\"2/Rp\")),l=(a(\"2qtc\"),a(\"kLXV\")),c=a(\"oBTY\"),o=a(\"9og8\"),r=a(\"tJVT\"),s=a(\"WmNS\"),d=a.n(s),p=a(\"q1tI\"),u=a.n(p),g=a(\"9kvl\"),m=a(\"Hx5s\"),f=(a(\"IzEo\"),a(\"bx4M\")),b=(a(\"T2oS\"),a(\"W9HT\")),k=(a(\"miYZ\"),a(\"tsqr\")),y=a(\"wd/R\"),h=a.n(y),E=a(\"QMZd\"),S=a.n(E),w=[[{fieldName:\"publishSubject\",label:\"\\u53d1\\u884c\\u4e3b\\u4f53\",tips:\"\\u70b9\\u51fb\\u8df3\\u8f6cIPO\\u9996\\u9875\",isLink:1,linkKey:\"issuersUrl\",isSingleRow:!1},{fieldName:\"issueStartDate\",label:\"\\u53d1\\u884c\\u65e5\\u671f\",isSingleRow:!1}],[{fieldName:\"preparedListExchange\",label:\"\\u4e0a\\u5e02\\u573a\\u6240\",tips:\"\\u70b9\\u51fb\\u8df3\\u8f6c\\u4ea4\\u6613\\u6240\\u9996\\u9875\",isLink:1,linkKey:\"preparedListExchangeUrl\",isSingleRow:!1},{fieldName:\"leadUnderwriter\",label:\"\\u4fdd\\u8350\\u673a\\u6784\",tips:\"\\u70b9\\u51fb\\u8df3\\u8f6c\\u4fdd\\u8350\\u673a\\u6784\\u6750\\u6599\\u63d0\\u4ea4\\u9875\\u9762\",isLink:1,linkKey:\"website\",isSingleRow:!1}],[{fieldName:\"telephone\",label:\"\\u8054\\u7cfb\\u65b9\\u5f0f\",isSingleRow:!0}],[{fieldName:\"coleadUnderwriter\",label:\"\\u526f\\u4e3b\\u627f\",isSingleRow:!0}],[{fieldName:\"applyMaxLP\",label:\"\\u7533\\u8d2d\\u4e0a\\u9650\",isSingleRow:!1},{fieldName:\"applyUnitLP\",label:\"\\u6700\\u5c0f\\u7533\\u8d2d\\u89c4\\u6a21\",isSingleRow:!1}],[{fieldName:\"industry\",label:\"\\u6240\\u5c5e\\u884c\\u4e1a\",isSingleRow:!1},{fieldName:\"applyCodeOnline\",label:\"\\u7533\\u8d2d\\u4ee3\\u7801\",isSingleRow:!1}],[{fieldName:\"offlineApplyPlan\",label:\"\\u53d1\\u884c\\u89c4\\u6a21\",isSingleRow:!1},{fieldName:\"minProgressivePricePI\",label:\"\\u7533\\u8d2d\\u7ea7\\u5dee\",isSingleRow:!1}],[{fieldName:\"offLineSXZCGMDate\",label:\"\\u4ea7\\u54c1\\u89c4\\u6a21\\u65e5\\u671f\",isSingleRow:!1}]],v=function(e){var t=e.id,a=e.dispatch,n=e.formLoading,i=e.staggingStockDetail,l=i.stockDetail,c=Object(p[\"useState\"])({}),o=Object(r[\"a\"])(c,2),s=o[0],d=o[1],g=Object(p[\"useCallback\"])((function(e){var t=e.isLink,a=e.linkKey;t&&(l[a]?window.open(l[a]):k[\"default\"].info(\"\\u94fe\\u63a5\\u4e0d\\u5b58\\u5728\"))}),[l]);return Object(p[\"useEffect\"])((function(){return a({type:\"staggingStockDetail/getStockDetail\",payload:{secuCode:t}}),function(){a({type:\"staggingStockDetail/updateModelData\",payload:{stockDetail:{}}})}}),[a,t]),Object(p[\"useEffect\"])((function(){if(l&&l.secuCode===t){var e={};w.forEach((function(t){t.forEach((function(t){var a=t.fieldName;if(\"publishSubject\"===a){var n=l.secuCode,i=l.securityAbbr;e[a]=\"\".concat(n,\"[\").concat(i,\"]\")}else if(\"telephone\"===a){var c=l.email,o=l.tel;e[a]=\"\\u8054\\u7cfb\\u65b9\\u5f0f\\uff1a\".concat(o||\"\",\"\\uff1b\\u90ae\\u7bb1\\uff1a\").concat(c||\"\")}else if(\"priceRange\"===a){var r=l.issueVolCeiling,s=l.issueVolFloor;e[a]=\"\".concat(s||0,\"-\").concat(r||0)}else if(\"issueStartDate\"===a||\"offLineSXZCGMDate\"===a){var d=l[a];e[a]=d?h()(d).format(\"YYYY-MM-DD\"):\"\"}else e[a]=l[a]}))})),d(e)}}),[t,l]),u.a.createElement(f[\"a\"],{title:\"\\u6807\\u7684\\u4fe1\\u606f\",className:S.a.stockInfo},u.a.createElement(b[\"a\"],{spinning:n},w.map((function(e,t){return u.a.createElement(\"div\",{key:t,className:\"\".concat(S.a.rowItem,\" \").concat(e[0].isSingleRow?S.a.singleRow:\"\")},e.map((function(e,t){return u.a.createElement(\"div\",{key:t,className:S.a.colItem},u.a.createElement(\"div\",{className:S.a.label},e.label,\"\\uff1a\"),u.a.createElement(\"div\",{className:S.a.right},u.a.createElement(\"div\",{className:\"\".concat(S.a.input,\" \").concat(1===e.isLink?S.a.linkInput:\"\"),onClick:function(){return g(e)}},s[e.fieldName]),e.tips&&u.a.createElement(\"p\",{className:S.a.tips},e.tips)))})))}))))},O=Object(g[\"b\"])((function(e){var t=e.staggingStockDetail,a=e.loading;return{formLoading:a.effects[\"staggingStockDetail/getStockDetail\"],staggingStockDetail:t}}))(v),x=(a(\"J+/v\"),a(\"MoRW\")),j=(a(\"14J3\"),a(\"BMrR\")),C=(a(\"jCWc\"),a(\"kPKH\")),I=a(\"k1fw\"),D=a(\"UESt\"),N=a(\"VTBJ\"),L={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M904 747H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM165.7 621.8l39.7 39.5c3.1 3.1 8.2 3.1 11.3 0l234.7-233.9 97.6 97.3a32.11 32.11 0 0045.2 0l264.2-263.2c3.1-3.1 3.1-8.2 0-11.3l-39.7-39.6a8.03 8.03 0 00-11.3 0l-235.7 235-97.7-97.3a32.11 32.11 0 00-45.2 0L165.7 610.5a7.94 7.94 0 000 11.3z\"}}]},name:\"stock\",theme:\"outlined\"},P=L,R=a(\"6VBw\"),M=function(e,t){return p[\"createElement\"](R[\"a\"],Object(N[\"a\"])(Object(N[\"a\"])({},e),{},{ref:t,icon:P}))};M.displayName=\"StockOutlined\";var A=p[\"forwardRef\"](M),T=a(\"+n12\"),U=a(\"vDqi\"),Y=a.n(U),B=a(\"kwRC\"),F=a.n(B),V=a(\"71Y3\"),z=a.n(V),K={1:\"1\\u3001\\u4e3b\\u627f\\u5e73\\u53f0\\u6750\\u6599\\u63d0\\u4ea4\",2:\"2\\u3001\\u8be2\\u4ef7\\u63d0\\u4ea4\",3:\"3\\u3001\\u53d1\\u884c\\u516c\\u544a\",4:\"4\\u3001\\u53d1\\u884c/\\u7533\\u8d2d\",5:\"5\\u3001\\u516c\\u5e03\\u4e2d\\u7b7e\",6:\"6\\u3001\\u83b7\\u914d/\\u7f34\\u6b3e\",7:\"7\\u3001\\u4e0a\\u5e02\"},q={1:!0,2:!0,3:!1,4:!0,5:!1,6:!0,7:!1},Q=function(e){var t=e.id,a=e.applyStatus,l=e.dispatch,s=e.staggingStockDetail,g=s.IPOMaterialList,m=s.stockDetail,b=Object(p[\"useState\"])([]),y=Object(r[\"a\"])(b,2),E=y[0],S=y[1],w=Object(p[\"useState\"])(0),v=Object(r[\"a\"])(w,2),O=v[0],N=v[1],L=Object(p[\"useState\"])(0),P=Object(r[\"a\"])(L,2),R=P[0],M=P[1],U=Object(p[\"useState\"])(0),B=Object(r[\"a\"])(U,2),V=B[0],Q=B[1],W=Object(p[\"useState\"])(\"\"),H=Object(r[\"a\"])(W,2),_=H[0],X=H[1],J=Object(p[\"useState\"])([]),Z=Object(r[\"a\"])(J,2),G=(Z[0],Z[1]),$=Object(p[\"useState\"])([]),ee=Object(r[\"a\"])($,2),te=ee[0],ae=ee[1],ne=Object(p[\"useState\"])({id:1,color:\"#ff3f3f\",text:\"\\u5f85\\u63d0\\u4ea4\"}),ie=Object(r[\"a\"])(ne,2),le=ie[0],ce=ie[1],oe=Object(p[\"useState\"])(!1),re=Object(r[\"a\"])(oe,2),se=re[0],de=re[1],pe=Object(p[\"useCallback\"])(Object(o[\"a\"])(d.a.mark((function e(){var a,n,i,c,o,r,s;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l({type:\"staggingStockDetail/getStockIPOStepDetail\",payload:{secuCode:t}});case 2:if(a=e.sent,1008===a.code){e.next=5;break}return e.abrupt(\"return\");case 5:n=a.data||{},i=n.step,c=void 0===i?1:i,o=n.stepInfos,r=void 0===o?[]:o,s=r.map((function(e){var t=e.startDate,a=e.endDate,n=e.step,i=t?h()(t).format(\"MM/DD\"):\"\",l=a?h()(a).format(\"MM/DD\"):\"\";return Object(I[\"a\"])(Object(I[\"a\"])({},e),{},{date:i?\"\".concat(i).concat(l&&i!==l?\"-\".concat(l):\"\"):\"---\",title:K[n],available:q[n]})})),M(c||1),N(8===c?1:c||1),S(s);case 10:case\"end\":return e.stop()}}),e)}))),[l,t]),ue=Object(p[\"useCallback\"])((function(e){if(e&&e.fileUrl){var t=e.fileUrl;window.open(t)}else k[\"default\"].info(\"\\u6750\\u6599\\u4e0d\\u5b58\\u5728\")}),[g]),ge=Object(p[\"useCallback\"])(Object(o[\"a\"])(d.a.mark((function e(){var a,n,i,c,o,r;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l({type:\"staggingStockDetail/reGenAllAttachments\",payload:{secuCode:t}});case 2:if(a=e.sent,1008===a.code){e.next=6;break}return k[\"default\"].error(a.message),e.abrupt(\"return\");case 6:return e.next=8,Y()({url:\"\".concat({baseUrl:\"/hdmanager/\",adminUrl:\"/hd-manager\",ASSSET_DOMIAN:\"RESOURCE_PATH\",AI:{AI_type:0},isSaas:1}.adminUrl,\"/staggingnew/apply/downloadMaterialPackage\"),data:{secuCode:t},method:\"post\",responseType:\"blob\",headers:{\"Content-Type\":\"application/json; application/octet-stream\",tokenId:Object(T[\"l\"])(\"vipAdminToken\")||\"\"}});case 8:n=e.sent;try{i=n.headers[\"content-disposition\"].split(\";\")[1].split(\"filename*=utf-8''\")[1],i=decodeURIComponent(i),c=new Blob([n.data]),o=document.createElement(\"a\"),r=window.URL.createObjectURL(c),o.href=r,o.download=i,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(r)}catch(s){k[\"default\"].error(\"\\u751f\\u6210\\u6587\\u4ef6\\u5931\\u8d25\")}case 10:case\"end\":return e.stop()}}),e)}))),[l,t]),me=Object(p[\"useCallback\"])((function(){var e=m.website;e?window.open(e):k[\"default\"].info(\"\\u627f\\u9500\\u5546\\u7f51\\u5740\\u4e0d\\u5b58\\u5728\\uff01\")}),[m]),fe=Object(p[\"useCallback\"])(function(){var e=Object(o[\"a\"])(d.a.mark((function e(a,n){var i;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return de(!1),e.next=3,l({type:\"staggingStockDetail/finishCurrentIPOStep\",payload:{secuCode:t,step:a,stepStatus:n}});case 3:i=e.sent,1008===i.code&&S(E.map((function(e){return e.step===a&&(e.stepStatus=n),e})));case 5:case\"end\":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[l,t,E]);return Object(p[\"useEffect\"])((function(){if(0!==E.length){var e=E[O-1],t=e.title,a=e.stepStatus,n=[{id:1,color:\"#ff3f3f\",text:\"\\u5f85\\u63d0\\u4ea4\"},{id:2,color:\"#fdc753\",text:\"\\u5df2\\u63d0\\u4ea4\"},{id:3,color:\"#3d7fff\",text:\"\\u5df2\\u5b8c\\u6210\"}];de(!1),X(t),Q(a),ce(n.find((function(e){return e.id===a}))),ae(n.filter((function(e){return e.id!==a})))}}),[O,E]),Object(p[\"useEffect\"])((function(){pe()}),[l,pe]),Object(p[\"useEffect\"])((function(){l({type:\"staggingStockDetail/getStaggingMaterials\",payload:{secuCode:t}})}),[l,t]),Object(p[\"useEffect\"])((function(){var e=[];Object(c[\"a\"])(Array(4)).map((function(t,a){var n=g.find((function(e){return e.type===a+1})),i=n||{},l=i.fileName,c=void 0===l?\"\":l,o=i.fileUrl,r=void 0===o?\"\":o;e.push({fileUrl:r,fileName:c})})),G(e)}),[g]),u.a.createElement(f[\"a\"],{title:\"\\u53c2\\u4e0e\\u4fe1\\u606f\",className:z.a.stepCard},u.a.createElement(\"div\",{className:z.a.stepBox},E.map((function(e,t){return u.a.createElement(u.a.Fragment,null,u.a.createElement(\"div\",{key:e.step,className:\"\".concat(z.a.stepItemWrapper,\" \").concat(O===t+1?z.a.active:\"\",\" \")},u.a.createElement(\"div\",{className:\"\".concat(z.a.stepItem,\" \").concat(O===t+1?z.a.active:\"\",\" \").concat(e.available?z.a.available:\"\"),onClick:function(){return N(t+1)}},u.a.createElement(\"div\",{className:z.a.date},e.date),u.a.createElement(\"div\",{className:z.a.title},e.title))),6!==t&&u.a.createElement(D[\"a\"],null))}))),O>=1&&1===a&&u.a.createElement(\"div\",{className:z.a.stepDetail},u.a.createElement(\"div\",{className:z.a.header},u.a.createElement(\"div\",{className:z.a.title},_),[1,2,4,6].includes(O)&&0!==V&&R>=O&&u.a.createElement(\"div\",{className:z.a.rightBox},u.a.createElement(i[\"a\"],{style:{color:\"#fff\",backgroundColor:le.color,border:\"none\"},onClick:function(){return de(!se)}},le.text),se&&u.a.createElement(\"div\",{className:z.a.dropdown},te.map((function(e,t){return u.a.createElement(i[\"a\"],{key:t,style:{color:\"#fff\",backgroundColor:e.color,border:\"none\"},onClick:function(){return fe(O,e.id)}},e.text)}))))),1===O&&u.a.createElement(u.a.Fragment,null,u.a.createElement(j[\"a\"],{justify:\"center\"},g.map((function(e,t){return(1===e.code||2===e.code||0===e.code&&e.hints.length>0)&&u.a.createElement(C[\"a\"],{key:t,span:4},u.a.createElement(\"div\",{className:z.a.item},u.a.createElement(\"div\",{className:z.a.label},e.typeName,\"\\uff1a\"),u.a.createElement(\"div\",{className:z.a.right},u.a.createElement(\"div\",{className:z.a.iconBox,onClick:function(){return ue(e)}},u.a.createElement(\"img\",{src:F.a})),u.a.createElement(\"p\",null,e.fileName))))}))),u.a.createElement(n[\"b\"],{style:{justifyContent:\"center\",width:\"100%\",marginTop:\"40px\"}},u.a.createElement(i[\"a\"],{type:\"primary\",onClick:ge},\"\\u91cd\\u65b0\\u751f\\u6210\\u6587\\u4ef6\"),u.a.createElement(i[\"a\"],{type:\"primary\",onClick:me},\"\\u4e0a\\u4f20\\u627f\\u9500\\u5546\"))),O>1&&u.a.createElement(x[\"a\"],{icon:u.a.createElement(A,null),title:\"\\u656c\\u8bf7\\u671f\\u5f85\\uff01\"})))},W=Object(g[\"b\"])((function(e){var t=e.staggingStockDetail;return{staggingStockDetail:t}}))(Q),H=(a(\"qVdP\"),a(\"jsC+\")),_=(a(\"lUTK\"),a(\"BvKs\")),X=(a(\"iQDF\"),a(\"+eQT\")),J=(a(\"y8nQ\"),a(\"Vl3Y\")),Z=(a(\"OaEy\"),a(\"2fM7\")),G=a(\"55Ip\"),$=a(\"tQHx\"),ee=a(\"QWqi\"),te=a(\"VrEL\"),ae=a.n(te),ne=Z[\"a\"].Option,ie={fileName:\"\",datas:[{sheetData:[],sheetName:\"sheet\",sheetFilter:[\"productName\",\"lpInvestDetail\",\"updateTime\",\"capitalScale\",\"proposedPrice\",\"proposedShares\",\"applyResult\",\"initalShares\",\"quota\",\"brokerageFee\",\"payInAmount\",\"type\",\"payInStatus\",\"restrictedRate\",\"restrictedShares\",\"restrictedTime\"],sheetHeader:[\"\\u4ea7\\u54c1\\u540d\\u79f0\",\"\\u51fa\\u8d44\\u65b9\\u4fe1\\u606f\\u6982\\u89c8\\uff08X\\u5c42/Y\\u4e2a\\uff09\",\"\\u51fa\\u8d44\\u65b9\\u66f4\\u65b0\\u65e5\\u671f\",\"\\u8d44\\u4ea7\\u89c4\\u6a21\\u6570\\u636e\",\"\\u62df\\u7533\\u62a5\\u4ef7\\u683c\",\"\\u62df\\u7533\\u8d2d\\u80a1\\u6570\",\"\\u521d\\u6b65\\u914d\\u552e\\u80a1\\u6570\",\"\\u7533\\u62a5\\u7ed3\\u679c\",\"\\u83b7\\u914d\\u91d1\\u989d\",\"\\u7ecf\\u7eaa\\u4f63\\u91d1\",\"\\u5408\\u8ba1\\u5e94\\u7f34\",\"\\u5206\\u7c7b\",\"\\u7f34\\u6b3e\\u72b6\\u6001\",\"\\u9650\\u552e\\u6bd4\\u4f8b\",\"\\u9650\\u552e\\u80a1\\u6570\",\"\\u9650\\u552e\\u65f6\\u95f4\"]}]},le=function(e){var t=e.dispatch,a=e.id,l=e.tableLoading,c=e.staggingStockDetail,s=e.onReChoose,g=c.applyProductPageNum,m=c.applyProductPageSize,b=c.applyProductList,y=c.applyProductTotal,E=c.searchForm,S=J[\"a\"].useForm(),w=Object(r[\"a\"])(S,1),v=w[0],O=Object(p[\"useState\"])([]),x=Object(r[\"a\"])(O,2),j=x[0],C=x[1],D=[{title:\"\\u4ea7\\u54c1\\u540d\\u79f0\",dataIndex:\"productName\",align:\"center\",fixed:\"left\",width:200,render:function(e,t){return u.a.createElement(G[\"a\"],{to:\"/staggingTool/product/detail/\".concat(t.productId)},e)}},{title:\"\\u51fa\\u8d44\\u65b9\\u4fe1\\u606f\\u6982\\u89c8\\uff08X\\u5c42/Y\\u4e2a\\uff09\",dataIndex:\"lpInvestDetail\",align:\"center\",width:200},{title:\"\\u51fa\\u8d44\\u65b9\\u66f4\\u65b0\\u65e5\\u671f\",dataIndex:\"updateTime\",align:\"center\",width:200,render:function(e){return e?h()(e).format(\"YYYY-MM-DD\"):\"\"}},{title:\"\\u8d44\\u4ea7\\u89c4\\u6a21\\u6570\\u636e\",dataIndex:\"capitalScale\",align:\"center\",width:200},{title:\"\\u62df\\u7533\\u62a5\\u4ef7\\u683c\",dataIndex:\"proposedPrice\",align:\"center\",width:200},{title:\"\\u62df\\u7533\\u8d2d\\u80a1\\u6570\",dataIndex:\"proposedShares\",align:\"center\",width:200},{title:\"\\u7533\\u62a5\\u7ed3\\u679c\",dataIndex:\"applyResult\",align:\"center\",width:200},{title:\"\\u521d\\u6b65\\u914d\\u552e\\u80a1\\u6570\",dataIndex:\"initalShares\",align:\"center\",width:200},{title:\"\\u83b7\\u914d\\u91d1\\u989d\",dataIndex:\"quota\",align:\"center\",width:200},{title:\"\\u7ecf\\u7eaa\\u4f63\\u91d1\",dataIndex:\"brokerageFee\",align:\"center\",width:200},{title:\"\\u5408\\u8ba1\\u5e94\\u7f34\",dataIndex:\"payInAmount\",align:\"center\",width:200},{title:\"\\u5206\\u7c7b\",dataIndex:\"type\",align:\"center\",width:200},{title:\"\\u7f34\\u6b3e\\u72b6\\u6001\",dataIndex:\"payInStatus\",align:\"center\",render:function(e){return 1===e?\"\\u5df2\\u7f34\\u6b3e\":\"\\u672a\\u7f34\\u6b3e\"},width:200},{title:\"\\u9650\\u552e\\u6bd4\\u4f8b\",dataIndex:\"restrictedRate\",align:\"center\",width:200},{title:\"\\u9650\\u552e\\u80a1\\u6570\",dataIndex:\"restrictedShares\",align:\"center\",width:200},{title:\"\\u9650\\u552e\\u65f6\\u95f4\",dataIndex:\"restrictedTime\",align:\"center\",width:200}],N={selectedRowKeys:j,onChange:C},L=Object(p[\"useCallback\"])((function(){var e=v.getFieldsValue(),a=e.productId,n=e.applyResult,i=e.updateTime,l={applyResult:n,productId:a,updateTime:i?h()(i).format(\"YYYY-MM-DD\"):\"\"};t({type:\"staggingStockDetail/updateModelData\",payload:{applyProductPageNum:1,searchForm:l}})}),[t,v]),P=Object(p[\"useCallback\"])((function(){v.resetFields(),t({type:\"staggingStockDetail/updateModelData\",payload:{applyProductPageNum:1,searchForm:{}}})}),[t,v]),R=Object(p[\"useCallback\"])(function(){var e=Object(o[\"a\"])(d.a.mark((function e(n){var i,l,c;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=[],\"selected\"!==n){e.next=8;break}if(0!==j.length){e.next=5;break}return k[\"default\"].info(\"\\u8bf7\\u81f3\\u5c11\\u9009\\u62e9\\u4e00\\u884c\\uff01\"),e.abrupt(\"return\");case 5:i=j.map((function(e){return b.find((function(t){return t.id===e}))})),e.next=13;break;case 8:return e.next=10,t({type:\"staggingStockDetail/getAllApplyProductList\",payload:{secuCode:a}});case 10:l=e.sent,c=l.data||{},i=c.list||[];case 13:i.forEach((function(e){e.updateTime=e.updateTime?h()(e.updateTime).format(\"YYYY-MM-DD\"):\"\",e.payInStatus=1===e.payInStatus?\"\\u5df2\\u7f34\\u6b3e\":\"\\u672a\\u7f34\\u6b3e\"})),ie.fileName=\"\".concat((new Date).getTime()),ie.datas[0].sheetData=i,Object(T[\"e\"])(ie);case 17:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[b,t,a,j]),M=Object(p[\"useCallback\"])((function(e){t({type:\"staggingStockDetail/updateModelData\",payload:{applyProductPageNum:e.current,applyProductPageSize:e.pageSize}})}),[t]);return Object(p[\"useEffect\"])((function(){t({type:\"staggingStockDetail/getApplyProductList\",payload:Object(I[\"a\"])({secuCode:a,pageNum:g,pageSize:m},E)})}),[g,m,t,a,E]),u.a.createElement(f[\"a\"],{title:\"\\u914d\\u552e\\u5bf9\\u8c61\\u4fe1\\u606f\\u8868\",className:ae.a.productInfo},u.a.createElement(J[\"a\"],{form:v,name:\"search_product_form\",layout:\"inline\",onFinish:L},u.a.createElement(ee[\"b\"],{params:\"productId\",value:\"productId\",label:\"productName\",formItemLayout:{style:{width:300}},formLabel:\"\\u4ea7\\u54c1\\u540d\\u79f0\"}),u.a.createElement(J[\"a\"].Item,{label:\"\\u7533\\u62a5\\u7ed3\\u679c\",name:\"applyResult\"},u.a.createElement(Z[\"a\"],{placeholder:\"\\u8bf7\\u9009\\u62e9\",style:{width:\"200px\"},allowClear:!0},u.a.createElement(ne,{value:1},\"\\u4e2d\\u7b7e\"),u.a.createElement(ne,{value:0},\"\\u672a\\u4e2d\\u7b7e\"))),u.a.createElement(J[\"a\"].Item,{label:\"\\u66f4\\u65b0\\u65e5\\u671f\",name:\"updateTime\"},u.a.createElement(X[\"a\"],{style:{width:\"200px\"}})),u.a.createElement(J[\"a\"].Item,null,u.a.createElement(n[\"b\"],null,u.a.createElement(i[\"a\"],{type:\"primary\",onClick:s},\"\\u4fee\\u6539\\u53c2\\u4e0e\\u4ea7\\u54c1\"),u.a.createElement(H[\"a\"],{placement:\"bottomLeft\",overlay:function(){return u.a.createElement(_[\"a\"],null,u.a.createElement(_[\"a\"].Item,{onClick:function(){return R(\"selected\")}},\"\\u5bfc\\u51fa\\u9009\\u4e2d\"),u.a.createElement(_[\"a\"].Item,{onClick:function(){return R(\"all\")}},\"\\u5bfc\\u51fa\\u5168\\u90e8\"))}},u.a.createElement(i[\"a\"],null,\"\\u6279\\u91cf\\u5bfc\\u51fa\")),u.a.createElement(i[\"a\"],{type:\"primary\",htmlType:\"submit\"},\"\\u67e5\\u8be2\"),u.a.createElement(i[\"a\"],{onClick:P},\"\\u91cd\\u7f6e\")))),u.a.createElement($[\"a\"],{loading:l,columns:D,dataSource:b,total:y,pageNum:g,scroll:{x:\"100%\"},sticky:!0,onChange:M,rowKey:\"id\",rowSelection:N}))},ce=Object(g[\"b\"])((function(e){var t=e.staggingStockDetail,a=e.loading;return{staggingStockDetail:t,tableLoading:a.effects[\"staggingStockDetail/getApplyProductList\"]}}))(le),oe=(a(\"5NDa\"),a(\"5rEg\")),re=a(\"Xa1Q\"),se=a.n(re),de=Z[\"a\"].Option,pe=function(e){var t=e.dispatch,a=e.id,c=e.isVisible,s=e.onCancel,g=e.onConfirm,m=e.tableLoading,f=e.submitLoading,b=e.canApplyProductList,y=J[\"a\"].useForm(),h=Object(r[\"a\"])(y,1),E=h[0],S=Object(p[\"useState\"])([]),w=Object(r[\"a\"])(S,2),v=w[0],O=w[1],x=[{title:\"\\u4ea7\\u54c1\\u540d\\u79f0\",dataIndex:\"productName\",align:\"center\",width:200},{title:\"\\u8d44\\u4ea7\\u51c0\\u503c\",dataIndex:\"capitalScale\",align:\"center\"},{title:\"\\u53c2\\u4e0e\\u5e02\\u573a\",dataIndex:\"lpInvestType \",align:\"center\",render:function(e){var t={1:\"\\u6caa\\u5e02\",2:\"\\u6df1\\u5e02\",3:\"\\u79d1\\u521b\",4:\"\\u521b\\u4e1a\"};return t[e]}},{title:\"\\u662f\\u5426\\u5177\\u6709\\u914d\\u552e\\u5bf9\\u8c61\\u8d44\\u8d28\",dataIndex:\"canApplyNewShare\",align:\"center\",render:function(e){return 1===e?\"\\u662f\":\"\\u5426\"}},{title:\"\\u914d\\u552e\\u5bf9\\u8c61\\u534f\\u4f1a\\u7f16\\u7801\",dataIndex:\"productSacCode\",align:\"center\"},{title:\"\\u914d\\u552e\\u5bf9\\u8c61\\u8bc1\\u5238\\u8d26\\u6237\\u53f7\\uff08\\u6caa\\u5e02\\uff09\",dataIndex:\"shanghaiStockExchangeAccount\",align:\"center\"},{title:\"\\u914d\\u552e\\u5bf9\\u8c61\\u8bc1\\u5238\\u8d26\\u6237\\u53f7\\uff08\\u6df1\\u5e02\\uff09\",dataIndex:\"shenzhenStockExchangeAccount\",align:\"center\"}],D={columnWidth:\"32px\",selectedRowKeys:v,onChange:O},N=Object(p[\"useCallback\"])((function(){var e=E.getFieldsValue();t({type:\"staggingStockDetail/getCanApplyProductList\",payload:Object(I[\"a\"])({secuCode:a},e)})}),[t,E,a]),L=Object(p[\"useCallback\"])((function(){E.resetFields();var e=E.getFieldsValue();t({type:\"staggingStockDetail/getCanApplyProductList\",payload:Object(I[\"a\"])({secuCode:a},e)})}),[t,E,a]),P=Object(p[\"useCallback\"])(Object(o[\"a\"])(d.a.mark((function e(){var n,i;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=v,0!==n.length){e.next=4;break}return k[\"default\"].warn(\"\\u8bf7\\u81f3\\u5c11\\u9009\\u62e9\\u4e00\\u4e2a\\u4ea7\\u54c1\\uff01\"),e.abrupt(\"return\");case 4:return e.next=6,t({type:\"staggingStockDetail/generateStaggingMaterials\",payload:{productIds:n,secuCode:a}});case 6:i=e.sent,1008===i.code?g(i.data):k[\"default\"].error(i.message);case 8:case\"end\":return e.stop()}}),e)}))),[t,g,v,a]);return Object(p[\"useEffect\"])((function(){var e=[];b.forEach((function(t){t.checked&&e.push(t.productId)})),O(e)}),[b]),Object(p[\"useEffect\"])((function(){var e=E.getFieldsValue();c&&(t({type:\"staggingStockDetail/getCanApplyProductList\",payload:Object(I[\"a\"])(Object(I[\"a\"])({},e),{},{canApplyNewShare:e.canApplyNewShare||1,isShowSonProduct:e.isShowSonProduct||0,secuCode:a})}),setTimeout((function(){E.resetFields()}),100))}),[t,E,c,a]),u.a.createElement(l[\"a\"],{className:se.a.staggingProductModal,visible:c,width:\"70%\",destroyOnClose:!0,onCancel:s,footer:[u.a.createElement(i[\"a\"],{key:\"submit\",type:\"primary\",size:\"large\",loading:f,onClick:P},\"\\u53c2\\u4e0e\\u6253\\u65b0\\u5e76\\u751f\\u6210\\u627f\\u9500\\u5546\\u6587\\u4ef6\")]},u.a.createElement(J[\"a\"],{form:E,initialValues:{canApplyNewShare:1,isShowSonProduct:0},onFinish:N},u.a.createElement(j[\"a\"],{gutter:12},u.a.createElement(C[\"a\"],{span:8},u.a.createElement(J[\"a\"].Item,{label:\"\\u4ea7\\u54c1\\u540d\\u79f0\",name:\"productName\"},u.a.createElement(oe[\"a\"],{placeholder:\"\\u8bf7\\u8f93\\u5165\\u4ea7\\u54c1\\u540d\\u79f0\"}))),u.a.createElement(C[\"a\"],{span:8},u.a.createElement(J[\"a\"].Item,{label:\"\\u662f\\u5426\\u5177\\u6709\\u914d\\u552e\\u5bf9\\u8c61\\u8d44\\u8d28\",name:\"canApplyNewShare\"},u.a.createElement(Z[\"a\"],{placeholder:\"\\u8bf7\\u9009\\u62e9\",style:{width:\"100%\"},allowClear:!0},u.a.createElement(de,{value:1},\"\\u662f\"),u.a.createElement(de,{value:0},\"\\u5426\")))),u.a.createElement(C[\"a\"],{span:8},u.a.createElement(J[\"a\"].Item,{label:\"\\u53c2\\u4e0e\\u5e02\\u573a\",name:\"lpInvestType\"},u.a.createElement(Z[\"a\"],{placeholder:\"\\u8bf7\\u9009\\u62e9\",style:{width:\"100%\"},allowClear:!0},u.a.createElement(de,{value:1},\"\\u6caa\\u5e02\"),u.a.createElement(de,{value:2},\"\\u6df1\\u5e02\"),u.a.createElement(de,{value:3},\"\\u6caa\\u5e02\\u3001\\u6df1\\u5e02\")))),u.a.createElement(C[\"a\"],{span:8},u.a.createElement(J[\"a\"].Item,{name:\"isShowSonProduct\",label:\"\\u662f\\u5426\\u5c55\\u793a\\u5b50\\u4ea7\\u54c1\"},u.a.createElement(Z[\"a\"],{placeholder:\"\\u8bf7\\u9009\\u62e9\",style:{width:\"100%\"},allowClear:!0},u.a.createElement(de,{value:1},\"\\u662f\"),u.a.createElement(de,{value:0},\"\\u5426\")))),u.a.createElement(C[\"a\"],{span:8,offset:8},u.a.createElement(J[\"a\"].Item,null,u.a.createElement(n[\"b\"],null,u.a.createElement(i[\"a\"],{type:\"primary\",htmlType:\"submit\"},\"\\u67e5\\u8be2\"),u.a.createElement(i[\"a\"],{onClick:L},\"\\u91cd\\u7f6e\")))))),u.a.createElement($[\"a\"],{loading:m,columns:x,dataSource:b,scroll:{x:\"100%\",y:400},sticky:!0,rowKey:\"productId\",rowSelection:D,pagination:!1}))},ue=Object(g[\"b\"])((function(e){var t=e.staggingStockDetail,a=e.loading;return{tableLoading:a.effects[\"staggingStockDetail/getCanApplyProductList\"],submitLoading:a.effects[\"staggingStockDetail/generateStaggingMaterials\"],canApplyProductList:t.canApplyProductList}}))(pe),ge=a(\"Ur/b\"),me=a.n(ge),fe=function(e){var t=e.id,a=e.isVisible,n=e.onCancel,s=e.onConfirm,g=e.submitLoading,m=e.staggingStockDetail,f=m.IPOMaterialList,b=m.newIPOMaterialList,y=Object(p[\"useState\"])([]),h=Object(r[\"a\"])(y,2),E=(h[0],h[1]),S=Object(p[\"useCallback\"])(Object(o[\"a\"])(d.a.mark((function e(){var a,n,i,l,c;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Y()({url:\"\".concat({baseUrl:\"/hdmanager/\",adminUrl:\"/hd-manager\",ASSSET_DOMIAN:\"RESOURCE_PATH\",AI:{AI_type:0},isSaas:1}.adminUrl,\"/staggingnew/apply/downloadMaterialPackage\"),data:{secuCode:t},method:\"post\",responseType:\"blob\",headers:{\"Content-Type\":\"application/json; application/octet-stream\",tokenId:Object(T[\"l\"])(\"vipAdminToken\")||\"\"}});case 2:a=e.sent;try{n=a.headers[\"content-disposition\"].split(\";\")[1].split(\"filename*=utf-8''\")[1],n=decodeURIComponent(n),i=new Blob([a.data]),l=document.createElement(\"a\"),c=window.URL.createObjectURL(i),l.href=c,l.download=n,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(c),s()}catch(o){k[\"default\"].error(\"\\u751f\\u6210\\u6587\\u4ef6\\u5931\\u8d25\")}case 4:case\"end\":return e.stop()}}),e)}))),[s,t]),w=Object(p[\"useCallback\"])((function(e){if(e&&e.fileUrl){var t=e.fileUrl;window.open(t)}else k[\"default\"].info(\"\\u6750\\u6599\\u4e0d\\u5b58\\u5728\")}),[f]);Object(p[\"useEffect\"])((function(){var e=[];Object(c[\"a\"])(Array(4)).map((function(t,a){var n=f.find((function(e){return e.type===a+1})),i=n||{},l=i.fileName,c=void 0===l?\"\":l,o=i.fileUrl,r=void 0===o?\"\":o;e.push({fileUrl:r,fileName:c})})),E(e)}),[f]);var v=function(){var e=[];return Array.isArray(b)&&b.map((function(t){-2!==t.code&&e.push(t)})),e.length>0?u.a.createElement(i[\"a\"],{key:\"submit\",type:\"primary\",size:\"large\",loading:g,onClick:S},\"\\u751f\\u6210\\u6587\\u4ef6\"):u.a.createElement(i[\"a\"],{key:\"submit\",type:\"primary\",size:\"large\",disabled:!0},\"\\u65e0\\u627f\\u9500\\u5546\\u6a21\\u677f\")};return u.a.createElement(l[\"a\"],{className:me.a.stepInfoModal,visible:a,width:\"70%\",destroyOnClose:!0,onCancel:n,footer:[v()]},u.a.createElement(j[\"a\"],{justify:\"center\"},f.map((function(e,t){return(1===e.code||2===e.code||0===e.code&&e.hints.length>0)&&u.a.createElement(C[\"a\"],{key:t,span:4},u.a.createElement(\"div\",{className:me.a.item},u.a.createElement(\"div\",{className:me.a.label},e.typeName,\"\\uff1a\"),u.a.createElement(\"div\",{className:me.a.right},u.a.createElement(\"div\",{className:me.a.iconBox,onClick:function(){return w(e)}},u.a.createElement(\"img\",{src:F.a})),u.a.createElement(\"p\",null,e.fileName))))}))))},be=Object(g[\"b\"])((function(e){var t=e.staggingStockDetail,a=e.loading;return{submitLoading:a.effects[\"staggingStockDetail/downloadAllMeterials\"],staggingStockDetail:t}}))(fe),ke=function(e){var t=e.dispatch,a=e.match.params,s=e.staggingStockDetail,g=a.id,f=Object(p[\"useState\"])(!1),b=Object(r[\"a\"])(f,2),k=b[0],y=b[1],h=Object(p[\"useState\"])(!1),E=Object(r[\"a\"])(h,2),S=E[0],w=E[1],v=Object(p[\"useState\"])(!1),x=Object(r[\"a\"])(v,2),j=x[0],C=x[1],I=Object(p[\"useState\"])([]),D=Object(r[\"a\"])(I,2),N=D[0],L=D[1],P=Object(p[\"useState\"])(3),R=Object(r[\"a\"])(P,2),M=R[0],A=R[1],T=Object(p[\"useCallback\"])((function(){t({type:\"staggingStockDetail/getCanApplyProductList\",payload:{secuCode:g}})}),[t,g]),U=Object(p[\"useCallback\"])(Object(o[\"a\"])(d.a.mark((function e(){var a;return d.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t({type:\"staggingStockDetail/queryApplyBySecuCode\",payload:{code:g}});case 2:a=e.sent,1008===a.code&&A(a.data);case 4:case\"end\":return e.stop()}}),e)}))),[t,T,g]),Y=Object(p[\"useCallback\"])((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];y(!1),w(!0),t({type:\"staggingStockDetail/getStaggingMaterials\",payload:{secuCode:g}});var a=[];e.forEach((function(e){2!==e.code&&-2!==e.code&&a.push.apply(a,Object(c[\"a\"])(e.hints))})),a.length>0&&setTimeout((function(){C(!0),L(a)}),100),U(),T()}),[t,U,T,g]),B=Object(p[\"useCallback\"])((function(){w(!1)}),[]),F=function(){var e=s.stockDetail;e.remark&&l[\"a\"].info({title:\"\\u63d0\\u793a\",okText:\"\\u786e\\u5b9a\",content:u.a.createElement(\"div\",null,u.a.createElement(\"p\",null,e.remark))})},V=Object(p[\"useCallback\"])((function(){y(!0),T()}),[T]);return Object(p[\"useEffect\"])((function(){U()}),[U]),u.a.createElement(m[\"a\"],null,u.a.createElement(n[\"b\"],{direction:\"vertical\",style:{width:\"100%\"}},u.a.createElement(O,{id:g}),u.a.createElement(W,{id:g,applyStatus:M}),1===M&&u.a.createElement(ce,{id:g,onReChoose:function(){V(),F()}}),2===M&&u.a.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"center\",marginTop:\"30px\"}},u.a.createElement(i[\"a\"],{style:{display:\"flex\"},type:\"primary\",size:\"large\",onClick:function(){V(),F()}},\"\\u9009\\u62e9\\u53c2\\u4e0e\\u6253\\u65b0\\u4ea7\\u54c1\"))),u.a.createElement(ue,{id:g,isVisible:k,onCancel:function(){return y(!1)},onConfirm:Y}),u.a.createElement(be,{id:g,isVisible:S,onCancel:function(){return w(!1)},onConfirm:B}),u.a.createElement(l[\"a\"],{title:\"\\u63d0\\u793a\",visible:j,destroyOnClose:!0,onCancel:function(){return C(!1)},onOk:function(){return C(!1)}},u.a.createElement(\"ul\",{style:{padding:0}},N.map((function(e,t){return u.a.createElement(\"li\",{key:t,style:{marginBottom:\"12px\"}},e)})))))};t[\"default\"]=Object(g[\"b\"])((function(e){var t=e.staggingStockDetail;return{staggingStockDetail:t}}))(ke)}}]);","name":"p__staggingTool__stockDetail.async.js?v=1646123553782","map":{"version":3,"sources":["p__staggingTool__stockDetail.async.js?v=1646123553782"],"names":["window","push","71Y3","module","exports","__webpack_require__","stepCard","stepBox","stepItemWrapper","active","stepItem","date","title","available","stepDetail","header","rightBox","dropdown","item","right","iconBox","QMZd","stockInfo","rowItem","singleRow","colItem","input","label","linkInput","Ur/b","stepInfoModal","VrEL","productInfo","Xa1Q","staggingProductModal","kwRC","p","v326","__webpack_exports__","r","space","es_button","modal","toConsumableArray","asyncToGenerator","slicedToArray","regenerator","regenerator_default","n","react","react_default","umiExports","es","card","spin","message","moment","moment_default","StockInfomodules","StockInfomodules_default","formItemList","fieldName","tips","isLink","linkKey","isSingleRow","StockInfo_StockInfo","props","id","dispatch","formLoading","staggingStockDetail","stockDetail","_useState","Object","_useState2","formData","setFormData","handleClickLink","open","info","type","payload","secuCode","obj","forEach","subItem","securityAbbr","concat","email","tel","issueVolCeiling","issueVolFloor","val","format","a","createElement","className","spinning","map","index","key","subIndex","onClick","components_StockInfo","_ref","loading","effects","result","es_row","col","objectSpread2","RightOutlined","esm_objectSpread2","StockOutlined_StockOutlined","icon","tag","attrs","viewBox","focusable","children","d","name","theme","asn_StockOutlined","AntdIcon","icons_StockOutlined_StockOutlined","ref","displayName","icons_StockOutlined","utils","axios","axios_default","zip","zip_default","StepDetailmodules","StepDetailmodules_default","stepMap","1","2","3","4","5","6","7","availableMap","StepDetail_StepDetail","applyStatus","IPOMaterialList","stepList","setStepList","_useState3","_useState4","step","setStep","_useState5","_useState6","actualStep","setActualStep","_useState7","_useState8","stepStatus","setStepStatus","_useState9","_useState10","stepTitle","setStepTitle","_useState11","_useState12","setMList","_useState13","_useState14","actionList","setActionList","_useState15","color","text","_useState16","currentAction","setCurrentAction","_useState17","_useState18","showActionDropdown","toggleActionDropdown","fetchData","mark","_callee","res","_ref2","_ref2$step","_ref2$stepInfos","stepInfos","wrap","_context","prev","next","sent","code","abrupt","data","startDate","endDate","s","startDateT","endDateT","stop","handleDownload","fileUrl","handleReGenerateFile","_callee2","fileName","blob","downloadElement","href","_context2","error","url","baseUrl","adminUrl","ASSSET_DOMIAN","AI","AI_type","isSaas","method","responseType","headers","Content-Type","tokenId","split","decodeURIComponent","Blob","document","URL","createObjectURL","download","body","appendChild","click","removeChild","revokeObjectURL","handleOpenSite","website","handleCompleteStep","_ref4","_callee3","_context3","_x","_x2","apply","this","arguments","length","_stepList","find","filter","list","Array","file","i","_ref5","_ref5$fileName","_ref5$fileUrl","Fragment","includes","style","backgroundColor","border","justify","hints","span","typeName","src","justifyContent","width","marginTop","components_StepDetail","_ref6","menu","date_picker","es_form","es_select","react_router_dom","MXTable","Customize","ProductInfomodules","ProductInfomodules_default","Option","sheetOptions","datas","sheetData","sheetName","sheetFilter","sheetHeader","ProductInfo_ProductInfo","tableLoading","onReChoose","applyProductPageNum","applyProductPageSize","applyProductList","applyProductTotal","searchForm","_Form$useForm","useForm","_Form$useForm2","form","selectedRowKeys","setSelectedRowKeys","columns","dataIndex","align","fixed","render","row","to","productId","rowSelection","onChange","onSearch","_form$getFieldsValue","getFieldsValue","applyResult","updateTime","handleReset","resetFields","handleExport","allData","payInStatus","Date","getTime","onChangePage","current","pageSize","pageNum","layout","onFinish","params","value","formItemLayout","formLabel","Item","placeholder","allowClear","placement","overlay","htmlType","dataSource","total","scroll","x","sticky","rowKey","components_ProductInfo","ProductModalmodules","ProductModalmodules_default","ProductModal_Option","ProductModal_ProductModal","stockId","isVisible","onCancel","onConfirm","submitLoading","canApplyProductList","marketMap","columnWidth","handleSubmit","productIds","warn","selectedKeys","checked","canApplyNewShare","isShowSonProduct","setTimeout","visible","destroyOnClose","footer","size","initialValues","gutter","offset","y","pagination","components_ProductModal","StockFileModalmodules","StockFileModalmodules_default","StockFileModal_StockFileModal","newIPOMaterialList","handleDownloadAll","_ref2$fileName","_ref2$fileUrl","getBtn","isArray","disabled","components_StockFileModal","_ref3","stockDetail_StockDetail","match","productModalIsVisible","toggleProductModalIsVisible","stockFileModalIsVisible","toggleStockFileModalIsVisible","warningModalIsVisible","toggleWarningModalIsVisible","warningList","setWarningList","setApplyStatus","getCanApplyProduct","getApplyStatus","handleGenerateFile","undefined","handleDownloadAllFile","tipRemark","remark","okText","content","handleJoin","direction","display","onOk","padding","marginBottom"],"mappings":"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"},"input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[86],{\n\n/***/ \"71Y3\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"stepCard\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-stepCard\",\"stepBox\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-stepBox\",\"stepItemWrapper\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-stepItemWrapper\",\"active\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-active\",\"stepItem\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-stepItem\",\"date\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-date\",\"title\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-title\",\"available\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-available\",\"stepDetail\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-stepDetail\",\"header\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-header\",\"rightBox\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-rightBox\",\"dropdown\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-dropdown\",\"item\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-item\",\"right\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-right\",\"iconBox\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-iconBox\"};\n\n/***/ }),\n\n/***/ \"QMZd\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"stockInfo\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-info-index-stockInfo\",\"rowItem\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-info-index-rowItem\",\"singleRow\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-info-index-singleRow\",\"colItem\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-info-index-colItem\",\"right\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-info-index-right\",\"input\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-info-index-input\",\"label\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-info-index-label\",\"linkInput\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-info-index-linkInput\"};\n\n/***/ }),\n\n/***/ \"Ur/b\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"stepInfoModal\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-file-modal-index-stepInfoModal\",\"item\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-file-modal-index-item\",\"label\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-file-modal-index-label\",\"right\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-file-modal-index-right\",\"iconBox\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-file-modal-index-iconBox\"};\n\n/***/ }),\n\n/***/ \"VrEL\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"productInfo\":\"antd-pro-pages-stagging-tool-stock-detail-components-product-info-index-productInfo\"};\n\n/***/ }),\n\n/***/ \"Xa1Q\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"staggingProductModal\":\"antd-pro-pages-stagging-tool-stock-detail-components-product-modal-index-staggingProductModal\"};\n\n/***/ }),\n\n/***/ \"kwRC\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"static/zip.c77eb504.svg\";\n\n/***/ }),\n\n/***/ \"v326\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/space/style/index.js\nvar style = __webpack_require__(\"DYRE\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/space/index.js + 1 modules\nvar space = __webpack_require__(\"zeV3\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/button/style/index.js\nvar button_style = __webpack_require__(\"+L6B\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/button/index.js\nvar es_button = __webpack_require__(\"2/Rp\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/modal/style/index.js\nvar modal_style = __webpack_require__(\"2qtc\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/modal/index.js + 7 modules\nvar modal = __webpack_require__(\"kLXV\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(\"oBTY\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"9og8\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(\"tJVT\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"WmNS\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./src/.umi-production/core/umiExports.ts + 7 modules\nvar umiExports = __webpack_require__(\"9kvl\");\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/pro-layout/es/index.js + 82 modules\nvar es = __webpack_require__(\"Hx5s\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/card/style/index.js\nvar card_style = __webpack_require__(\"IzEo\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/card/index.js + 2 modules\nvar card = __webpack_require__(\"bx4M\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/spin/style/index.js\nvar spin_style = __webpack_require__(\"T2oS\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/spin/index.js\nvar spin = __webpack_require__(\"W9HT\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/message/style/index.js\nvar message_style = __webpack_require__(\"miYZ\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/message/index.js + 1 modules\nvar message = __webpack_require__(\"tsqr\");\n\n// EXTERNAL MODULE: ./node_modules/moment/moment.js\nvar moment = __webpack_require__(\"wd/R\");\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n\n// EXTERNAL MODULE: ./src/pages/staggingTool/stockDetail/components/StockInfo/index.less?modules\nvar StockInfomodules = __webpack_require__(\"QMZd\");\nvar StockInfomodules_default = /*#__PURE__*/__webpack_require__.n(StockInfomodules);\n\n// CONCATENATED MODULE: ./src/pages/staggingTool/stockDetail/components/StockInfo/index.tsx\n\n\n\n\n\n\n\n\n\n\n\nvar formItemList = [[{\n  fieldName: 'publishSubject',\n  label: '发行主体',\n  tips: '点击跳转IPO首页',\n  isLink: 1,\n  linkKey: 'issuersUrl',\n  isSingleRow: false\n}, {\n  fieldName: 'issueStartDate',\n  label: '发行日期',\n  isSingleRow: false\n}], [{\n  fieldName: 'preparedListExchange',\n  label: '上市场所',\n  tips: '点击跳转交易所首页',\n  isLink: 1,\n  linkKey: 'preparedListExchangeUrl',\n  isSingleRow: false\n}, {\n  fieldName: 'leadUnderwriter',\n  label: '保荐机构',\n  tips: '点击跳转保荐机构材料提交页面',\n  isLink: 1,\n  linkKey: 'website',\n  isSingleRow: false\n}], [{\n  fieldName: 'telephone',\n  label: '联系方式',\n  isSingleRow: true\n}], [{\n  fieldName: 'coleadUnderwriter',\n  label: '副主承',\n  isSingleRow: true\n}], [{\n  fieldName: 'applyMaxLP',\n  label: '申购上限',\n  isSingleRow: false\n}, {\n  fieldName: 'applyUnitLP',\n  label: '最小申购规模',\n  isSingleRow: false\n}], [{\n  fieldName: 'industry',\n  label: '所属行业',\n  isSingleRow: false\n}, {\n  fieldName: 'applyCodeOnline',\n  label: '申购代码',\n  isSingleRow: false\n}], [{\n  fieldName: 'offlineApplyPlan',\n  label: '发行规模',\n  isSingleRow: false\n}, {\n  fieldName: 'minProgressivePricePI',\n  label: '申购级差',\n  isSingleRow: false\n}], [{\n  fieldName: 'offLineSXZCGMDate',\n  label: '产品规模日期',\n  isSingleRow: false\n}]];\n\nvar StockInfo_StockInfo = function StockInfo(props) {\n  var id = props.id,\n      dispatch = props.dispatch,\n      formLoading = props.formLoading,\n      staggingStockDetail = props.staggingStockDetail;\n  var stockDetail = staggingStockDetail.stockDetail;\n\n  var _useState = Object(react[\"useState\"])({}),\n      _useState2 = Object(slicedToArray[\"a\" /* default */])(_useState, 2),\n      formData = _useState2[0],\n      setFormData = _useState2[1];\n\n  var handleClickLink = Object(react[\"useCallback\"])(function (item) {\n    var isLink = item.isLink,\n        linkKey = item.linkKey;\n    if (!isLink) return;\n\n    if (!stockDetail[linkKey]) {\n      message[\"default\"].info('链接不存在');\n\n      return;\n    }\n\n    window.open(stockDetail[linkKey]);\n  }, [stockDetail]);\n  Object(react[\"useEffect\"])(function () {\n    dispatch({\n      type: 'staggingStockDetail/getStockDetail',\n      payload: {\n        secuCode: id\n      }\n    });\n    return function () {\n      dispatch({\n        type: 'staggingStockDetail/updateModelData',\n        payload: {\n          stockDetail: {}\n        }\n      });\n    };\n  }, [dispatch, id]);\n  Object(react[\"useEffect\"])(function () {\n    if (!stockDetail || stockDetail.secuCode !== id) return;\n    var obj = {};\n    formItemList.forEach(function (item) {\n      item.forEach(function (subItem) {\n        var fieldName = subItem.fieldName;\n\n        if (fieldName === 'publishSubject') {\n          var secuCode = stockDetail.secuCode,\n              securityAbbr = stockDetail.securityAbbr;\n          obj[fieldName] = \"\".concat(secuCode, \"[\").concat(securityAbbr, \"]\");\n        } else if (fieldName === 'telephone') {\n          var email = stockDetail.email,\n              tel = stockDetail.tel;\n          obj[fieldName] = \"\\u8054\\u7CFB\\u65B9\\u5F0F\\uFF1A\".concat(tel || '', \"\\uFF1B\\u90AE\\u7BB1\\uFF1A\").concat(email || '');\n        } else if (fieldName === 'priceRange') {\n          var issueVolCeiling = stockDetail.issueVolCeiling,\n              issueVolFloor = stockDetail.issueVolFloor;\n          obj[fieldName] = \"\".concat(issueVolFloor || 0, \"-\").concat(issueVolCeiling || 0);\n        } else if (fieldName === 'issueStartDate' || fieldName === 'offLineSXZCGMDate') {\n          var val = stockDetail[fieldName];\n          obj[fieldName] = val ? moment_default()(val).format('YYYY-MM-DD') : '';\n        } else {\n          obj[fieldName] = stockDetail[fieldName];\n        }\n      });\n    });\n    setFormData(obj);\n  }, [id, stockDetail]);\n  return /*#__PURE__*/react_default.a.createElement(card[\"a\" /* default */], {\n    title: \"\\u6807\\u7684\\u4FE1\\u606F\",\n    className: StockInfomodules_default.a.stockInfo\n  }, /*#__PURE__*/react_default.a.createElement(spin[\"a\" /* default */], {\n    spinning: formLoading\n  }, formItemList.map(function (item, index) {\n    return /*#__PURE__*/react_default.a.createElement(\"div\", {\n      key: index,\n      className: \"\".concat(StockInfomodules_default.a.rowItem, \" \").concat(item[0].isSingleRow ? StockInfomodules_default.a.singleRow : '')\n    }, item.map(function (subItem, subIndex) {\n      return /*#__PURE__*/react_default.a.createElement(\"div\", {\n        key: subIndex,\n        className: StockInfomodules_default.a.colItem\n      }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n        className: StockInfomodules_default.a.label\n      }, subItem.label, \"\\uFF1A\"), /*#__PURE__*/react_default.a.createElement(\"div\", {\n        className: StockInfomodules_default.a.right\n      }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n        className: \"\".concat(StockInfomodules_default.a.input, \" \").concat(subItem.isLink === 1 ? StockInfomodules_default.a.linkInput : ''),\n        onClick: function onClick() {\n          return handleClickLink(subItem);\n        }\n      }, formData[subItem.fieldName]), subItem.tips && /*#__PURE__*/react_default.a.createElement(\"p\", {\n        className: StockInfomodules_default.a.tips\n      }, subItem.tips)));\n    }));\n  })));\n};\n\n/* harmony default export */ var components_StockInfo = (Object(umiExports[\"b\" /* connect */])(function (_ref) {\n  var staggingStockDetail = _ref.staggingStockDetail,\n      loading = _ref.loading;\n  return {\n    formLoading: loading.effects['staggingStockDetail/getStockDetail'],\n    staggingStockDetail: staggingStockDetail\n  };\n})(StockInfo_StockInfo));\n// EXTERNAL MODULE: ./node_modules/antd/es/result/style/index.js\nvar result_style = __webpack_require__(\"J+/v\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/result/index.js + 5 modules\nvar result = __webpack_require__(\"MoRW\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/row/style/index.js\nvar row_style = __webpack_require__(\"14J3\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/row/index.js\nvar es_row = __webpack_require__(\"BMrR\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/col/style/index.js\nvar col_style = __webpack_require__(\"jCWc\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/col/index.js\nvar col = __webpack_require__(\"kPKH\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(\"k1fw\");\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/RightOutlined.js + 1 modules\nvar RightOutlined = __webpack_require__(\"UESt\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar esm_objectSpread2 = __webpack_require__(\"VTBJ\");\n\n// CONCATENATED MODULE: ./node_modules/@ant-design/icons-svg/es/asn/StockOutlined.js\n// This icon file is generated automatically.\nvar StockOutlined_StockOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M904 747H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM165.7 621.8l39.7 39.5c3.1 3.1 8.2 3.1 11.3 0l234.7-233.9 97.6 97.3a32.11 32.11 0 0045.2 0l264.2-263.2c3.1-3.1 3.1-8.2 0-11.3l-39.7-39.6a8.03 8.03 0 00-11.3 0l-235.7 235-97.7-97.3a32.11 32.11 0 00-45.2 0L165.7 610.5a7.94 7.94 0 000 11.3z\" } }] }, \"name\": \"stock\", \"theme\": \"outlined\" };\n/* harmony default export */ var asn_StockOutlined = (StockOutlined_StockOutlined);\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/components/AntdIcon.js + 2 modules\nvar AntdIcon = __webpack_require__(\"6VBw\");\n\n// CONCATENATED MODULE: ./node_modules/@ant-design/icons/es/icons/StockOutlined.js\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\n\n\n\nvar icons_StockOutlined_StockOutlined = function StockOutlined(props, ref) {\n  return /*#__PURE__*/react[\"createElement\"](AntdIcon[\"a\" /* default */], Object(esm_objectSpread2[\"a\" /* default */])(Object(esm_objectSpread2[\"a\" /* default */])({}, props), {}, {\n    ref: ref,\n    icon: asn_StockOutlined\n  }));\n};\n\nicons_StockOutlined_StockOutlined.displayName = 'StockOutlined';\n/* harmony default export */ var icons_StockOutlined = (/*#__PURE__*/react[\"forwardRef\"](icons_StockOutlined_StockOutlined));\n// EXTERNAL MODULE: ./src/utils/utils.js\nvar utils = __webpack_require__(\"+n12\");\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(\"vDqi\");\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./src/assets/stagging/zip.svg\nvar zip = __webpack_require__(\"kwRC\");\nvar zip_default = /*#__PURE__*/__webpack_require__.n(zip);\n\n// EXTERNAL MODULE: ./src/pages/staggingTool/stockDetail/components/StepDetail/index.less?modules\nvar StepDetailmodules = __webpack_require__(\"71Y3\");\nvar StepDetailmodules_default = /*#__PURE__*/__webpack_require__.n(StepDetailmodules);\n\n// CONCATENATED MODULE: ./src/pages/staggingTool/stockDetail/components/StepDetail/index.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar materialList = [{\n  label: '承诺函'\n}, {\n  label: '关联方信息表'\n}, {\n  label: '资产规模汇总表'\n}, {\n  label: '出资方信息表'\n}];\nvar stepMap = {\n  1: '1、主承平台材料提交',\n  2: '2、询价提交',\n  3: '3、发行公告',\n  4: '4、发行/申购',\n  5: '5、公布中签',\n  6: '6、获配/缴款',\n  7: '7、上市'\n};\nvar availableMap = {\n  1: true,\n  2: true,\n  3: false,\n  4: true,\n  5: false,\n  6: true,\n  7: false\n};\n\nvar StepDetail_StepDetail = function StepDetail(props) {\n  var id = props.id,\n      applyStatus = props.applyStatus,\n      dispatch = props.dispatch,\n      staggingStockDetail = props.staggingStockDetail;\n  var IPOMaterialList = staggingStockDetail.IPOMaterialList,\n      stockDetail = staggingStockDetail.stockDetail; // 标的打新的状态\n\n  var _useState = Object(react[\"useState\"])([]),\n      _useState2 = Object(slicedToArray[\"a\" /* default */])(_useState, 2),\n      stepList = _useState2[0],\n      setStepList = _useState2[1];\n\n  var _useState3 = Object(react[\"useState\"])(0),\n      _useState4 = Object(slicedToArray[\"a\" /* default */])(_useState3, 2),\n      step = _useState4[0],\n      setStep = _useState4[1];\n\n  var _useState5 = Object(react[\"useState\"])(0),\n      _useState6 = Object(slicedToArray[\"a\" /* default */])(_useState5, 2),\n      actualStep = _useState6[0],\n      setActualStep = _useState6[1];\n\n  var _useState7 = Object(react[\"useState\"])(0),\n      _useState8 = Object(slicedToArray[\"a\" /* default */])(_useState7, 2),\n      stepStatus = _useState8[0],\n      setStepStatus = _useState8[1];\n\n  var _useState9 = Object(react[\"useState\"])(''),\n      _useState10 = Object(slicedToArray[\"a\" /* default */])(_useState9, 2),\n      stepTitle = _useState10[0],\n      setStepTitle = _useState10[1];\n\n  var _useState11 = Object(react[\"useState\"])([]),\n      _useState12 = Object(slicedToArray[\"a\" /* default */])(_useState11, 2),\n      mList = _useState12[0],\n      setMList = _useState12[1];\n\n  var _useState13 = Object(react[\"useState\"])([]),\n      _useState14 = Object(slicedToArray[\"a\" /* default */])(_useState13, 2),\n      actionList = _useState14[0],\n      setActionList = _useState14[1];\n\n  var _useState15 = Object(react[\"useState\"])({\n    id: 1,\n    color: '#ff3f3f',\n    text: '待提交'\n  }),\n      _useState16 = Object(slicedToArray[\"a\" /* default */])(_useState15, 2),\n      currentAction = _useState16[0],\n      setCurrentAction = _useState16[1];\n\n  var _useState17 = Object(react[\"useState\"])(false),\n      _useState18 = Object(slicedToArray[\"a\" /* default */])(_useState17, 2),\n      showActionDropdown = _useState18[0],\n      toggleActionDropdown = _useState18[1];\n\n  var fetchData = Object(react[\"useCallback\"])( /*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n    var res, _ref2, _ref2$step, step, _ref2$stepInfos, stepInfos, stepList;\n\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return dispatch({\n              type: 'staggingStockDetail/getStockIPOStepDetail',\n              payload: {\n                secuCode: id\n              }\n            });\n\n          case 2:\n            res = _context.sent;\n\n            if (!(res.code !== 1008)) {\n              _context.next = 5;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 5:\n            _ref2 = res.data || {}, _ref2$step = _ref2.step, step = _ref2$step === void 0 ? 1 : _ref2$step, _ref2$stepInfos = _ref2.stepInfos, stepInfos = _ref2$stepInfos === void 0 ? [] : _ref2$stepInfos;\n            stepList = stepInfos.map(function (item) {\n              var startDate = item.startDate,\n                  endDate = item.endDate,\n                  s = item.step;\n              var startDateT = startDate ? moment_default()(startDate).format('MM/DD') : '';\n              var endDateT = endDate ? moment_default()(endDate).format('MM/DD') : '';\n              return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({}, item), {}, {\n                date: startDateT ? \"\".concat(startDateT).concat(endDateT && startDateT !== endDateT ? \"-\".concat(endDateT) : '') : '---',\n                title: stepMap[s],\n                available: availableMap[s]\n              });\n            });\n            setActualStep(step || 1);\n            setStep(step === 8 ? 1 : step || 1);\n            setStepList(stepList);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), [dispatch, id]);\n  var handleDownload = Object(react[\"useCallback\"])(function (item) {\n    // const type = index + 1;\n    // const item = IPOMaterialList.find((i) => i.type === type);\n    if (!item || !item.fileUrl) {\n      message[\"default\"].info('材料不存在');\n\n      return;\n    }\n\n    var fileUrl = item.fileUrl;\n    window.open(fileUrl);\n  }, [IPOMaterialList]);\n  var handleReGenerateFile = Object(react[\"useCallback\"])( /*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2() {\n    var r, res, fileName, blob, downloadElement, href;\n    return regenerator_default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return dispatch({\n              type: 'staggingStockDetail/reGenAllAttachments',\n              payload: {\n                secuCode: id\n              }\n            });\n\n          case 2:\n            r = _context2.sent;\n\n            if (!(r.code !== 1008)) {\n              _context2.next = 6;\n              break;\n            }\n\n            message[\"default\"].error(r.message);\n\n            return _context2.abrupt(\"return\");\n\n          case 6:\n            _context2.next = 8;\n            return axios_default()({\n              url: \"\".concat({\"baseUrl\":\"/hdmanager/\",\"adminUrl\":\"/hd-manager\",\"ASSSET_DOMIAN\":\"RESOURCE_PATH\",\"AI\":{\"AI_type\":0},\"isSaas\":1}.adminUrl, \"/staggingnew/apply/downloadMaterialPackage\"),\n              data: {\n                secuCode: id\n              },\n              method: 'post',\n              responseType: 'blob',\n              headers: {\n                'Content-Type': 'application/json; application/octet-stream',\n                'tokenId': Object(utils[\"l\" /* getCookie */])('vipAdminToken') || ''\n              }\n            });\n\n          case 8:\n            res = _context2.sent;\n\n            try {\n              fileName = res.headers['content-disposition'].split(';')[1].split('filename*=utf-8\\'\\'')[1];\n              fileName = decodeURIComponent(fileName);\n              blob = new Blob([res.data]);\n              downloadElement = document.createElement('a');\n              href = window.URL.createObjectURL(blob);\n              downloadElement.href = href;\n              downloadElement.download = fileName;\n              document.body.appendChild(downloadElement);\n              downloadElement.click();\n              document.body.removeChild(downloadElement);\n              window.URL.revokeObjectURL(href);\n            } catch (error) {\n              message[\"default\"].error('生成文件失败');\n            }\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })), [dispatch, id]);\n  var handleOpenSite = Object(react[\"useCallback\"])(function () {\n    var website = stockDetail.website;\n\n    if (!website) {\n      message[\"default\"].info('承销商网址不存在！');\n\n      return;\n    }\n\n    window.open(website);\n  }, [stockDetail]);\n  var handleCompleteStep = Object(react[\"useCallback\"])( /*#__PURE__*/function () {\n    var _ref4 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(step, stepStatus) {\n      var res;\n      return regenerator_default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              toggleActionDropdown(false);\n              _context3.next = 3;\n              return dispatch({\n                type: 'staggingStockDetail/finishCurrentIPOStep',\n                payload: {\n                  secuCode: id,\n                  step: step,\n                  stepStatus: stepStatus\n                }\n              });\n\n            case 3:\n              res = _context3.sent;\n\n              if (res.code === 1008) {\n                setStepList(stepList.map(function (item) {\n                  if (item.step === step) item.stepStatus = stepStatus;\n                  return item;\n                }));\n              }\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x, _x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }(), [dispatch, id, stepList]);\n  Object(react[\"useEffect\"])(function () {\n    if (stepList.length === 0) return;\n    var _stepList = stepList[step - 1],\n        title = _stepList.title,\n        stepStatus = _stepList.stepStatus;\n    var actionList = [{\n      id: 1,\n      color: '#ff3f3f',\n      text: '待提交'\n    }, {\n      id: 2,\n      color: '#fdc753',\n      text: '已提交'\n    }, {\n      id: 3,\n      color: '#3d7fff',\n      text: '已完成'\n    }];\n    toggleActionDropdown(false);\n    setStepTitle(title);\n    setStepStatus(stepStatus);\n    setCurrentAction(actionList.find(function (a) {\n      return a.id === stepStatus;\n    }));\n    setActionList(actionList.filter(function (a) {\n      return a.id !== stepStatus;\n    }));\n  }, [step, stepList]);\n  Object(react[\"useEffect\"])(function () {\n    fetchData();\n  }, [dispatch, fetchData]);\n  Object(react[\"useEffect\"])(function () {\n    dispatch({\n      type: 'staggingStockDetail/getStaggingMaterials',\n      payload: {\n        secuCode: id\n      }\n    });\n  }, [dispatch, id]);\n  Object(react[\"useEffect\"])(function () {\n    var list = [];\n\n    Object(toConsumableArray[\"a\" /* default */])(Array(4)).map(function (item, index) {\n      var file = IPOMaterialList.find(function (i) {\n        return i.type === index + 1;\n      });\n\n      var _ref5 = file || {},\n          _ref5$fileName = _ref5.fileName,\n          fileName = _ref5$fileName === void 0 ? '' : _ref5$fileName,\n          _ref5$fileUrl = _ref5.fileUrl,\n          fileUrl = _ref5$fileUrl === void 0 ? '' : _ref5$fileUrl;\n\n      list.push({\n        fileUrl: fileUrl,\n        fileName: fileName\n      });\n    });\n\n    setMList(list);\n  }, [IPOMaterialList]);\n  return /*#__PURE__*/react_default.a.createElement(card[\"a\" /* default */], {\n    title: \"\\u53C2\\u4E0E\\u4FE1\\u606F\",\n    className: StepDetailmodules_default.a.stepCard\n  }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: StepDetailmodules_default.a.stepBox\n  }, stepList.map(function (item, index) {\n    return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement(\"div\", {\n      key: item.step,\n      className: \"\".concat(StepDetailmodules_default.a.stepItemWrapper, \" \").concat(step === index + 1 ? StepDetailmodules_default.a.active : '', \" \")\n    }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n      className: \"\".concat(StepDetailmodules_default.a.stepItem, \" \").concat(step === index + 1 ? StepDetailmodules_default.a.active : '', \" \").concat(item.available ? StepDetailmodules_default.a.available : ''),\n      onClick: function onClick() {\n        return setStep(index + 1);\n      }\n    }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n      className: StepDetailmodules_default.a.date\n    }, item.date), /*#__PURE__*/react_default.a.createElement(\"div\", {\n      className: StepDetailmodules_default.a.title\n    }, item.title))), index !== 6 && /*#__PURE__*/react_default.a.createElement(RightOutlined[\"a\" /* default */], null));\n  })), step >= 1 && applyStatus === 1 && /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: StepDetailmodules_default.a.stepDetail\n  }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: StepDetailmodules_default.a.header\n  }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: StepDetailmodules_default.a.title\n  }, stepTitle), [1, 2, 4, 6].includes(step) && stepStatus !== 0 && actualStep >= step && /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: StepDetailmodules_default.a.rightBox\n  }, /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n    style: {\n      color: '#fff',\n      backgroundColor: currentAction.color,\n      border: 'none'\n    },\n    onClick: function onClick() {\n      return toggleActionDropdown(!showActionDropdown);\n    }\n  }, currentAction.text), showActionDropdown && /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: StepDetailmodules_default.a.dropdown\n  }, actionList.map(function (item, index) {\n    return /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n      key: index,\n      style: {\n        color: '#fff',\n        backgroundColor: item.color,\n        border: 'none'\n      },\n      onClick: function onClick() {\n        return handleCompleteStep(step, item.id);\n      }\n    }, item.text);\n  })))), step === 1 && /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement(es_row[\"a\" /* default */], {\n    justify: \"center\"\n  }, IPOMaterialList.map(function (item, index) {\n    return (item.code === 1 || item.code === 2 || item.code === 0 && item.hints.length > 0) && /*#__PURE__*/react_default.a.createElement(col[\"a\" /* default */], {\n      key: index,\n      span: 4\n    }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n      className: StepDetailmodules_default.a.item\n    }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n      className: StepDetailmodules_default.a.label\n    }, item.typeName, \"\\uFF1A\"), /*#__PURE__*/react_default.a.createElement(\"div\", {\n      className: StepDetailmodules_default.a.right\n    }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n      className: StepDetailmodules_default.a.iconBox,\n      onClick: function onClick() {\n        return handleDownload(item);\n      }\n    }, /*#__PURE__*/react_default.a.createElement(\"img\", {\n      src: zip_default.a\n    })), /*#__PURE__*/react_default.a.createElement(\"p\", null, item.fileName))));\n  })), /*#__PURE__*/react_default.a.createElement(space[\"b\" /* default */], {\n    style: {\n      justifyContent: 'center',\n      width: '100%',\n      marginTop: '40px'\n    }\n  }, /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n    type: \"primary\",\n    onClick: handleReGenerateFile\n  }, \"\\u91CD\\u65B0\\u751F\\u6210\\u6587\\u4EF6\"), /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n    type: \"primary\",\n    onClick: handleOpenSite\n  }, \"\\u4E0A\\u4F20\\u627F\\u9500\\u5546\"))), step > 1 && /*#__PURE__*/react_default.a.createElement(result[\"a\" /* default */], {\n    icon: /*#__PURE__*/react_default.a.createElement(icons_StockOutlined, null),\n    title: \"\\u656C\\u8BF7\\u671F\\u5F85\\uFF01\"\n  })));\n};\n\n/* harmony default export */ var components_StepDetail = (Object(umiExports[\"b\" /* connect */])(function (_ref6) {\n  var staggingStockDetail = _ref6.staggingStockDetail;\n  return {\n    staggingStockDetail: staggingStockDetail\n  };\n})(StepDetail_StepDetail));\n// EXTERNAL MODULE: ./node_modules/antd/es/dropdown/style/index.js\nvar dropdown_style = __webpack_require__(\"qVdP\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/dropdown/index.js\nvar dropdown = __webpack_require__(\"jsC+\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/menu/style/index.js\nvar menu_style = __webpack_require__(\"lUTK\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/menu/index.js + 27 modules\nvar menu = __webpack_require__(\"BvKs\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/date-picker/style/index.js\nvar date_picker_style = __webpack_require__(\"iQDF\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/date-picker/index.js + 10 modules\nvar date_picker = __webpack_require__(\"+eQT\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/form/style/index.js\nvar form_style = __webpack_require__(\"y8nQ\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/form/index.js + 14 modules\nvar es_form = __webpack_require__(\"Vl3Y\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/select/style/index.js\nvar select_style = __webpack_require__(\"OaEy\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/select/index.js + 7 modules\nvar es_select = __webpack_require__(\"2fM7\");\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(\"55Ip\");\n\n// EXTERNAL MODULE: ./src/pages/components/MXTable/index.jsx\nvar MXTable = __webpack_require__(\"tQHx\");\n\n// EXTERNAL MODULE: ./src/pages/components/Customize/index.jsx\nvar Customize = __webpack_require__(\"QWqi\");\n\n// EXTERNAL MODULE: ./src/pages/staggingTool/stockDetail/components/ProductInfo/index.less?modules\nvar ProductInfomodules = __webpack_require__(\"VrEL\");\nvar ProductInfomodules_default = /*#__PURE__*/__webpack_require__.n(ProductInfomodules);\n\n// CONCATENATED MODULE: ./src/pages/staggingTool/stockDetail/components/ProductInfo/index.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Option = es_select[\"a\" /* default */].Option;\nvar sheetOptions = {\n  fileName: '',\n  datas: [{\n    sheetData: [],\n    sheetName: 'sheet',\n    sheetFilter: ['productName', 'lpInvestDetail', 'updateTime', 'capitalScale', 'proposedPrice', 'proposedShares', 'applyResult', 'initalShares', 'quota', 'brokerageFee', 'payInAmount', 'type', 'payInStatus', 'restrictedRate', 'restrictedShares', 'restrictedTime'],\n    sheetHeader: ['产品名称', '出资方信息概览（X层/Y个）', '出资方更新日期', '资产规模数据', '拟申报价格', '拟申购股数', '初步配售股数', '申报结果', '获配金额', '经纪佣金', '合计应缴', '分类', '缴款状态', '限售比例', '限售股数', '限售时间']\n  }]\n};\n\nvar ProductInfo_ProductInfo = function ProductInfo(props) {\n  var dispatch = props.dispatch,\n      id = props.id,\n      tableLoading = props.tableLoading,\n      staggingStockDetail = props.staggingStockDetail,\n      onReChoose = props.onReChoose;\n  var applyProductPageNum = staggingStockDetail.applyProductPageNum,\n      applyProductPageSize = staggingStockDetail.applyProductPageSize,\n      applyProductList = staggingStockDetail.applyProductList,\n      applyProductTotal = staggingStockDetail.applyProductTotal,\n      searchForm = staggingStockDetail.searchForm;\n\n  var _Form$useForm = es_form[\"a\" /* default */].useForm(),\n      _Form$useForm2 = Object(slicedToArray[\"a\" /* default */])(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useState = Object(react[\"useState\"])([]),\n      _useState2 = Object(slicedToArray[\"a\" /* default */])(_useState, 2),\n      selectedRowKeys = _useState2[0],\n      setSelectedRowKeys = _useState2[1];\n\n  var columns = [{\n    title: '产品名称',\n    dataIndex: 'productName',\n    align: 'center',\n    fixed: 'left',\n    width: 200,\n    render: function render(val, row) {\n      return /*#__PURE__*/react_default.a.createElement(react_router_dom[\"a\" /* Link */], {\n        to: \"/staggingTool/product/detail/\".concat(row.productId)\n      }, val);\n    }\n  }, {\n    title: '出资方信息概览（X层/Y个）',\n    dataIndex: 'lpInvestDetail',\n    align: 'center',\n    width: 200\n  }, {\n    title: '出资方更新日期',\n    dataIndex: 'updateTime',\n    align: 'center',\n    width: 200,\n    render: function render(val) {\n      return val ? moment_default()(val).format('YYYY-MM-DD') : '';\n    }\n  }, {\n    title: '资产规模数据',\n    dataIndex: 'capitalScale',\n    align: 'center',\n    width: 200\n  }, {\n    title: '拟申报价格',\n    dataIndex: 'proposedPrice',\n    align: 'center',\n    width: 200\n  }, {\n    title: '拟申购股数',\n    dataIndex: 'proposedShares',\n    align: 'center',\n    width: 200\n  }, {\n    title: '申报结果',\n    dataIndex: 'applyResult',\n    align: 'center',\n    width: 200\n  }, {\n    title: '初步配售股数',\n    dataIndex: 'initalShares',\n    align: 'center',\n    width: 200\n  }, {\n    title: '获配金额',\n    dataIndex: 'quota',\n    align: 'center',\n    width: 200\n  }, {\n    title: '经纪佣金',\n    dataIndex: 'brokerageFee',\n    align: 'center',\n    width: 200\n  }, {\n    title: '合计应缴',\n    dataIndex: 'payInAmount',\n    align: 'center',\n    width: 200\n  }, {\n    title: '分类',\n    dataIndex: 'type',\n    align: 'center',\n    width: 200\n  }, {\n    title: '缴款状态',\n    dataIndex: 'payInStatus',\n    align: 'center',\n    render: function render(val) {\n      return val === 1 ? '已缴款' : '未缴款';\n    },\n    width: 200\n  }, {\n    title: '限售比例',\n    dataIndex: 'restrictedRate',\n    align: 'center',\n    width: 200\n  }, {\n    title: '限售股数',\n    dataIndex: 'restrictedShares',\n    align: 'center',\n    width: 200\n  }, {\n    title: '限售时间',\n    dataIndex: 'restrictedTime',\n    align: 'center',\n    width: 200\n  }];\n  var rowSelection = {\n    selectedRowKeys: selectedRowKeys,\n    onChange: setSelectedRowKeys\n  };\n  var onSearch = Object(react[\"useCallback\"])(function () {\n    var _form$getFieldsValue = form.getFieldsValue(),\n        productId = _form$getFieldsValue.productId,\n        applyResult = _form$getFieldsValue.applyResult,\n        updateTime = _form$getFieldsValue.updateTime;\n\n    var searchForm = {\n      applyResult: applyResult,\n      productId: productId,\n      updateTime: updateTime ? moment_default()(updateTime).format('YYYY-MM-DD') : ''\n    };\n    dispatch({\n      type: 'staggingStockDetail/updateModelData',\n      payload: {\n        applyProductPageNum: 1,\n        searchForm: searchForm\n      }\n    });\n  }, [dispatch, form]);\n  var handleReset = Object(react[\"useCallback\"])(function () {\n    form.resetFields();\n    dispatch({\n      type: 'staggingStockDetail/updateModelData',\n      payload: {\n        applyProductPageNum: 1,\n        searchForm: {}\n      }\n    });\n  }, [dispatch, form]);\n  var handleExport = Object(react[\"useCallback\"])( /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(type) {\n      var data, res, allData;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              data = [];\n\n              if (!(type === 'selected')) {\n                _context.next = 8;\n                break;\n              }\n\n              if (!(selectedRowKeys.length === 0)) {\n                _context.next = 5;\n                break;\n              }\n\n              message[\"default\"].info('请至少选择一行！');\n\n              return _context.abrupt(\"return\");\n\n            case 5:\n              data = selectedRowKeys.map(function (id) {\n                return applyProductList.find(function (item) {\n                  return item.id === id;\n                });\n              });\n              _context.next = 13;\n              break;\n\n            case 8:\n              _context.next = 10;\n              return dispatch({\n                type: 'staggingStockDetail/getAllApplyProductList',\n                payload: {\n                  secuCode: id\n                }\n              });\n\n            case 10:\n              res = _context.sent;\n              allData = res.data || {};\n              data = allData.list || [];\n\n            case 13:\n              data.forEach(function (item) {\n                item.updateTime = item.updateTime ? moment_default()(item.updateTime).format('YYYY-MM-DD') : '';\n                item.payInStatus = item.payInStatus === 1 ? '已缴款' : '未缴款';\n              });\n              sheetOptions.fileName = \"\".concat(new Date().getTime());\n              sheetOptions.datas[0].sheetData = data;\n              Object(utils[\"e\" /* exportExcel */])(sheetOptions);\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(), [applyProductList, dispatch, id, selectedRowKeys]);\n  var onChangePage = Object(react[\"useCallback\"])(function (p) {\n    dispatch({\n      type: 'staggingStockDetail/updateModelData',\n      payload: {\n        applyProductPageNum: p.current,\n        applyProductPageSize: p.pageSize\n      }\n    });\n  }, [dispatch]);\n  Object(react[\"useEffect\"])(function () {\n    dispatch({\n      type: 'staggingStockDetail/getApplyProductList',\n      payload: Object(objectSpread2[\"a\" /* default */])({\n        secuCode: id,\n        pageNum: applyProductPageNum,\n        pageSize: applyProductPageSize\n      }, searchForm)\n    });\n  }, [applyProductPageNum, applyProductPageSize, dispatch, id, searchForm]);\n  return /*#__PURE__*/react_default.a.createElement(card[\"a\" /* default */], {\n    title: \"\\u914D\\u552E\\u5BF9\\u8C61\\u4FE1\\u606F\\u8868\",\n    className: ProductInfomodules_default.a.productInfo\n  }, /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */], {\n    form: form,\n    name: \"search_product_form\",\n    layout: \"inline\",\n    onFinish: onSearch\n  }, /*#__PURE__*/react_default.a.createElement(Customize[\"b\" /* MultipleSelect */], {\n    params: \"productId\",\n    value: \"productId\",\n    label: \"productName\",\n    formItemLayout: {\n      style: {\n        width: 300\n      }\n    },\n    formLabel: \"\\u4EA7\\u54C1\\u540D\\u79F0\"\n  }), /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */].Item, {\n    label: \"\\u7533\\u62A5\\u7ED3\\u679C\",\n    name: \"applyResult\"\n  }, /*#__PURE__*/react_default.a.createElement(es_select[\"a\" /* default */], {\n    placeholder: \"\\u8BF7\\u9009\\u62E9\",\n    style: {\n      width: '200px'\n    },\n    allowClear: true\n  }, /*#__PURE__*/react_default.a.createElement(Option, {\n    value: 1\n  }, \"\\u4E2D\\u7B7E\"), /*#__PURE__*/react_default.a.createElement(Option, {\n    value: 0\n  }, \"\\u672A\\u4E2D\\u7B7E\"))), /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */].Item, {\n    label: \"\\u66F4\\u65B0\\u65E5\\u671F\",\n    name: \"updateTime\"\n  }, /*#__PURE__*/react_default.a.createElement(date_picker[\"a\" /* default */], {\n    style: {\n      width: '200px'\n    }\n  })), /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */].Item, null, /*#__PURE__*/react_default.a.createElement(space[\"b\" /* default */], null, /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n    type: \"primary\",\n    onClick: onReChoose\n  }, \"\\u4FEE\\u6539\\u53C2\\u4E0E\\u4EA7\\u54C1\"), /*#__PURE__*/react_default.a.createElement(dropdown[\"a\" /* default */], {\n    placement: \"bottomLeft\",\n    overlay: function overlay() {\n      return /*#__PURE__*/react_default.a.createElement(menu[\"a\" /* default */], null, /*#__PURE__*/react_default.a.createElement(menu[\"a\" /* default */].Item, {\n        onClick: function onClick() {\n          return handleExport('selected');\n        }\n      }, \"\\u5BFC\\u51FA\\u9009\\u4E2D\"), /*#__PURE__*/react_default.a.createElement(menu[\"a\" /* default */].Item, {\n        onClick: function onClick() {\n          return handleExport('all');\n        }\n      }, \"\\u5BFC\\u51FA\\u5168\\u90E8\"));\n    }\n  }, /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], null, \"\\u6279\\u91CF\\u5BFC\\u51FA\")), /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n    type: \"primary\",\n    htmlType: \"submit\"\n  }, \"\\u67E5\\u8BE2\"), /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n    onClick: handleReset\n  }, \"\\u91CD\\u7F6E\")))), /*#__PURE__*/react_default.a.createElement(MXTable[\"a\" /* default */], {\n    loading: tableLoading,\n    columns: columns,\n    dataSource: applyProductList,\n    total: applyProductTotal,\n    pageNum: applyProductPageNum,\n    scroll: {\n      x: '100%'\n    },\n    sticky: true,\n    onChange: onChangePage,\n    rowKey: \"id\",\n    rowSelection: rowSelection\n  }));\n};\n\n/* harmony default export */ var components_ProductInfo = (Object(umiExports[\"b\" /* connect */])(function (_ref2) {\n  var staggingStockDetail = _ref2.staggingStockDetail,\n      loading = _ref2.loading;\n  return {\n    staggingStockDetail: staggingStockDetail,\n    tableLoading: loading.effects['staggingStockDetail/getApplyProductList']\n  };\n})(ProductInfo_ProductInfo));\n// EXTERNAL MODULE: ./node_modules/antd/es/input/style/index.js\nvar input_style = __webpack_require__(\"5NDa\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/input/index.js + 3 modules\nvar input = __webpack_require__(\"5rEg\");\n\n// EXTERNAL MODULE: ./src/pages/staggingTool/stockDetail/components/ProductModal/index.less?modules\nvar ProductModalmodules = __webpack_require__(\"Xa1Q\");\nvar ProductModalmodules_default = /*#__PURE__*/__webpack_require__.n(ProductModalmodules);\n\n// CONCATENATED MODULE: ./src/pages/staggingTool/stockDetail/components/ProductModal/index.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar ProductModal_Option = es_select[\"a\" /* default */].Option;\n\nvar ProductModal_ProductModal = function ProductModal(props) {\n  var dispatch = props.dispatch,\n      stockId = props.id,\n      isVisible = props.isVisible,\n      onCancel = props.onCancel,\n      onConfirm = props.onConfirm,\n      tableLoading = props.tableLoading,\n      submitLoading = props.submitLoading,\n      canApplyProductList = props.canApplyProductList;\n\n  var _Form$useForm = es_form[\"a\" /* default */].useForm(),\n      _Form$useForm2 = Object(slicedToArray[\"a\" /* default */])(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useState = Object(react[\"useState\"])([]),\n      _useState2 = Object(slicedToArray[\"a\" /* default */])(_useState, 2),\n      selectedRowKeys = _useState2[0],\n      setSelectedRowKeys = _useState2[1];\n\n  var columns = [{\n    title: '产品名称',\n    dataIndex: 'productName',\n    align: 'center',\n    width: 200\n  }, // {\n  //     title: '沪市股票平均市值（万）',\n  //     dataIndex: 'shanghaiStockAverageMarker',\n  //     align: 'center',\n  // },\n  // {\n  //     title: '深市股票平均市值（万）',\n  //     dataIndex: 'shenzhenStockAverageMarker',\n  //     align: 'center',\n  // },\n  {\n    title: '资产净值',\n    dataIndex: 'capitalScale',\n    align: 'center'\n  }, {\n    title: '参与市场',\n    dataIndex: 'lpInvestType ',\n    align: 'center',\n    render: function render(val) {\n      var marketMap = {\n        1: '沪市',\n        2: '深市',\n        3: '科创',\n        4: '创业'\n      };\n      return marketMap[val];\n    }\n  }, {\n    title: '是否具有配售对象资质',\n    dataIndex: 'canApplyNewShare',\n    align: 'center',\n    render: function render(val) {\n      return val === 1 ? '是' : '否';\n    }\n  }, {\n    title: '配售对象协会编码',\n    dataIndex: 'productSacCode',\n    align: 'center'\n  }, {\n    title: '配售对象证券账户号（沪市）',\n    dataIndex: 'shanghaiStockExchangeAccount',\n    align: 'center'\n  }, {\n    title: '配售对象证券账户号（深市）',\n    dataIndex: 'shenzhenStockExchangeAccount',\n    align: 'center'\n  }];\n  var rowSelection = {\n    columnWidth: '32px',\n    selectedRowKeys: selectedRowKeys,\n    onChange: setSelectedRowKeys\n  };\n  var onSearch = Object(react[\"useCallback\"])(function () {\n    var res = form.getFieldsValue();\n    dispatch({\n      type: 'staggingStockDetail/getCanApplyProductList',\n      payload: Object(objectSpread2[\"a\" /* default */])({\n        secuCode: stockId\n      }, res)\n    });\n  }, [dispatch, form, stockId]);\n  var handleReset = Object(react[\"useCallback\"])(function () {\n    form.resetFields();\n    var res = form.getFieldsValue();\n    dispatch({\n      type: 'staggingStockDetail/getCanApplyProductList',\n      payload: Object(objectSpread2[\"a\" /* default */])({\n        secuCode: stockId\n      }, res)\n    });\n  }, [dispatch, form, stockId]);\n  var handleSubmit = Object(react[\"useCallback\"])( /*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n    var productIds, res;\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            productIds = selectedRowKeys;\n\n            if (!(productIds.length === 0)) {\n              _context.next = 4;\n              break;\n            }\n\n            message[\"default\"].warn('请至少选择一个产品！');\n\n            return _context.abrupt(\"return\");\n\n          case 4:\n            _context.next = 6;\n            return dispatch({\n              type: 'staggingStockDetail/generateStaggingMaterials',\n              payload: {\n                productIds: productIds,\n                secuCode: stockId\n              }\n            });\n\n          case 6:\n            res = _context.sent;\n\n            if (res.code === 1008) {\n              onConfirm(res.data);\n            } else {\n              message[\"default\"].error(res.message);\n            }\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), [dispatch, onConfirm, selectedRowKeys, stockId]);\n  Object(react[\"useEffect\"])(function () {\n    var selectedKeys = [];\n    canApplyProductList.forEach(function (item) {\n      if (item.checked) selectedKeys.push(item.productId);\n    });\n    setSelectedRowKeys(selectedKeys);\n  }, [canApplyProductList]);\n  Object(react[\"useEffect\"])(function () {\n    var res = form.getFieldsValue();\n\n    if (isVisible) {\n      dispatch({\n        type: 'staggingStockDetail/getCanApplyProductList',\n        payload: Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({}, res), {}, {\n          canApplyNewShare: res.canApplyNewShare || 1,\n          isShowSonProduct: res.isShowSonProduct || 0,\n          secuCode: stockId\n        })\n      });\n      setTimeout(function () {\n        form.resetFields();\n      }, 100);\n    }\n  }, [dispatch, form, isVisible, stockId]);\n  return /*#__PURE__*/react_default.a.createElement(modal[\"a\" /* default */], {\n    className: ProductModalmodules_default.a.staggingProductModal,\n    visible: isVisible,\n    width: \"70%\",\n    destroyOnClose: true,\n    onCancel: onCancel,\n    footer: [/*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n      key: \"submit\",\n      type: \"primary\",\n      size: \"large\",\n      loading: submitLoading,\n      onClick: handleSubmit\n    }, \"\\u53C2\\u4E0E\\u6253\\u65B0\\u5E76\\u751F\\u6210\\u627F\\u9500\\u5546\\u6587\\u4EF6\")]\n  }, /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */], {\n    form: form,\n    initialValues: {\n      canApplyNewShare: 1,\n      isShowSonProduct: 0\n    },\n    onFinish: onSearch\n  }, /*#__PURE__*/react_default.a.createElement(es_row[\"a\" /* default */], {\n    gutter: 12\n  }, /*#__PURE__*/react_default.a.createElement(col[\"a\" /* default */], {\n    span: 8\n  }, /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */].Item, {\n    label: \"\\u4EA7\\u54C1\\u540D\\u79F0\",\n    name: \"productName\"\n  }, /*#__PURE__*/react_default.a.createElement(input[\"a\" /* default */], {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u4EA7\\u54C1\\u540D\\u79F0\"\n  }))), /*#__PURE__*/react_default.a.createElement(col[\"a\" /* default */], {\n    span: 8\n  }, /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */].Item, {\n    label: \"\\u662F\\u5426\\u5177\\u6709\\u914D\\u552E\\u5BF9\\u8C61\\u8D44\\u8D28\",\n    name: \"canApplyNewShare\"\n  }, /*#__PURE__*/react_default.a.createElement(es_select[\"a\" /* default */], {\n    placeholder: \"\\u8BF7\\u9009\\u62E9\",\n    style: {\n      width: '100%'\n    },\n    allowClear: true\n  }, /*#__PURE__*/react_default.a.createElement(ProductModal_Option, {\n    value: 1\n  }, \"\\u662F\"), /*#__PURE__*/react_default.a.createElement(ProductModal_Option, {\n    value: 0\n  }, \"\\u5426\")))), /*#__PURE__*/react_default.a.createElement(col[\"a\" /* default */], {\n    span: 8\n  }, /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */].Item, {\n    label: \"\\u53C2\\u4E0E\\u5E02\\u573A\",\n    name: \"lpInvestType\"\n  }, /*#__PURE__*/react_default.a.createElement(es_select[\"a\" /* default */], {\n    placeholder: \"\\u8BF7\\u9009\\u62E9\",\n    style: {\n      width: '100%'\n    },\n    allowClear: true\n  }, /*#__PURE__*/react_default.a.createElement(ProductModal_Option, {\n    value: 1\n  }, \"\\u6CAA\\u5E02\"), /*#__PURE__*/react_default.a.createElement(ProductModal_Option, {\n    value: 2\n  }, \"\\u6DF1\\u5E02\"), /*#__PURE__*/react_default.a.createElement(ProductModal_Option, {\n    value: 3\n  }, \"\\u6CAA\\u5E02\\u3001\\u6DF1\\u5E02\")))), /*#__PURE__*/react_default.a.createElement(col[\"a\" /* default */], {\n    span: 8\n  }, /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */].Item, {\n    name: \"isShowSonProduct\",\n    label: \"\\u662F\\u5426\\u5C55\\u793A\\u5B50\\u4EA7\\u54C1\"\n  }, /*#__PURE__*/react_default.a.createElement(es_select[\"a\" /* default */], {\n    placeholder: \"\\u8BF7\\u9009\\u62E9\",\n    style: {\n      width: '100%'\n    },\n    allowClear: true\n  }, /*#__PURE__*/react_default.a.createElement(ProductModal_Option, {\n    value: 1\n  }, \"\\u662F\"), /*#__PURE__*/react_default.a.createElement(ProductModal_Option, {\n    value: 0\n  }, \"\\u5426\")))), /*#__PURE__*/react_default.a.createElement(col[\"a\" /* default */], {\n    span: 8,\n    offset: 8\n  }, /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */].Item, null, /*#__PURE__*/react_default.a.createElement(space[\"b\" /* default */], null, /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n    type: \"primary\",\n    htmlType: \"submit\"\n  }, \"\\u67E5\\u8BE2\"), /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n    onClick: handleReset\n  }, \"\\u91CD\\u7F6E\")))))), /*#__PURE__*/react_default.a.createElement(MXTable[\"a\" /* default */], {\n    loading: tableLoading,\n    columns: columns,\n    dataSource: canApplyProductList,\n    scroll: {\n      x: '100%',\n      y: 400\n    },\n    sticky: true,\n    rowKey: \"productId\",\n    rowSelection: rowSelection,\n    pagination: false\n  }));\n};\n\n/* harmony default export */ var components_ProductModal = (Object(umiExports[\"b\" /* connect */])(function (_ref2) {\n  var staggingStockDetail = _ref2.staggingStockDetail,\n      loading = _ref2.loading;\n  return {\n    tableLoading: loading.effects['staggingStockDetail/getCanApplyProductList'],\n    submitLoading: loading.effects['staggingStockDetail/generateStaggingMaterials'],\n    canApplyProductList: staggingStockDetail.canApplyProductList\n  };\n})(ProductModal_ProductModal));\n// EXTERNAL MODULE: ./src/pages/staggingTool/stockDetail/components/StockFileModal/index.less?modules\nvar StockFileModalmodules = __webpack_require__(\"Ur/b\");\nvar StockFileModalmodules_default = /*#__PURE__*/__webpack_require__.n(StockFileModalmodules);\n\n// CONCATENATED MODULE: ./src/pages/staggingTool/stockDetail/components/StockFileModal/index.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar StockFileModal_materialList = [{\n  label: '承诺函'\n}, {\n  label: '关联方信息表'\n}, {\n  label: '资产规模汇总表'\n}, {\n  label: '出资方信息表'\n}];\n\nvar StockFileModal_StockFileModal = function StockFileModal(props) {\n  var stockId = props.id,\n      isVisible = props.isVisible,\n      onCancel = props.onCancel,\n      onConfirm = props.onConfirm,\n      submitLoading = props.submitLoading,\n      staggingStockDetail = props.staggingStockDetail;\n  var IPOMaterialList = staggingStockDetail.IPOMaterialList,\n      newIPOMaterialList = staggingStockDetail.newIPOMaterialList;\n\n  var _useState = Object(react[\"useState\"])([]),\n      _useState2 = Object(slicedToArray[\"a\" /* default */])(_useState, 2),\n      mList = _useState2[0],\n      setMList = _useState2[1];\n\n  var handleDownloadAll = Object(react[\"useCallback\"])( /*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n    var res, fileName, blob, downloadElement, href;\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return axios_default()({\n              url: \"\".concat({\"baseUrl\":\"/hdmanager/\",\"adminUrl\":\"/hd-manager\",\"ASSSET_DOMIAN\":\"RESOURCE_PATH\",\"AI\":{\"AI_type\":0},\"isSaas\":1}.adminUrl, \"/staggingnew/apply/downloadMaterialPackage\"),\n              data: {\n                secuCode: stockId\n              },\n              method: 'post',\n              responseType: 'blob',\n              headers: {\n                'Content-Type': 'application/json; application/octet-stream',\n                'tokenId': Object(utils[\"l\" /* getCookie */])('vipAdminToken') || ''\n              }\n            });\n\n          case 2:\n            res = _context.sent;\n\n            try {\n              fileName = res.headers['content-disposition'].split(';')[1].split('filename*=utf-8\\'\\'')[1];\n              fileName = decodeURIComponent(fileName);\n              blob = new Blob([res.data]);\n              downloadElement = document.createElement('a');\n              href = window.URL.createObjectURL(blob);\n              downloadElement.href = href;\n              downloadElement.download = fileName;\n              document.body.appendChild(downloadElement);\n              downloadElement.click();\n              document.body.removeChild(downloadElement);\n              window.URL.revokeObjectURL(href);\n              onConfirm();\n            } catch (error) {\n              message[\"default\"].error('生成文件失败');\n            }\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), [onConfirm, stockId]);\n  var handleDownload = Object(react[\"useCallback\"])(function (item) {\n    // const type = index + 1;\n    // const item = IPOMaterialList.find((i) => i.type === type);\n    if (!item || !item.fileUrl) {\n      message[\"default\"].info('材料不存在');\n\n      return;\n    }\n\n    var fileUrl = item.fileUrl;\n    window.open(fileUrl);\n  }, [IPOMaterialList]);\n  Object(react[\"useEffect\"])(function () {\n    var list = [];\n\n    Object(toConsumableArray[\"a\" /* default */])(Array(4)).map(function (item, index) {\n      var file = IPOMaterialList.find(function (i) {\n        return i.type === index + 1;\n      });\n\n      var _ref2 = file || {},\n          _ref2$fileName = _ref2.fileName,\n          fileName = _ref2$fileName === void 0 ? '' : _ref2$fileName,\n          _ref2$fileUrl = _ref2.fileUrl,\n          fileUrl = _ref2$fileUrl === void 0 ? '' : _ref2$fileUrl;\n\n      list.push({\n        fileUrl: fileUrl,\n        fileName: fileName\n      });\n    });\n\n    setMList(list);\n  }, [IPOMaterialList]);\n\n  var getBtn = function getBtn() {\n    var list = [];\n    Array.isArray(newIPOMaterialList) && newIPOMaterialList.map(function (item) {\n      if (item.code !== -2) {\n        list.push(item);\n      }\n    });\n\n    if (list.length > 0) {\n      return /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n        key: \"submit\",\n        type: \"primary\",\n        size: \"large\",\n        loading: submitLoading,\n        onClick: handleDownloadAll\n      }, \"\\u751F\\u6210\\u6587\\u4EF6\");\n    } else {\n      return /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n        key: \"submit\",\n        type: \"primary\",\n        size: \"large\",\n        disabled: true\n      }, \"\\u65E0\\u627F\\u9500\\u5546\\u6A21\\u677F\");\n    }\n  };\n\n  return /*#__PURE__*/react_default.a.createElement(modal[\"a\" /* default */], {\n    className: StockFileModalmodules_default.a.stepInfoModal,\n    visible: isVisible,\n    width: \"70%\",\n    destroyOnClose: true,\n    onCancel: onCancel,\n    footer: [getBtn()]\n  }, /*#__PURE__*/react_default.a.createElement(es_row[\"a\" /* default */], {\n    justify: \"center\"\n  }, IPOMaterialList.map(function (item, index) {\n    return (item.code === 1 || item.code === 2 || item.code === 0 && item.hints.length > 0) && /*#__PURE__*/react_default.a.createElement(col[\"a\" /* default */], {\n      key: index,\n      span: 4\n    }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n      className: StockFileModalmodules_default.a.item\n    }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n      className: StockFileModalmodules_default.a.label\n    }, item.typeName, \"\\uFF1A\"), /*#__PURE__*/react_default.a.createElement(\"div\", {\n      className: StockFileModalmodules_default.a.right\n    }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n      className: StockFileModalmodules_default.a.iconBox,\n      onClick: function onClick() {\n        return handleDownload(item);\n      }\n    }, /*#__PURE__*/react_default.a.createElement(\"img\", {\n      src: zip_default.a\n    })), /*#__PURE__*/react_default.a.createElement(\"p\", null, item.fileName))));\n  })));\n};\n\n/* harmony default export */ var components_StockFileModal = (Object(umiExports[\"b\" /* connect */])(function (_ref3) {\n  var staggingStockDetail = _ref3.staggingStockDetail,\n      loading = _ref3.loading;\n  return {\n    submitLoading: loading.effects['staggingStockDetail/downloadAllMeterials'],\n    staggingStockDetail: staggingStockDetail\n  };\n})(StockFileModal_StockFileModal));\n// CONCATENATED MODULE: ./src/pages/staggingTool/stockDetail/index.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar stockDetail_StockDetail = function StockDetail(props) {\n  var dispatch = props.dispatch,\n      params = props.match.params,\n      staggingStockDetail = props.staggingStockDetail;\n  var id = params.id;\n\n  var _useState = Object(react[\"useState\"])(false),\n      _useState2 = Object(slicedToArray[\"a\" /* default */])(_useState, 2),\n      productModalIsVisible = _useState2[0],\n      toggleProductModalIsVisible = _useState2[1];\n\n  var _useState3 = Object(react[\"useState\"])(false),\n      _useState4 = Object(slicedToArray[\"a\" /* default */])(_useState3, 2),\n      stockFileModalIsVisible = _useState4[0],\n      toggleStockFileModalIsVisible = _useState4[1];\n\n  var _useState5 = Object(react[\"useState\"])(false),\n      _useState6 = Object(slicedToArray[\"a\" /* default */])(_useState5, 2),\n      warningModalIsVisible = _useState6[0],\n      toggleWarningModalIsVisible = _useState6[1];\n\n  var _useState7 = Object(react[\"useState\"])([]),\n      _useState8 = Object(slicedToArray[\"a\" /* default */])(_useState7, 2),\n      warningList = _useState8[0],\n      setWarningList = _useState8[1]; // 标的打新的状态\n  // 1=>参与中 2=>可参与 3=>未参与\n\n\n  var _useState9 = Object(react[\"useState\"])(3),\n      _useState10 = Object(slicedToArray[\"a\" /* default */])(_useState9, 2),\n      applyStatus = _useState10[0],\n      setApplyStatus = _useState10[1];\n\n  var getCanApplyProduct = Object(react[\"useCallback\"])(function () {\n    dispatch({\n      type: 'staggingStockDetail/getCanApplyProductList',\n      payload: {\n        secuCode: id\n      }\n    });\n  }, [dispatch, id]);\n  var getApplyStatus = Object(react[\"useCallback\"])( /*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n    var res;\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return dispatch({\n              type: 'staggingStockDetail/queryApplyBySecuCode',\n              payload: {\n                code: id\n              }\n            });\n\n          case 2:\n            res = _context.sent;\n\n            if (res.code === 1008) {\n              setApplyStatus(res.data); // if (res.data !== 2) return;\n              // toggleProductModalIsVisible(true);\n              // getCanApplyProduct();\n            }\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), [dispatch, getCanApplyProduct, id]);\n  var handleGenerateFile = Object(react[\"useCallback\"])(function () {\n    var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    toggleProductModalIsVisible(false);\n    toggleStockFileModalIsVisible(true); // 生成文件\n\n    dispatch({\n      type: 'staggingStockDetail/getStaggingMaterials',\n      payload: {\n        secuCode: id\n      }\n    });\n    var warningList = [];\n    list.forEach(function (item) {\n      if (item.code !== 2 && item.code !== -2) {\n        warningList.push.apply(warningList, Object(toConsumableArray[\"a\" /* default */])(item.hints));\n      }\n    });\n\n    if (warningList.length > 0) {\n      setTimeout(function () {\n        toggleWarningModalIsVisible(true);\n        setWarningList(warningList);\n      }, 100);\n    }\n\n    getApplyStatus();\n    getCanApplyProduct();\n  }, [dispatch, getApplyStatus, getCanApplyProduct, id]);\n  var handleDownloadAllFile = Object(react[\"useCallback\"])(function () {\n    toggleStockFileModalIsVisible(false);\n  }, []);\n\n  var tipRemark = function tipRemark() {\n    var stockDetail = staggingStockDetail.stockDetail;\n\n    if (stockDetail.remark) {\n      modal[\"a\" /* default */].info({\n        title: '提示',\n        okText: '确定',\n        content: /*#__PURE__*/react_default.a.createElement(\"div\", null, /*#__PURE__*/react_default.a.createElement(\"p\", null, stockDetail.remark))\n      });\n    }\n  };\n\n  var handleJoin = Object(react[\"useCallback\"])(function () {\n    toggleProductModalIsVisible(true);\n    getCanApplyProduct();\n  }, [getCanApplyProduct]);\n  Object(react[\"useEffect\"])(function () {\n    getApplyStatus();\n  }, [getApplyStatus]);\n  return /*#__PURE__*/react_default.a.createElement(es[\"a\" /* PageHeaderWrapper */], null, /*#__PURE__*/react_default.a.createElement(space[\"b\" /* default */], {\n    direction: \"vertical\",\n    style: {\n      width: '100%'\n    }\n  }, /*#__PURE__*/react_default.a.createElement(components_StockInfo, {\n    id: id\n  }), /*#__PURE__*/react_default.a.createElement(components_StepDetail, {\n    id: id,\n    applyStatus: applyStatus\n  }), applyStatus === 1 && /*#__PURE__*/react_default.a.createElement(components_ProductInfo, {\n    id: id,\n    onReChoose: function onReChoose() {\n      handleJoin();\n      tipRemark();\n    }\n  }), applyStatus === 2 && /*#__PURE__*/react_default.a.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      marginTop: '30px'\n    }\n  }, /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n    style: {\n      display: 'flex'\n    },\n    type: \"primary\",\n    size: \"large\",\n    onClick: function onClick() {\n      handleJoin();\n      tipRemark();\n    }\n  }, \"\\u9009\\u62E9\\u53C2\\u4E0E\\u6253\\u65B0\\u4EA7\\u54C1\"))), /*#__PURE__*/react_default.a.createElement(components_ProductModal, {\n    id: id,\n    isVisible: productModalIsVisible,\n    onCancel: function onCancel() {\n      return toggleProductModalIsVisible(false);\n    },\n    onConfirm: handleGenerateFile\n  }), /*#__PURE__*/react_default.a.createElement(components_StockFileModal, {\n    id: id,\n    isVisible: stockFileModalIsVisible,\n    onCancel: function onCancel() {\n      return toggleStockFileModalIsVisible(false);\n    },\n    onConfirm: handleDownloadAllFile\n  }), /*#__PURE__*/react_default.a.createElement(modal[\"a\" /* default */], {\n    title: \"\\u63D0\\u793A\",\n    visible: warningModalIsVisible,\n    destroyOnClose: true,\n    onCancel: function onCancel() {\n      return toggleWarningModalIsVisible(false);\n    },\n    onOk: function onOk() {\n      return toggleWarningModalIsVisible(false);\n    }\n  }, /*#__PURE__*/react_default.a.createElement(\"ul\", {\n    style: {\n      padding: 0\n    }\n  }, warningList.map(function (item, index) {\n    return /*#__PURE__*/react_default.a.createElement(\"li\", {\n      key: index,\n      style: {\n        marginBottom: '12px'\n      }\n    }, item);\n  }))));\n};\n\n/* harmony default export */ var staggingTool_stockDetail = __webpack_exports__[\"default\"] = (Object(umiExports[\"b\" /* connect */])(function (_ref2) {\n  var staggingStockDetail = _ref2.staggingStockDetail;\n  return {\n    staggingStockDetail: staggingStockDetail\n  };\n})(stockDetail_StockDetail));\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\bundler-webpack\\lib\\webpack\\plugins\\mini-css-extract-plugin\\src\\loader.js??ref--13-oneOf-0-0!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\css-loader\\cjs.js??ref--13-oneOf-0-1!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\postcss-loader\\src\\index.js??postcss!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\less-loader\\cjs.js??ref--13-oneOf-0-3!E:\\公司代码\\MRP报表\\vip-manager\\src\\pages\\staggingTool\\stockDetail\\components\\StepDetail\\index.less?modules","E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\bundler-webpack\\lib\\webpack\\plugins\\mini-css-extract-plugin\\src\\loader.js??ref--13-oneOf-0-0!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\css-loader\\cjs.js??ref--13-oneOf-0-1!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\postcss-loader\\src\\index.js??postcss!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\less-loader\\cjs.js??ref--13-oneOf-0-3!E:\\公司代码\\MRP报表\\vip-manager\\src\\pages\\staggingTool\\stockDetail\\components\\StockInfo\\index.less?modules","E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\bundler-webpack\\lib\\webpack\\plugins\\mini-css-extract-plugin\\src\\loader.js??ref--13-oneOf-0-0!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\css-loader\\cjs.js??ref--13-oneOf-0-1!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\postcss-loader\\src\\index.js??postcss!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\less-loader\\cjs.js??ref--13-oneOf-0-3!E:\\公司代码\\MRP报表\\vip-manager\\src\\pages\\staggingTool\\stockDetail\\components\\StockFileModal\\index.less?modules","E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\bundler-webpack\\lib\\webpack\\plugins\\mini-css-extract-plugin\\src\\loader.js??ref--13-oneOf-0-0!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\css-loader\\cjs.js??ref--13-oneOf-0-1!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\postcss-loader\\src\\index.js??postcss!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\less-loader\\cjs.js??ref--13-oneOf-0-3!E:\\公司代码\\MRP报表\\vip-manager\\src\\pages\\staggingTool\\stockDetail\\components\\ProductInfo\\index.less?modules","E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\bundler-webpack\\lib\\webpack\\plugins\\mini-css-extract-plugin\\src\\loader.js??ref--13-oneOf-0-0!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\css-loader\\cjs.js??ref--13-oneOf-0-1!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\postcss-loader\\src\\index.js??postcss!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\less-loader\\cjs.js??ref--13-oneOf-0-3!E:\\公司代码\\MRP报表\\vip-manager\\src\\pages\\staggingTool\\stockDetail\\components\\ProductModal\\index.less?modules","E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\file-loader\\cjs.js??ref--9-0!E:\\公司代码\\MRP报表\\vip-manager\\src\\assets\\stagging\\zip.svg","E:/公司代码/MRP报表/vip-manager/src/pages/staggingTool/stockDetail/components/StockInfo/index.tsx","E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@ant-design\\icons-svg\\es\\asn\\StockOutlined.js","E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@ant-design\\icons\\es\\icons\\StockOutlined.js","E:/公司代码/MRP报表/vip-manager/src/pages/staggingTool/stockDetail/components/StepDetail/index.tsx","E:/公司代码/MRP报表/vip-manager/src/pages/staggingTool/stockDetail/components/ProductInfo/index.tsx","E:/公司代码/MRP报表/vip-manager/src/pages/staggingTool/stockDetail/components/ProductModal/index.tsx","E:/公司代码/MRP报表/vip-manager/src/pages/staggingTool/stockDetail/components/StockFileModal/index.tsx","E:/公司代码/MRP报表/vip-manager/src/pages/staggingTool/stockDetail/index.tsx"],"names":["formItemList","fieldName","label","tips","isLink","linkKey","isSingleRow","StockInfo","props","id","dispatch","formLoading","staggingStockDetail","stockDetail","useState","formData","setFormData","handleClickLink","useCallback","item","info","window","open","useEffect","type","payload","secuCode","obj","forEach","subItem","securityAbbr","email","tel","issueVolCeiling","issueVolFloor","val","moment","format","_styles","stockInfo","map","index","rowItem","singleRow","subIndex","colItem","right","input","linkInput","connect","loading","effects","materialList","stepMap","availableMap","StepDetail","applyStatus","IPOMaterialList","stepList","setStepList","step","setStep","actualStep","setActualStep","stepStatus","setStepStatus","stepTitle","setStepTitle","mList","setMList","actionList","setActionList","color","text","currentAction","setCurrentAction","showActionDropdown","toggleActionDropdown","fetchData","res","code","data","stepInfos","startDate","endDate","s","startDateT","endDateT","date","title","available","handleDownload","fileUrl","handleReGenerateFile","r","error","message","axios","url","BASE_PATH","adminUrl","method","responseType","headers","getCookie","fileName","split","decodeURIComponent","blob","Blob","downloadElement","document","createElement","href","URL","createObjectURL","download","body","appendChild","click","removeChild","revokeObjectURL","handleOpenSite","website","handleCompleteStep","length","find","a","filter","list","Array","file","i","push","stepCard","stepBox","stepItemWrapper","active","stepItem","stepDetail","header","includes","rightBox","backgroundColor","border","dropdown","hints","typeName","iconBox","ZipIcon","justifyContent","width","marginTop","Option","sheetOptions","datas","sheetData","sheetName","sheetFilter","sheetHeader","ProductInfo","tableLoading","onReChoose","applyProductPageNum","applyProductPageSize","applyProductList","applyProductTotal","searchForm","useForm","form","selectedRowKeys","setSelectedRowKeys","columns","dataIndex","align","fixed","render","row","productId","rowSelection","onChange","onSearch","getFieldsValue","applyResult","updateTime","handleReset","resetFields","handleExport","allData","payInStatus","Date","getTime","exportExcel","onChangePage","p","current","pageSize","pageNum","productInfo","style","x","ProductModal","stockId","isVisible","onCancel","onConfirm","submitLoading","canApplyProductList","marketMap","columnWidth","handleSubmit","productIds","warn","selectedKeys","checked","canApplyNewShare","isShowSonProduct","setTimeout","staggingProductModal","y","StockFileModal","newIPOMaterialList","handleDownloadAll","getBtn","isArray","stepInfoModal","StockDetail","params","match","productModalIsVisible","toggleProductModalIsVisible","stockFileModalIsVisible","toggleStockFileModalIsVisible","warningModalIsVisible","toggleWarningModalIsVisible","warningList","setWarningList","setApplyStatus","getCanApplyProduct","getApplyStatus","handleGenerateFile","handleDownloadAllFile","tipRemark","remark","okText","content","handleJoin","display","padding","marginBottom"],"mappings":";;;;;AAAA;AACA,kBAAkB,g2C;;;;;;;ACDlB;AACA,kBAAkB,itB;;;;;;;ACDlB;AACA,kBAAkB,+d;;;;;;;ACDlB;AACA,kBAAkB,qG;;;;;;;ACDlB;AACA,kBAAkB,wH;;;;;;;ACDlB,iBAAiB,qBAAuB,6B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAxC;AACA;AAEA;AACA;AAEA,IAAMA,YAAY,GAAG,CACjB,CACI;AACIC,WAAS,EAAE,gBADf;AAEIC,OAAK,EAAE,MAFX;AAGIC,MAAI,EAAE,WAHV;AAIIC,QAAM,EAAE,CAJZ;AAKIC,SAAO,EAAE,YALb;AAMIC,aAAW,EAAE;AANjB,CADJ,EASI;AACIL,WAAS,EAAE,gBADf;AAEIC,OAAK,EAAE,MAFX;AAGII,aAAW,EAAE;AAHjB,CATJ,CADiB,EAgBjB,CACI;AACIL,WAAS,EAAE,sBADf;AAEIC,OAAK,EAAE,MAFX;AAGIC,MAAI,EAAE,WAHV;AAIIC,QAAM,EAAE,CAJZ;AAKIC,SAAO,EAAE,yBALb;AAMIC,aAAW,EAAE;AANjB,CADJ,EASI;AACIL,WAAS,EAAE,iBADf;AAEIC,OAAK,EAAE,MAFX;AAGIC,MAAI,EAAE,gBAHV;AAIIC,QAAM,EAAE,CAJZ;AAKIC,SAAO,EAAE,SALb;AAMIC,aAAW,EAAE;AANjB,CATJ,CAhBiB,EAkCjB,CACI;AACIL,WAAS,EAAE,WADf;AAEIC,OAAK,EAAE,MAFX;AAGII,aAAW,EAAE;AAHjB,CADJ,CAlCiB,EAyCjB,CACI;AACIL,WAAS,EAAE,mBADf;AAEIC,OAAK,EAAE,KAFX;AAGII,aAAW,EAAE;AAHjB,CADJ,CAzCiB,EAgDjB,CACI;AACIL,WAAS,EAAE,YADf;AAEIC,OAAK,EAAE,MAFX;AAGII,aAAW,EAAE;AAHjB,CADJ,EAMI;AACIL,WAAS,EAAE,aADf;AAEIC,OAAK,EAAE,QAFX;AAGII,aAAW,EAAE;AAHjB,CANJ,CAhDiB,EA4DjB,CACI;AACIL,WAAS,EAAE,UADf;AAEIC,OAAK,EAAE,MAFX;AAGII,aAAW,EAAE;AAHjB,CADJ,EAMI;AACIL,WAAS,EAAE,iBADf;AAEIC,OAAK,EAAE,MAFX;AAGII,aAAW,EAAE;AAHjB,CANJ,CA5DiB,EAwEjB,CACI;AACIL,WAAS,EAAE,kBADf;AAEIC,OAAK,EAAE,MAFX;AAGII,aAAW,EAAE;AAHjB,CADJ,EAMI;AACIL,WAAS,EAAE,uBADf;AAEIC,OAAK,EAAE,MAFX;AAGII,aAAW,EAAE;AAHjB,CANJ,CAxEiB,EAoFjB,CACI;AACIL,WAAS,EAAE,mBADf;AAEIC,OAAK,EAAE,QAFX;AAGII,aAAW,EAAE;AAHjB,CADJ,CApFiB,CAArB;;AA6FA,IAAMC,mBAAS,GAAG,SAAZA,SAAY,CAACC,KAAD,EAAW;AACzB,MAAQC,EAAR,GAA2DD,KAA3D,CAAQC,EAAR;AAAA,MAAYC,QAAZ,GAA2DF,KAA3D,CAAYE,QAAZ;AAAA,MAAsBC,WAAtB,GAA2DH,KAA3D,CAAsBG,WAAtB;AAAA,MAAmCC,mBAAnC,GAA2DJ,KAA3D,CAAmCI,mBAAnC;AACA,MAAQC,WAAR,GAAwBD,mBAAxB,CAAQC,WAAR;;AACA,kBAAgCC,yBAAQ,CAAC,EAAD,CAAxC;AAAA;AAAA,MAAOC,QAAP;AAAA,MAAiBC,WAAjB;;AAEA,MAAMC,eAAe,GAAGC,4BAAW,CAAC,UAACC,IAAD,EAAU;AAC1C,QAAQf,MAAR,GAA4Be,IAA5B,CAAQf,MAAR;AAAA,QAAgBC,OAAhB,GAA4Bc,IAA5B,CAAgBd,OAAhB;AACA,QAAI,CAACD,MAAL,EAAa;;AACb,QAAI,CAACS,WAAW,CAACR,OAAD,CAAhB,EAA2B;AACvB,yBAAQe,IAAR,CAAa,OAAb;;AACA;AACH;;AACDC,UAAM,CAACC,IAAP,CAAYT,WAAW,CAACR,OAAD,CAAvB;AACH,GARkC,EAQhC,CAACQ,WAAD,CARgC,CAAnC;AAUAU,4BAAS,CAAC,YAAM;AACZb,YAAQ,CAAC;AACLc,UAAI,EAAE,oCADD;AAELC,aAAO,EAAE;AAAEC,gBAAQ,EAAEjB;AAAZ;AAFJ,KAAD,CAAR;AAKA,WAAO,YAAM;AACTC,cAAQ,CAAC;AACLc,YAAI,EAAE,qCADD;AAELC,eAAO,EAAE;AAAEZ,qBAAW,EAAE;AAAf;AAFJ,OAAD,CAAR;AAIH,KALD;AAMH,GAZQ,EAYN,CAACH,QAAD,EAAWD,EAAX,CAZM,CAAT;AAcAc,4BAAS,CAAC,YAAM;AACZ,QAAI,CAACV,WAAD,IAAgBA,WAAW,CAACa,QAAZ,KAAyBjB,EAA7C,EAAiD;AACjD,QAAMkB,GAAG,GAAG,EAAZ;AAEA3B,gBAAY,CAAC4B,OAAb,CAAqB,UAACT,IAAD,EAAU;AAC3BA,UAAI,CAACS,OAAL,CAAa,UAACC,OAAD,EAAa;AACtB,YAAQ5B,SAAR,GAAsB4B,OAAtB,CAAQ5B,SAAR;;AACA,YAAIA,SAAS,KAAK,gBAAlB,EAAoC;AAChC,cAAQyB,QAAR,GAAmCb,WAAnC,CAAQa,QAAR;AAAA,cAAkBI,YAAlB,GAAmCjB,WAAnC,CAAkBiB,YAAlB;AACAH,aAAG,CAAC1B,SAAD,CAAH,aAAoByB,QAApB,cAAgCI,YAAhC;AACH,SAHD,MAGO,IAAI7B,SAAS,KAAK,WAAlB,EAA+B;AAClC,cAAQ8B,KAAR,GAAuBlB,WAAvB,CAAQkB,KAAR;AAAA,cAAeC,GAAf,GAAuBnB,WAAvB,CAAemB,GAAf;AACAL,aAAG,CAAC1B,SAAD,CAAH,2CAAyB+B,GAAG,IAAI,EAAhC,qCAAyCD,KAAK,IAAI,EAAlD;AACH,SAHM,MAGA,IAAI9B,SAAS,KAAK,YAAlB,EAAgC;AACnC,cAAQgC,eAAR,GAA2CpB,WAA3C,CAAQoB,eAAR;AAAA,cAAyBC,aAAzB,GAA2CrB,WAA3C,CAAyBqB,aAAzB;AACAP,aAAG,CAAC1B,SAAD,CAAH,aAAoBiC,aAAa,IAAI,CAArC,cAA0CD,eAAe,IAAI,CAA7D;AACH,SAHM,MAGA,IAAIhC,SAAS,KAAK,gBAAd,IAAkCA,SAAS,KAAK,mBAApD,EAAyE;AAC5E,cAAMkC,GAAG,GAAGtB,WAAW,CAACZ,SAAD,CAAvB;AACA0B,aAAG,CAAC1B,SAAD,CAAH,GAAiBkC,GAAG,GAAGC,gBAAM,CAACD,GAAD,CAAN,CAAYE,MAAZ,CAAmB,YAAnB,CAAH,GAAsC,EAA1D;AACH,SAHM,MAGA;AACHV,aAAG,CAAC1B,SAAD,CAAH,GAAiBY,WAAW,CAACZ,SAAD,CAA5B;AACH;AACJ,OAjBD;AAkBH,KAnBD;AAqBAe,eAAW,CAACW,GAAD,CAAX;AACH,GA1BQ,EA0BN,CAAClB,EAAD,EAAKI,WAAL,CA1BM,CAAT;AA4BA,sBACI;AAAM,SAAK,EAAC,0BAAZ;AAAmB,aAAS,EAAEyB,0BAAO,CAACC;AAAtC,kBACI;AAAM,YAAQ,EAAE5B;AAAhB,KACKX,YAAY,CAACwC,GAAb,CAAiB,UAACrB,IAAD,EAAOsB,KAAP;AAAA,wBACd;AAAK,SAAG,EAAEA,KAAV;AAAiB,eAAS,YAAKH,0BAAO,CAACI,OAAb,cAAwBvB,IAAI,CAAC,CAAD,CAAJ,CAAQb,WAAR,GAAsBgC,0BAAO,CAACK,SAA9B,GAA0C,EAAlE;AAA1B,OACKxB,IAAI,CAACqB,GAAL,CAAS,UAACX,OAAD,EAAUe,QAAV;AAAA,0BACN;AAAK,WAAG,EAAEA,QAAV;AAAoB,iBAAS,EAAEN,0BAAO,CAACO;AAAvC,sBACI;AAAK,iBAAS,EAAEP,0BAAO,CAACpC;AAAxB,SAAgC2B,OAAO,CAAC3B,KAAxC,WADJ,eAEI;AAAK,iBAAS,EAAEoC,0BAAO,CAACQ;AAAxB,sBACI;AACI,iBAAS,YAAKR,0BAAO,CAACS,KAAb,cAAsBlB,OAAO,CAACzB,MAAR,KAAmB,CAAnB,GAAuBkC,0BAAO,CAACU,SAA/B,GAA2C,EAAjE,CADb;AAEI,eAAO,EAAE;AAAA,iBAAM/B,eAAe,CAACY,OAAD,CAArB;AAAA;AAFb,SAIKd,QAAQ,CAACc,OAAO,CAAC5B,SAAT,CAJb,CADJ,EAOK4B,OAAO,CAAC1B,IAAR,iBAAgB;AAAG,iBAAS,EAAEmC,0BAAO,CAACnC;AAAtB,SAA6B0B,OAAO,CAAC1B,IAArC,CAPrB,CAFJ,CADM;AAAA,KAAT,CADL,CADc;AAAA,GAAjB,CADL,CADJ,CADJ;AAwBH,CAjFD;;AAmFe8C,8FAAO,CAAC;AAAA,MAAGrC,mBAAH,QAAGA,mBAAH;AAAA,MAAwBsC,OAAxB,QAAwBA,OAAxB;AAAA,SAAuC;AAC1DvC,eAAW,EAAEuC,OAAO,CAACC,OAAR,CAAgB,oCAAhB,CAD6C;AAE1DvC,uBAAmB,EAAnBA;AAF0D,GAAvC;AAAA,CAAD,CAAP,CAGXL,mBAHW,CAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtLA;AACA,IAAI,2BAAa,IAAI,UAAU,yBAAyB,mDAAmD,gBAAgB,0BAA0B,gVAAgV,EAAE,GAAG;AAC3d,iFAAa,EAAC;;;;;;ACFwC;AACrE;AACA;AAC+B;AAC2C;AAC5B;;AAE9C,IAAI,iCAAa;AACjB,sBAAsB,sBAAmB,CAAC,2BAAQ,EAAE,4CAAa,CAAC,4CAAa,GAAG,YAAY;AAC9F;AACA,UAAU,iBAAgB;AAC1B,GAAG;AACH;;AAEA,iCAAa;AACe,wFAAgB,CAAC,iCAAa,CAAC,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACf3D;AACA;AAEA;AACA;AACA;;AAEA;AAEA;AAEA,IAAM6C,YAAY,GAAG,CACjB;AACIlD,OAAK,EAAE;AADX,CADiB,EAIjB;AACIA,OAAK,EAAE;AADX,CAJiB,EAOjB;AACIA,OAAK,EAAE;AADX,CAPiB,EAUjB;AACIA,OAAK,EAAE;AADX,CAViB,CAArB;AAeA,IAAMmD,OAAO,GAAG;AACZ,KAAG,YADS;AAEZ,KAAG,QAFS;AAGZ,KAAG,QAHS;AAIZ,KAAG,SAJS;AAKZ,KAAG,QALS;AAMZ,KAAG,SANS;AAOZ,KAAG;AAPS,CAAhB;AASA,IAAMC,YAAY,GAAG;AACjB,KAAG,IADc;AAEjB,KAAG,IAFc;AAGjB,KAAG,KAHc;AAIjB,KAAG,IAJc;AAKjB,KAAG,KALc;AAMjB,KAAG,IANc;AAOjB,KAAG;AAPc,CAArB;;AAUA,IAAMC,qBAAU,GAAG,SAAbA,UAAa,CAAC/C,KAAD,EAAW;AAC1B,MAAQC,EAAR,GAA2DD,KAA3D,CAAQC,EAAR;AAAA,MAAY+C,WAAZ,GAA2DhD,KAA3D,CAAYgD,WAAZ;AAAA,MAAyB9C,QAAzB,GAA2DF,KAA3D,CAAyBE,QAAzB;AAAA,MAAmCE,mBAAnC,GAA2DJ,KAA3D,CAAmCI,mBAAnC;AACA,MAAQ6C,eAAR,GAAyC7C,mBAAzC,CAAQ6C,eAAR;AAAA,MAAyB5C,WAAzB,GAAyCD,mBAAzC,CAAyBC,WAAzB,CAF0B,CAG1B;;AACA,kBAAgCC,yBAAQ,CAAC,EAAD,CAAxC;AAAA;AAAA,MAAO4C,QAAP;AAAA,MAAiBC,WAAjB;;AACA,mBAAwB7C,yBAAQ,CAAC,CAAD,CAAhC;AAAA;AAAA,MAAO8C,IAAP;AAAA,MAAaC,OAAb;;AACA,mBAAoC/C,yBAAQ,CAAC,CAAD,CAA5C;AAAA;AAAA,MAAOgD,UAAP;AAAA,MAAmBC,aAAnB;;AACA,mBAAoCjD,yBAAQ,CAAC,CAAD,CAA5C;AAAA;AAAA,MAAOkD,UAAP;AAAA,MAAmBC,aAAnB;;AACA,mBAAkCnD,yBAAQ,CAAC,EAAD,CAA1C;AAAA;AAAA,MAAOoD,SAAP;AAAA,MAAkBC,YAAlB;;AACA,oBAA0BrD,yBAAQ,CAAC,EAAD,CAAlC;AAAA;AAAA,MAAOsD,KAAP;AAAA,MAAcC,QAAd;;AACA,oBAAoCvD,yBAAQ,CAAC,EAAD,CAA5C;AAAA;AAAA,MAAOwD,UAAP;AAAA,MAAmBC,aAAnB;;AACA,oBAA0CzD,yBAAQ,CAAC;AAC/CL,MAAE,EAAE,CAD2C;AAE/C+D,SAAK,EAAE,SAFwC;AAG/CC,QAAI,EAAE;AAHyC,GAAD,CAAlD;AAAA;AAAA,MAAOC,aAAP;AAAA,MAAsBC,gBAAtB;;AAKA,oBAAmD7D,yBAAQ,CAAC,KAAD,CAA3D;AAAA;AAAA,MAAO8D,kBAAP;AAAA,MAA2BC,oBAA3B;;AAEA,MAAMC,SAAS,GAAG5D,4BAAW,oGAAC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACRR,QAAQ,CAAC;AACvBc,kBAAI,EAAE,2CADiB;AAEvBC,qBAAO,EAAE;AACLC,wBAAQ,EAAEjB;AADL;AAFc,aAAD,CADA;;AAAA;AACpBsE,eADoB;;AAAA,kBAQtBA,GAAG,CAACC,IAAJ,KAAa,IARS;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA,oBASWD,GAAG,CAACE,IAAJ,IAAY,EATvB,qBASlBrB,IATkB,EASlBA,IATkB,2BASX,CATW,uCASRsB,SATQ,EASRA,SATQ,gCASI,EATJ;AAUpBxB,oBAVoB,GAUTwB,SAAS,CAAC1C,GAAV,CAAc,UAACrB,IAAD,EAAU;AACrC,kBAAQgE,SAAR,GAAwChE,IAAxC,CAAQgE,SAAR;AAAA,kBAAmBC,OAAnB,GAAwCjE,IAAxC,CAAmBiE,OAAnB;AAAA,kBAAkCC,CAAlC,GAAwClE,IAAxC,CAA4ByC,IAA5B;AACA,kBAAI0B,UAAU,GAAGH,SAAS,GAAG/C,gBAAM,CAAC+C,SAAD,CAAN,CAAkB9C,MAAlB,CAAyB,OAAzB,CAAH,GAAuC,EAAjE;AACA,kBAAIkD,QAAQ,GAAGH,OAAO,GAAGhD,gBAAM,CAACgD,OAAD,CAAN,CAAgB/C,MAAhB,CAAuB,OAAvB,CAAH,GAAqC,EAA3D;AACA,2GACOlB,IADP;AAEIqE,oBAAI,EAAEF,UAAU,aAAMA,UAAN,SAAoBC,QAAQ,IAAID,UAAU,KAAKC,QAA5B,cAA4CA,QAA5C,IAAyD,EAA5E,IAAmF,KAFvG;AAGIE,qBAAK,EAAEpC,OAAO,CAACgC,CAAD,CAHlB;AAIIK,yBAAS,EAAEpC,YAAY,CAAC+B,CAAD;AAJ3B;AAMH,aAVgB,CAVS;AAqB1BtB,yBAAa,CAACH,IAAI,IAAI,CAAT,CAAb;AACAC,mBAAO,CAACD,IAAI,KAAK,CAAT,GAAa,CAAb,GAAkBA,IAAI,IAAI,CAA3B,CAAP;AACAD,uBAAW,CAACD,QAAD,CAAX;;AAvB0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,IAwB1B,CAAChD,QAAD,EAAWD,EAAX,CAxB0B,CAA7B;AA0BA,MAAMkF,cAAc,GAAGzE,4BAAW,CAAC,UAACC,IAAD,EAAU;AACzC;AACA;AACA,QAAI,CAACA,IAAD,IAAS,CAACA,IAAI,CAACyE,OAAnB,EAA4B;AACxB,yBAAQxE,IAAR,CAAa,OAAb;;AACA;AACH;;AACD,QAAQwE,OAAR,GAAoBzE,IAApB,CAAQyE,OAAR;AACAvE,UAAM,CAACC,IAAP,CAAYsE,OAAZ;AACH,GATiC,EAS/B,CAACnC,eAAD,CAT+B,CAAlC;AAWA,MAAMoC,oBAAoB,GAAG3E,4BAAW,oGAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACrBR,QAAQ,CAAC;AACrBc,kBAAI,EAAE,yCADe;AAErBC,qBAAO,EAAE;AACLC,wBAAQ,EAAEjB;AADL;AAFY,aAAD,CADa;;AAAA;AAC/BqF,aAD+B;;AAAA,kBAOjCA,CAAC,CAACd,IAAF,KAAW,IAPsB;AAAA;AAAA;AAAA;;AAQjC,+BAAQe,KAAR,CAAcD,CAAC,CAACE,OAAhB;;AARiC;;AAAA;AAAA;AAAA,mBAYnBC,eAAK,CAAC;AACpBC,iBAAG,YAAKC,gHAAS,CAACC,QAAf,+CADiB;AAEpBnB,kBAAI,EAAE;AAAEvD,wBAAQ,EAAEjB;AAAZ,eAFc;AAGpB4F,oBAAM,EAAE,MAHY;AAIpBC,0BAAY,EAAE,MAJM;AAKpBC,qBAAO,EAAE;AACL,gCAAgB,4CADX;AAEL,2BAAWC,kCAAS,CAAC,eAAD,CAAT,IAA8B;AAFpC;AALW,aAAD,CAZc;;AAAA;AAY/BzB,eAZ+B;;AAsBrC,gBAAI;AACI0B,sBADJ,GACe1B,GAAG,CAACwB,OAAJ,CAAY,qBAAZ,EAAmCG,KAAnC,CAAyC,GAAzC,EAA8C,CAA9C,EAAiDA,KAAjD,CAAuD,qBAAvD,EAA8E,CAA9E,CADf;AAEAD,sBAAQ,GAAGE,kBAAkB,CAACF,QAAD,CAA7B;AACMG,kBAHN,GAGa,IAAIC,IAAJ,CAAS,CAAC9B,GAAG,CAACE,IAAL,CAAT,CAHb;AAIM6B,6BAJN,GAIwBC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAJxB;AAKMC,kBALN,GAKa5F,MAAM,CAAC6F,GAAP,CAAWC,eAAX,CAA2BP,IAA3B,CALb;AAMAE,6BAAe,CAACG,IAAhB,GAAuBA,IAAvB;AACAH,6BAAe,CAACM,QAAhB,GAA2BX,QAA3B;AACAM,sBAAQ,CAACM,IAAT,CAAcC,WAAd,CAA0BR,eAA1B;AACAA,6BAAe,CAACS,KAAhB;AACAR,sBAAQ,CAACM,IAAT,CAAcG,WAAd,CAA0BV,eAA1B;AACAzF,oBAAM,CAAC6F,GAAP,CAAWO,eAAX,CAA2BR,IAA3B;AACH,aAZD,CAYE,OAAOlB,KAAP,EAAc;AACZ,iCAAQA,KAAR,CAAc,QAAd;AACH;;AApCoC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,IAqCrC,CAACrF,QAAD,EAAWD,EAAX,CArCqC,CAAxC;AAuCA,MAAMiH,cAAc,GAAGxG,4BAAW,CAAC,YAAM;AACrC,QAAQyG,OAAR,GAAoB9G,WAApB,CAAQ8G,OAAR;;AACA,QAAI,CAACA,OAAL,EAAc;AACV,yBAAQvG,IAAR,CAAa,WAAb;;AACA;AACH;;AACDC,UAAM,CAACC,IAAP,CAAYqG,OAAZ;AACH,GAPiC,EAO/B,CAAC9G,WAAD,CAP+B,CAAlC;AASA,MAAM+G,kBAAkB,GAAG1G,4BAAW;AAAA,qGAAC,kBAAO0C,IAAP,EAAaI,UAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AACnCa,kCAAoB,CAAC,KAAD,CAApB;AADmC;AAAA,qBAEjBnE,QAAQ,CAAC;AACvBc,oBAAI,EAAE,0CADiB;AAEvBC,uBAAO,EAAE;AACLC,0BAAQ,EAAEjB,EADL;AAELmD,sBAAI,EAAJA,IAFK;AAGLI,4BAAU,EAAVA;AAHK;AAFc,eAAD,CAFS;;AAAA;AAE7Be,iBAF6B;;AAWnC,kBAAIA,GAAG,CAACC,IAAJ,KAAa,IAAjB,EAAuB;AACnBrB,2BAAW,CAACD,QAAQ,CAAClB,GAAT,CAAa,UAACrB,IAAD,EAAU;AAC/B,sBAAIA,IAAI,CAACyC,IAAL,KAAcA,IAAlB,EAAwBzC,IAAI,CAAC6C,UAAL,GAAkBA,UAAlB;AACxB,yBAAO7C,IAAP;AACH,iBAHW,CAAD,CAAX;AAIH;;AAhBkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;;AAAA;AAAA;AAAA;AAAA,OAiBnC,CAACT,QAAD,EAAWD,EAAX,EAAeiD,QAAf,CAjBmC,CAAtC;AAmBAnC,4BAAS,CAAC,YAAM;AACZ,QAAImC,QAAQ,CAACmE,MAAT,KAAoB,CAAxB,EAA2B;AAC3B,oBAA8BnE,QAAQ,CAACE,IAAI,GAAG,CAAR,CAAtC;AAAA,QAAQ6B,KAAR,aAAQA,KAAR;AAAA,QAAezB,UAAf,aAAeA,UAAf;AACA,QAAMM,UAAU,GAAG,CAAC;AAChB7D,QAAE,EAAE,CADY;AAEhB+D,WAAK,EAAE,SAFS;AAGhBC,UAAI,EAAE;AAHU,KAAD,EAIhB;AACChE,QAAE,EAAE,CADL;AAEC+D,WAAK,EAAE,SAFR;AAGCC,UAAI,EAAE;AAHP,KAJgB,EAQhB;AACChE,QAAE,EAAE,CADL;AAEC+D,WAAK,EAAE,SAFR;AAGCC,UAAI,EAAE;AAHP,KARgB,CAAnB;AAaAI,wBAAoB,CAAC,KAAD,CAApB;AACAV,gBAAY,CAACsB,KAAD,CAAZ;AACAxB,iBAAa,CAACD,UAAD,CAAb;AACAW,oBAAgB,CAACL,UAAU,CAACwD,IAAX,CAAgB,UAACC,CAAD;AAAA,aAAOA,CAAC,CAACtH,EAAF,KAASuD,UAAhB;AAAA,KAAhB,CAAD,CAAhB;AACAO,iBAAa,CAACD,UAAU,CAAC0D,MAAX,CAAkB,UAACD,CAAD;AAAA,aAAOA,CAAC,CAACtH,EAAF,KAASuD,UAAhB;AAAA,KAAlB,CAAD,CAAb;AACH,GArBQ,EAqBN,CAACJ,IAAD,EAAOF,QAAP,CArBM,CAAT;AAuBAnC,4BAAS,CAAC,YAAM;AACZuD,aAAS;AACZ,GAFQ,EAEN,CAACpE,QAAD,EAAWoE,SAAX,CAFM,CAAT;AAIAvD,4BAAS,CAAC,YAAM;AACZb,YAAQ,CAAC;AACLc,UAAI,EAAE,0CADD;AAELC,aAAO,EAAE;AACLC,gBAAQ,EAAEjB;AADL;AAFJ,KAAD,CAAR;AAMH,GAPQ,EAON,CAACC,QAAD,EAAWD,EAAX,CAPM,CAAT;AASAc,4BAAS,CAAC,YAAM;AACZ,QAAM0G,IAAI,GAAG,EAAb;;AACA,iDAAIC,KAAK,CAAC,CAAD,CAAT,EAAc1F,GAAd,CAAkB,UAACrB,IAAD,EAAOsB,KAAP,EAAiB;AAC/B,UAAM0F,IAAI,GAAG1E,eAAe,CAACqE,IAAhB,CAAqB,UAACM,CAAD;AAAA,eAAOA,CAAC,CAAC5G,IAAF,KAAWiB,KAAK,GAAG,CAA1B;AAAA,OAArB,CAAb;;AACA,kBAAwC0F,IAAI,IAAI,EAAhD;AAAA,iCAAQ1B,QAAR;AAAA,UAAQA,QAAR,+BAAmB,EAAnB;AAAA,gCAAuBb,OAAvB;AAAA,UAAuBA,OAAvB,8BAAiC,EAAjC;;AACAqC,UAAI,CAACI,IAAL,CAAU;AACNzC,eAAO,EAAPA,OADM;AAENa,gBAAQ,EAARA;AAFM,OAAV;AAIH,KAPD;;AAQApC,YAAQ,CAAC4D,IAAD,CAAR;AACH,GAXQ,EAWN,CAACxE,eAAD,CAXM,CAAT;AAaA,sBACI;AAAM,SAAK,EAAC,0BAAZ;AAAmB,aAAS,EAAEnB,2BAAO,CAACgG;AAAtC,kBACI;AAAK,aAAS,EAAEhG,2BAAO,CAACiG;AAAxB,KACK7E,QAAQ,CAAClB,GAAT,CAAa,UAACrB,IAAD,EAAOsB,KAAP;AAAA,wBACV,2EACI;AAAK,SAAG,EAAEtB,IAAI,CAACyC,IAAf;AAAqB,eAAS,YAAKtB,2BAAO,CAACkG,eAAb,cAAgC5E,IAAI,KAAKnB,KAAK,GAAG,CAAjB,GAAqBH,2BAAO,CAACmG,MAA7B,GAAsC,EAAtE;AAA9B,oBACI;AACI,eAAS,YAAKnG,2BAAO,CAACoG,QAAb,cAAyB9E,IAAI,KAAKnB,KAAK,GAAG,CAAjB,GAAqBH,2BAAO,CAACmG,MAA7B,GAAsC,EAA/D,cAAqEtH,IAAI,CAACuE,SAAL,GAAiBpD,2BAAO,CAACoD,SAAzB,GAAqC,EAA1G,CADb;AAEI,aAAO,EAAE;AAAA,eAAM7B,OAAO,CAACpB,KAAK,GAAG,CAAT,CAAb;AAAA;AAFb,oBAII;AAAK,eAAS,EAAEH,2BAAO,CAACkD;AAAxB,OAA+BrE,IAAI,CAACqE,IAApC,CAJJ,eAKI;AAAK,eAAS,EAAElD,2BAAO,CAACmD;AAAxB,OAAgCtE,IAAI,CAACsE,KAArC,CALJ,CADJ,CADJ,EAUKhD,KAAK,KAAK,CAAV,iBAAe,8BAAC,gCAAD,OAVpB,CADU;AAAA,GAAb,CADL,CADJ,EAiBKmB,IAAI,IAAI,CAAR,IAAaJ,WAAW,KAAK,CAA7B,iBACG;AAAK,aAAS,EAAElB,2BAAO,CAACqG;AAAxB,kBACI;AAAK,aAAS,EAAErG,2BAAO,CAACsG;AAAxB,kBACI;AAAK,aAAS,EAAEtG,2BAAO,CAACmD;AAAxB,KAAgCvB,SAAhC,CADJ,EAEK,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa2E,QAAb,CAAsBjF,IAAtB,KAA+BI,UAAU,KAAK,CAA9C,IAAmDF,UAAU,IAAIF,IAAjE,iBACG;AAAK,aAAS,EAAEtB,2BAAO,CAACwG;AAAxB,kBACI;AACI,SAAK,EAAE;AACHtE,WAAK,EAAE,MADJ;AAEHuE,qBAAe,EAAErE,aAAa,CAACF,KAF5B;AAGHwE,YAAM,EAAE;AAHL,KADX;AAMI,WAAO,EAAE;AAAA,aAAMnE,oBAAoB,CAAC,CAACD,kBAAF,CAA1B;AAAA;AANb,KAQKF,aAAa,CAACD,IARnB,CADJ,EAWKG,kBAAkB,iBACf;AAAK,aAAS,EAAEtC,2BAAO,CAAC2G;AAAxB,KACK3E,UAAU,CAAC9B,GAAX,CAAe,UAACrB,IAAD,EAAOsB,KAAP;AAAA,wBACZ;AACI,SAAG,EAAEA,KADT;AAEI,WAAK,EAAE;AACH+B,aAAK,EAAE,MADJ;AAEHuE,uBAAe,EAAE5H,IAAI,CAACqD,KAFnB;AAGHwE,cAAM,EAAE;AAHL,OAFX;AAOI,aAAO,EAAE;AAAA,eAAMpB,kBAAkB,CAAChE,IAAD,EAAOzC,IAAI,CAACV,EAAZ,CAAxB;AAAA;AAPb,OASKU,IAAI,CAACsD,IATV,CADY;AAAA,GAAf,CADL,CAZR,CAHR,CADJ,EAmCKb,IAAI,KAAK,CAAT,iBACG,2EACI;AAAK,WAAO,EAAC;AAAb,KACKH,eAAe,CAACjB,GAAhB,CAAoB,UAACrB,IAAD,EAAOsB,KAAP;AAAA,WACjB,CAACtB,IAAI,CAAC6D,IAAL,KAAc,CAAd,IAAmB7D,IAAI,CAAC6D,IAAL,KAAc,CAAjC,IAAuC7D,IAAI,CAAC6D,IAAL,KAAc,CAAd,IAAmB7D,IAAI,CAAC+H,KAAL,CAAWrB,MAAX,GAAoB,CAA/E,kBACA;AAAK,SAAG,EAAEpF,KAAV;AAAiB,UAAI,EAAE;AAAvB,oBACI;AAAK,eAAS,EAAEH,2BAAO,CAACnB;AAAxB,oBACI;AAAK,eAAS,EAAEmB,2BAAO,CAACpC;AAAxB,OAAgCiB,IAAI,CAACgI,QAArC,WADJ,eAEI;AAAK,eAAS,EAAE7G,2BAAO,CAACQ;AAAxB,oBACI;AAAK,eAAS,EAAER,2BAAO,CAAC8G,OAAxB;AAAiC,aAAO,EAAE;AAAA,eAAMzD,cAAc,CAACxE,IAAD,CAApB;AAAA;AAA1C,oBACI;AAAK,SAAG,EAAEkI,aAAOA;AAAjB,MADJ,CADJ,eAII,yCAAIlI,IAAI,CAACsF,QAAT,CAJJ,CAFJ,CADJ,CAFiB;AAAA,GAApB,CADL,CADJ,eAiBI;AAAO,SAAK,EAAE;AAAE6C,oBAAc,EAAE,QAAlB;AAA4BC,WAAK,EAAE,MAAnC;AAA2CC,eAAS,EAAE;AAAtD;AAAd,kBACI;AAAQ,QAAI,EAAC,SAAb;AAAuB,WAAO,EAAE3D;AAAhC,4CADJ,eAEI;AAAQ,QAAI,EAAC,SAAb;AAAuB,WAAO,EAAE6B;AAAhC,sCAFJ,CAjBJ,CApCR,EA2DK9D,IAAI,GAAG,CAAP,iBACG;AACI,QAAI,eAAE,8BAAC,mBAAD,OADV;AAEI,SAAK,EAAC;AAFV,IA5DR,CAlBR,CADJ;AAwFH,CAnQD;;AAqQeX,+FAAO,CAAC;AAAA,MAAGrC,mBAAH,SAAGA,mBAAH;AAAA,SAA8B;AACjDA,uBAAmB,EAAnBA;AADiD,GAA9B;AAAA,CAAD,CAAP,CAEX2C,qBAFW,CAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClTA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA,IAAQkG,MAAR,gCAAQA,MAAR;AAEA,IAAMC,YAAY,GAAG;AACjBjD,UAAQ,EAAE,EADO;AAEjBkD,OAAK,EAAE,CACH;AACIC,aAAS,EAAE,EADf;AAEIC,aAAS,EAAE,OAFf;AAGIC,eAAW,EAAE,CACT,aADS,EAET,gBAFS,EAGT,YAHS,EAIT,cAJS,EAKT,eALS,EAMT,gBANS,EAOT,aAPS,EAQT,cARS,EAST,OATS,EAUT,cAVS,EAWT,aAXS,EAYT,MAZS,EAaT,aAbS,EAcT,gBAdS,EAeT,kBAfS,EAgBT,gBAhBS,CAHjB;AAqBIC,eAAW,EAAE,CACT,MADS,EAET,gBAFS,EAGT,SAHS,EAIT,QAJS,EAKT,OALS,EAMT,OANS,EAOT,QAPS,EAQT,MARS,EAST,MATS,EAUT,MAVS,EAWT,MAXS,EAYT,IAZS,EAaT,MAbS,EAcT,MAdS,EAeT,MAfS,EAgBT,MAhBS;AArBjB,GADG;AAFU,CAArB;;AA8CA,IAAMC,uBAAW,GAAG,SAAdA,WAAc,CAACxJ,KAAD,EAAW;AAC3B,MAAQE,QAAR,GAAwEF,KAAxE,CAAQE,QAAR;AAAA,MAAkBD,EAAlB,GAAwED,KAAxE,CAAkBC,EAAlB;AAAA,MAAsBwJ,YAAtB,GAAwEzJ,KAAxE,CAAsByJ,YAAtB;AAAA,MAAoCrJ,mBAApC,GAAwEJ,KAAxE,CAAoCI,mBAApC;AAAA,MAAyDsJ,UAAzD,GAAwE1J,KAAxE,CAAyD0J,UAAzD;AACA,MAAQC,mBAAR,GAAuGvJ,mBAAvG,CAAQuJ,mBAAR;AAAA,MAA6BC,oBAA7B,GAAuGxJ,mBAAvG,CAA6BwJ,oBAA7B;AAAA,MAAmDC,gBAAnD,GAAuGzJ,mBAAvG,CAAmDyJ,gBAAnD;AAAA,MAAqEC,iBAArE,GAAuG1J,mBAAvG,CAAqE0J,iBAArE;AAAA,MAAwFC,UAAxF,GAAuG3J,mBAAvG,CAAwF2J,UAAxF;;AAEA,sBAAe,2BAAKC,OAAL,EAAf;AAAA;AAAA,MAAOC,IAAP;;AACA,kBAA8C3J,yBAAQ,CAAC,EAAD,CAAtD;AAAA;AAAA,MAAO4J,eAAP;AAAA,MAAwBC,kBAAxB;;AAEA,MAAMC,OAAO,GAAG,CAAC;AACbnF,SAAK,EAAE,MADM;AAEboF,aAAS,EAAE,aAFE;AAGbC,SAAK,EAAE,QAHM;AAIbC,SAAK,EAAE,MAJM;AAKbxB,SAAK,EAAE,GALM;AAMbyB,UAAM,EAAE,gBAAC7I,GAAD,EAAM8I,GAAN;AAAA,0BAAc,8BAAC,gCAAD;AAAM,UAAE,yCAAkCA,GAAG,CAACC,SAAtC;AAAR,SAA4D/I,GAA5D,CAAd;AAAA;AANK,GAAD,EAOb;AACCsD,SAAK,EAAE,gBADR;AAECoF,aAAS,EAAE,gBAFZ;AAGCC,SAAK,EAAE,QAHR;AAICvB,SAAK,EAAE;AAJR,GAPa,EAYb;AACC9D,SAAK,EAAE,SADR;AAECoF,aAAS,EAAE,YAFZ;AAGCC,SAAK,EAAE,QAHR;AAICvB,SAAK,EAAE,GAJR;AAKCyB,UAAM,EAAE,gBAAC7I,GAAD;AAAA,aAASA,GAAG,GAAGC,gBAAM,CAACD,GAAD,CAAN,CAAYE,MAAZ,CAAmB,YAAnB,CAAH,GAAsC,EAAlD;AAAA;AALT,GAZa,EAkBb;AACCoD,SAAK,EAAE,QADR;AAECoF,aAAS,EAAE,cAFZ;AAGCC,SAAK,EAAE,QAHR;AAICvB,SAAK,EAAE;AAJR,GAlBa,EAuBb;AACC9D,SAAK,EAAE,OADR;AAECoF,aAAS,EAAE,eAFZ;AAGCC,SAAK,EAAE,QAHR;AAICvB,SAAK,EAAE;AAJR,GAvBa,EA4Bb;AACC9D,SAAK,EAAE,OADR;AAECoF,aAAS,EAAE,gBAFZ;AAGCC,SAAK,EAAE,QAHR;AAICvB,SAAK,EAAE;AAJR,GA5Ba,EAiCb;AACC9D,SAAK,EAAE,MADR;AAECoF,aAAS,EAAE,aAFZ;AAGCC,SAAK,EAAE,QAHR;AAICvB,SAAK,EAAE;AAJR,GAjCa,EAsCb;AACC9D,SAAK,EAAE,QADR;AAECoF,aAAS,EAAE,cAFZ;AAGCC,SAAK,EAAE,QAHR;AAICvB,SAAK,EAAE;AAJR,GAtCa,EA2Cb;AACC9D,SAAK,EAAE,MADR;AAECoF,aAAS,EAAE,OAFZ;AAGCC,SAAK,EAAE,QAHR;AAICvB,SAAK,EAAE;AAJR,GA3Ca,EAgDb;AACC9D,SAAK,EAAE,MADR;AAECoF,aAAS,EAAE,cAFZ;AAGCC,SAAK,EAAE,QAHR;AAICvB,SAAK,EAAE;AAJR,GAhDa,EAqDb;AACC9D,SAAK,EAAE,MADR;AAECoF,aAAS,EAAE,aAFZ;AAGCC,SAAK,EAAE,QAHR;AAICvB,SAAK,EAAE;AAJR,GArDa,EA0Db;AACC9D,SAAK,EAAE,IADR;AAECoF,aAAS,EAAE,MAFZ;AAGCC,SAAK,EAAE,QAHR;AAICvB,SAAK,EAAE;AAJR,GA1Da,EA+Db;AACC9D,SAAK,EAAE,MADR;AAECoF,aAAS,EAAE,aAFZ;AAGCC,SAAK,EAAE,QAHR;AAICE,UAAM,EAAE,gBAAC7I,GAAD;AAAA,aAASA,GAAG,KAAK,CAAR,GAAY,KAAZ,GAAoB,KAA7B;AAAA,KAJT;AAKCoH,SAAK,EAAE;AALR,GA/Da,EAqEb;AACC9D,SAAK,EAAE,MADR;AAECoF,aAAS,EAAE,gBAFZ;AAGCC,SAAK,EAAE,QAHR;AAICvB,SAAK,EAAE;AAJR,GArEa,EA0Eb;AACC9D,SAAK,EAAE,MADR;AAECoF,aAAS,EAAE,kBAFZ;AAGCC,SAAK,EAAE,QAHR;AAICvB,SAAK,EAAE;AAJR,GA1Ea,EA+Eb;AACC9D,SAAK,EAAE,MADR;AAECoF,aAAS,EAAE,gBAFZ;AAGCC,SAAK,EAAE,QAHR;AAICvB,SAAK,EAAE;AAJR,GA/Ea,CAAhB;AAsFA,MAAM4B,YAAY,GAAG;AACjBT,mBAAe,EAAfA,eADiB;AAEjBU,YAAQ,EAAET;AAFO,GAArB;AAKA,MAAMU,QAAQ,GAAGnK,4BAAW,CAAC,YAAM;AAC/B,+BAA+CuJ,IAAI,CAACa,cAAL,EAA/C;AAAA,QAAQJ,SAAR,wBAAQA,SAAR;AAAA,QAAmBK,WAAnB,wBAAmBA,WAAnB;AAAA,QAAgCC,UAAhC,wBAAgCA,UAAhC;;AACA,QAAMjB,UAAU,GAAG;AACfgB,iBAAW,EAAXA,WADe;AAEfL,eAAS,EAAEA,SAFI;AAGfM,gBAAU,EAAEA,UAAU,GAAGpJ,gBAAM,CAACoJ,UAAD,CAAN,CAAmBnJ,MAAnB,CAA0B,YAA1B,CAAH,GAA6C;AAHpD,KAAnB;AAKA3B,YAAQ,CAAC;AACLc,UAAI,EAAE,qCADD;AAELC,aAAO,EAAE;AACL0I,2BAAmB,EAAE,CADhB;AAELI,kBAAU,EAAVA;AAFK;AAFJ,KAAD,CAAR;AAOH,GAd2B,EAczB,CAAC7J,QAAD,EAAW+J,IAAX,CAdyB,CAA5B;AAgBA,MAAMgB,WAAW,GAAGvK,4BAAW,CAAC,YAAM;AAClCuJ,QAAI,CAACiB,WAAL;AACAhL,YAAQ,CAAC;AACLc,UAAI,EAAE,qCADD;AAELC,aAAO,EAAE;AACL0I,2BAAmB,EAAE,CADhB;AAELI,kBAAU,EAAE;AAFP;AAFJ,KAAD,CAAR;AAOH,GAT8B,EAS5B,CAAC7J,QAAD,EAAW+J,IAAX,CAT4B,CAA/B;AAWA,MAAMkB,YAAY,GAAGzK,4BAAW;AAAA,oGAAC,iBAAOM,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACzByD,kBADyB,GAClB,EADkB;;AAAA,oBAEzBzD,IAAI,KAAK,UAFgB;AAAA;AAAA;AAAA;;AAAA,oBAGrBkJ,eAAe,CAAC7C,MAAhB,KAA2B,CAHN;AAAA;AAAA;AAAA;;AAIrB,iCAAQzG,IAAR,CAAa,UAAb;;AAJqB;;AAAA;AAOzB6D,kBAAI,GAAGyF,eAAe,CAAClI,GAAhB,CAAoB,UAAC/B,EAAD,EAAQ;AAC/B,uBAAO4J,gBAAgB,CAACvC,IAAjB,CAAsB,UAAC3G,IAAD;AAAA,yBAAUA,IAAI,CAACV,EAAL,KAAYA,EAAtB;AAAA,iBAAtB,CAAP;AACH,eAFM,CAAP;AAPyB;AAAA;;AAAA;AAAA;AAAA,qBAWPC,QAAQ,CAAC;AACvBc,oBAAI,EAAE,4CADiB;AAEvBC,uBAAO,EAAE;AACLC,0BAAQ,EAAEjB;AADL;AAFc,eAAD,CAXD;;AAAA;AAWnBsE,iBAXmB;AAiBnB6G,qBAjBmB,GAiBT7G,GAAG,CAACE,IAAJ,IAAY,EAjBH;AAkBzBA,kBAAI,GAAG2G,OAAO,CAAC3D,IAAR,IAAgB,EAAvB;;AAlByB;AAqB7BhD,kBAAI,CAACrD,OAAL,CAAa,UAACT,IAAD,EAAU;AACnBA,oBAAI,CAACqK,UAAL,GAAkBrK,IAAI,CAACqK,UAAL,GAAkBpJ,gBAAM,CAACjB,IAAI,CAACqK,UAAN,CAAN,CAAwBnJ,MAAxB,CAA+B,YAA/B,CAAlB,GAAiE,EAAnF;AACAlB,oBAAI,CAAC0K,WAAL,GAAmB1K,IAAI,CAAC0K,WAAL,KAAqB,CAArB,GAAyB,KAAzB,GAAiC,KAApD;AACH,eAHD;AAKAnC,0BAAY,CAACjD,QAAb,aAA2B,IAAIqF,IAAJ,GAAWC,OAAX,EAA3B;AACArC,0BAAY,CAACC,KAAb,CAAmB,CAAnB,EAAsBC,SAAtB,GAAkC3E,IAAlC;AACA+G,kDAAW,CAACtC,YAAD,CAAX;;AA5B6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;;AAAA;AAAA;AAAA;AAAA,OA6B7B,CAACW,gBAAD,EAAmB3J,QAAnB,EAA6BD,EAA7B,EAAiCiK,eAAjC,CA7B6B,CAAhC;AA+BA,MAAMuB,YAAY,GAAG/K,4BAAW,CAAC,UAACgL,CAAD,EAAO;AACpCxL,YAAQ,CAAC;AACLc,UAAI,EAAE,qCADD;AAELC,aAAO,EAAE;AACL0I,2BAAmB,EAAE+B,CAAC,CAACC,OADlB;AAEL/B,4BAAoB,EAAE8B,CAAC,CAACE;AAFnB;AAFJ,KAAD,CAAR;AAOH,GAR+B,EAQ7B,CAAC1L,QAAD,CAR6B,CAAhC;AAUAa,4BAAS,CAAC,YAAM;AACZb,YAAQ,CAAC;AACLc,UAAI,EAAE,yCADD;AAELC,aAAO,EAAE;AACLC,gBAAQ,EAAEjB,EADP;AAEH4L,eAAO,EAAElC,mBAFN;AAGHiC,gBAAQ,EAAEhC;AAHP,SAIAG,UAJA;AAFF,KAAD,CAAR;AASH,GAVQ,EAUN,CAACJ,mBAAD,EAAsBC,oBAAtB,EAA4C1J,QAA5C,EAAsDD,EAAtD,EAA0D8J,UAA1D,CAVM,CAAT;AAYA,sBACI;AAAM,SAAK,EAAC,4CAAZ;AAAsB,aAAS,EAAEjI,4BAAO,CAACgK;AAAzC,kBACI;AACI,QAAI,EAAE7B,IADV;AAEI,QAAI,EAAC,qBAFT;AAGI,UAAM,EAAC,QAHX;AAII,YAAQ,EAAEY;AAJd,kBAMI,8BAAC,mCAAD;AACI,UAAM,EAAC,WADX;AAEI,SAAK,EAAC,WAFV;AAGI,SAAK,EAAC,aAHV;AAII,kBAAc,EAAE;AAAEkB,WAAK,EAAE;AAAEhD,aAAK,EAAE;AAAT;AAAT,KAJpB;AAKI,aAAS,EAAC;AALd,IANJ,eAaI,yDAAM,IAAN;AACI,SAAK,EAAC,0BADV;AAEI,QAAI,EAAC;AAFT,kBAII;AAAQ,eAAW,EAAC,oBAApB;AAA0B,SAAK,EAAE;AAAEA,WAAK,EAAE;AAAT,KAAjC;AAAqD,cAAU;AAA/D,kBACI,8BAAC,MAAD;AAAQ,SAAK,EAAE;AAAf,oBADJ,eAEI,8BAAC,MAAD;AAAQ,SAAK,EAAE;AAAf,0BAFJ,CAJJ,CAbJ,eAsBI,yDAAM,IAAN;AACI,SAAK,EAAC,0BADV;AAEI,QAAI,EAAC;AAFT,kBAII;AAAY,SAAK,EAAE;AAAEA,WAAK,EAAE;AAAT;AAAnB,IAJJ,CAtBJ,eA4BI,yDAAM,IAAN,qBACI,2EACI;AAAQ,QAAI,EAAC,SAAb;AAAuB,WAAO,EAAEW;AAAhC,4CADJ,eAEI;AACI,aAAS,EAAC,YADd;AAEI,WAAO,EAAE,mBAAM;AACX,0BAAO,0EACH,sDAAM,IAAN;AAAW,eAAO,EAAE;AAAA,iBAAMyB,YAAY,CAAC,UAAD,CAAlB;AAAA;AAApB,oCADG,eAEH,sDAAM,IAAN;AAAW,eAAO,EAAE;AAAA,iBAAMA,YAAY,CAAC,KAAD,CAAlB;AAAA;AAApB,oCAFG,CAAP;AAIH;AAPL,kBASI,6FATJ,CAFJ,eAaI;AAAQ,QAAI,EAAC,SAAb;AAAuB,YAAQ,EAAC;AAAhC,oBAbJ,eAcI;AAAQ,WAAO,EAAEF;AAAjB,oBAdJ,CADJ,CA5BJ,CADJ,eAgDI,8BAAC,0BAAD;AACI,WAAO,EAAExB,YADb;AAEI,WAAO,EAAEW,OAFb;AAGI,cAAU,EAAEP,gBAHhB;AAII,SAAK,EAAEC,iBAJX;AAKI,WAAO,EAAEH,mBALb;AAMI,UAAM,EAAE;AAAEqC,OAAC,EAAE;AAAL,KANZ;AAOI,UAAM,MAPV;AAQI,YAAQ,EAAEP,YARd;AASI,UAAM,EAAC,IATX;AAUI,gBAAY,EAAEd;AAVlB,IAhDJ,CADJ;AA+DH,CAjPD;;AAmPelI,gGAAO,CAAC;AAAA,MAAGrC,mBAAH,SAAGA,mBAAH;AAAA,MAAwBsC,OAAxB,SAAwBA,OAAxB;AAAA,SAAuC;AAC1DtC,uBAAmB,EAAnBA,mBAD0D;AAE1DqJ,gBAAY,EAAE/G,OAAO,CAACC,OAAR,CAAgB,yCAAhB;AAF4C,GAAvC;AAAA,CAAD,CAAP,CAGX6G,uBAHW,CAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3SA;AACA;AAEA;AACA;AACA,IAAQP,mBAAR,gCAAQA,MAAR;;AAEA,IAAMgD,yBAAY,GAAG,SAAfA,YAAe,CAACjM,KAAD,EAAW;AAC5B,MACIE,QADJ,GASIF,KATJ,CACIE,QADJ;AAAA,MAEQgM,OAFR,GASIlM,KATJ,CAEIC,EAFJ;AAAA,MAGIkM,SAHJ,GASInM,KATJ,CAGImM,SAHJ;AAAA,MAIIC,QAJJ,GASIpM,KATJ,CAIIoM,QAJJ;AAAA,MAKIC,SALJ,GASIrM,KATJ,CAKIqM,SALJ;AAAA,MAMI5C,YANJ,GASIzJ,KATJ,CAMIyJ,YANJ;AAAA,MAOI6C,aAPJ,GASItM,KATJ,CAOIsM,aAPJ;AAAA,MAQIC,mBARJ,GASIvM,KATJ,CAQIuM,mBARJ;;AAUA,sBAAe,2BAAKvC,OAAL,EAAf;AAAA;AAAA,MAAOC,IAAP;;AACA,kBAA8C3J,yBAAQ,CAAC,EAAD,CAAtD;AAAA;AAAA,MAAO4J,eAAP;AAAA,MAAwBC,kBAAxB;;AAEA,MAAMC,OAAO,GAAG,CACZ;AACInF,SAAK,EAAE,MADX;AAEIoF,aAAS,EAAE,aAFf;AAGIC,SAAK,EAAE,QAHX;AAIIvB,SAAK,EAAE;AAJX,GADY,EAOZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACI9D,SAAK,EAAE,MADX;AAEIoF,aAAS,EAAE,cAFf;AAGIC,SAAK,EAAE;AAHX,GAjBY,EAsBZ;AACIrF,SAAK,EAAE,MADX;AAEIoF,aAAS,EAAE,eAFf;AAGIC,SAAK,EAAE,QAHX;AAIIE,UAAM,EAAE,gBAAC7I,GAAD,EAAS;AACb,UAAM6K,SAAS,GAAG;AACd,WAAG,IADW;AAEd,WAAG,IAFW;AAGd,WAAG,IAHW;AAId,WAAG;AAJW,OAAlB;AAMA,aAAOA,SAAS,CAAC7K,GAAD,CAAhB;AACH;AAZL,GAtBY,EAoCZ;AACIsD,SAAK,EAAE,YADX;AAEIoF,aAAS,EAAE,kBAFf;AAGIC,SAAK,EAAE,QAHX;AAIIE,UAAM,EAAE,gBAAC7I,GAAD;AAAA,aAAUA,GAAG,KAAK,CAAR,GAAY,GAAZ,GAAkB,GAA5B;AAAA;AAJZ,GApCY,EA0CZ;AACIsD,SAAK,EAAE,UADX;AAEIoF,aAAS,EAAE,gBAFf;AAGIC,SAAK,EAAE;AAHX,GA1CY,EA+CZ;AACIrF,SAAK,EAAE,eADX;AAEIoF,aAAS,EAAE,8BAFf;AAGIC,SAAK,EAAE;AAHX,GA/CY,EAoDZ;AACIrF,SAAK,EAAE,eADX;AAEIoF,aAAS,EAAE,8BAFf;AAGIC,SAAK,EAAE;AAHX,GApDY,CAAhB;AA2DA,MAAMK,YAAY,GAAG;AACjB8B,eAAW,EAAE,MADI;AAEjBvC,mBAAe,EAAfA,eAFiB;AAGjBU,YAAQ,EAAET;AAHO,GAArB;AAMA,MAAMU,QAAQ,GAAGnK,4BAAW,CAAC,YAAM;AAC/B,QAAM6D,GAAG,GAAG0F,IAAI,CAACa,cAAL,EAAZ;AACA5K,YAAQ,CAAC;AACLc,UAAI,EAAE,4CADD;AAELC,aAAO,EAAE;AACLC,gBAAQ,EAAEgL;AADP,SAEA3H,GAFA;AAFF,KAAD,CAAR;AAOH,GAT2B,EASzB,CAACrE,QAAD,EAAW+J,IAAX,EAAiBiC,OAAjB,CATyB,CAA5B;AAWA,MAAMjB,WAAW,GAAGvK,4BAAW,CAAC,YAAM;AAClCuJ,QAAI,CAACiB,WAAL;AACA,QAAM3G,GAAG,GAAG0F,IAAI,CAACa,cAAL,EAAZ;AACA5K,YAAQ,CAAC;AACLc,UAAI,EAAE,4CADD;AAELC,aAAO,EAAE;AACLC,gBAAQ,EAAEgL;AADP,SAEA3H,GAFA;AAFF,KAAD,CAAR;AAOH,GAV8B,EAU5B,CAACrE,QAAD,EAAW+J,IAAX,EAAiBiC,OAAjB,CAV4B,CAA/B;AAYA,MAAMQ,YAAY,GAAGhM,4BAAW,oGAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AACvBiM,sBADuB,GACVzC,eADU;;AAAA,kBAEzByC,UAAU,CAACtF,MAAX,KAAsB,CAFG;AAAA;AAAA;AAAA;;AAGzB,+BAAQuF,IAAR,CAAa,YAAb;;AAHyB;;AAAA;AAAA;AAAA,mBAOX1M,QAAQ,CAAC;AACvBc,kBAAI,EAAE,+CADiB;AAEvBC,qBAAO,EAAE;AACL0L,0BAAU,EAAVA,UADK;AAELzL,wBAAQ,EAAEgL;AAFL;AAFc,aAAD,CAPG;;AAAA;AAOvB3H,eAPuB;;AAe7B,gBAAIA,GAAG,CAACC,IAAJ,KAAa,IAAjB,EAAuB;AACnB6H,uBAAS,CAAC9H,GAAG,CAACE,IAAL,CAAT;AACH,aAFD,MAEO;AACH,iCAAQc,KAAR,CAAchB,GAAG,CAACiB,OAAlB;AACH;;AAnB4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,IAoB7B,CAACtF,QAAD,EAAWmM,SAAX,EAAsBnC,eAAtB,EAAuCgC,OAAvC,CApB6B,CAAhC;AAsBAnL,4BAAS,CAAC,YAAM;AACZ,QAAM8L,YAAY,GAAG,EAArB;AACAN,uBAAmB,CAACnL,OAApB,CAA4B,UAACT,IAAD,EAAU;AAClC,UAAIA,IAAI,CAACmM,OAAT,EAAkBD,YAAY,CAAChF,IAAb,CAAkBlH,IAAI,CAAC+J,SAAvB;AACrB,KAFD;AAIAP,sBAAkB,CAAC0C,YAAD,CAAlB;AACH,GAPQ,EAON,CAACN,mBAAD,CAPM,CAAT;AASAxL,4BAAS,CAAC,YAAM;AACZ,QAAMwD,GAAG,GAAG0F,IAAI,CAACa,cAAL,EAAZ;;AACA,QAAIqB,SAAJ,EAAe;AACXjM,cAAQ,CAAC;AACLc,YAAI,EAAE,4CADD;AAELC,eAAO,EAAE,sFACFsD,GADA;AAEHwI,0BAAgB,EAAExI,GAAG,CAACwI,gBAAJ,IAAwB,CAFvC;AAGHC,0BAAgB,EAAEzI,GAAG,CAACyI,gBAAJ,IAAwB,CAHvC;AAIH9L,kBAAQ,EAAEgL;AAJP;AAFF,OAAD,CAAR;AASAe,gBAAU,CAAC,YAAM;AACbhD,YAAI,CAACiB,WAAL;AACH,OAFS,EAEP,GAFO,CAAV;AAGH;AACJ,GAhBQ,EAgBN,CAAChL,QAAD,EAAW+J,IAAX,EAAiBkC,SAAjB,EAA4BD,OAA5B,CAhBM,CAAT;AAkBA,sBACI;AACI,aAAS,EAAEpK,6BAAO,CAACoL,oBADvB;AAEI,WAAO,EAAEf,SAFb;AAGI,SAAK,EAAC,KAHV;AAII,kBAAc,MAJlB;AAKI,YAAQ,EAAEC,QALd;AAMI,UAAM,EAAE,cACJ;AACI,SAAG,EAAC,QADR;AAEI,UAAI,EAAC,SAFT;AAGI,UAAI,EAAC,OAHT;AAII,aAAO,EAAEE,aAJb;AAKI,aAAO,EAAEI;AALb,kFADI;AANZ,kBAkBI;AAAM,QAAI,EAAEzC,IAAZ;AAAkB,iBAAa,EAAE;AAAE8C,sBAAgB,EAAE,CAApB;AAAuBC,sBAAgB,EAAE;AAAzC,KAAjC;AAA+E,YAAQ,EAAEnC;AAAzF,kBACI;AAAK,UAAM,EAAE;AAAb,kBACI;AAAK,QAAI,EAAE;AAAX,kBACI,yDAAM,IAAN;AAAW,SAAK,EAAC,0BAAjB;AAAwB,QAAI,EAAC;AAA7B,kBACI;AAAO,eAAW,EAAC;AAAnB,IADJ,CADJ,CADJ,eAMI;AAAK,QAAI,EAAE;AAAX,kBACI,yDAAM,IAAN;AAAW,SAAK,EAAC,8DAAjB;AAA8B,QAAI,EAAC;AAAnC,kBACI;AAAQ,eAAW,EAAC,oBAApB;AAA0B,SAAK,EAAE;AAAE9B,WAAK,EAAE;AAAT,KAAjC;AAAoD,cAAU;AAA9D,kBACI,8BAAC,mBAAD;AAAQ,SAAK,EAAE;AAAf,cADJ,eAEI,8BAAC,mBAAD;AAAQ,SAAK,EAAE;AAAf,cAFJ,CADJ,CADJ,CANJ,eAcI;AAAK,QAAI,EAAE;AAAX,kBACI,yDAAM,IAAN;AAAW,SAAK,EAAC,0BAAjB;AAAwB,QAAI,EAAC;AAA7B,kBACI;AAAQ,eAAW,EAAC,oBAApB;AAA0B,SAAK,EAAE;AAAEA,WAAK,EAAE;AAAT,KAAjC;AAAoD,cAAU;AAA9D,kBACI,8BAAC,mBAAD;AAAQ,SAAK,EAAE;AAAf,oBADJ,eAEI,8BAAC,mBAAD;AAAQ,SAAK,EAAE;AAAf,oBAFJ,eAGI,8BAAC,mBAAD;AAAQ,SAAK,EAAE;AAAf,sCAHJ,CADJ,CADJ,CAdJ,eAuBI;AAAK,QAAI,EAAE;AAAX,kBACI,yDAAM,IAAN;AAAW,QAAI,EAAC,kBAAhB;AAAmC,SAAK,EAAC;AAAzC,kBACI;AAAQ,eAAW,EAAC,oBAApB;AAA0B,SAAK,EAAE;AAAEA,WAAK,EAAE;AAAT,KAAjC;AAAoD,cAAU;AAA9D,kBACI,8BAAC,mBAAD;AAAQ,SAAK,EAAE;AAAf,cADJ,eAEI,8BAAC,mBAAD;AAAQ,SAAK,EAAE;AAAf,cAFJ,CADJ,CADJ,CAvBJ,eA+BI;AAAK,QAAI,EAAE,CAAX;AAAc,UAAM,EAAE;AAAtB,kBACI,yDAAM,IAAN,qBACI,2EACI;AAAQ,QAAI,EAAC,SAAb;AAAuB,YAAQ,EAAC;AAAhC,oBADJ,eAII;AAAQ,WAAO,EAAEkC;AAAjB,oBAJJ,CADJ,CADJ,CA/BJ,CADJ,CAlBJ,eA8DI,8BAAC,0BAAD;AACI,WAAO,EAAExB,YADb;AAEI,WAAO,EAAEW,OAFb;AAGI,cAAU,EAAEmC,mBAHhB;AAII,UAAM,EAAE;AAAEP,OAAC,EAAE,MAAL;AAAamB,OAAC,EAAE;AAAhB,KAJZ;AAKI,UAAM,MALV;AAMI,UAAM,EAAC,WANX;AAOI,gBAAY,EAAExC,YAPlB;AAQI,cAAU,EAAE;AARhB,IA9DJ,CADJ;AA2EH,CAlOD;;AAoOelI,iGAAO,CAAC;AAAA,MAAGrC,mBAAH,SAAGA,mBAAH;AAAA,MAAwBsC,OAAxB,SAAwBA,OAAxB;AAAA,SAAuC;AAC1D+G,gBAAY,EAAE/G,OAAO,CAACC,OAAR,CAAgB,4CAAhB,CAD4C;AAE1D2J,iBAAa,EAAE5J,OAAO,CAACC,OAAR,CAAgB,+CAAhB,CAF2C;AAG1D4J,uBAAmB,EAAEnM,mBAAmB,CAACmM;AAHiB,GAAvC;AAAA,CAAD,CAAP,CAIXN,yBAJW,CAAf,E;;;;;;;;;;;;;;;;;;;;AC3OA;AACA;;AAGA;AACA;AACA;AAEA,IAAMrJ,2BAAY,GAAG,CACjB;AACIlD,OAAK,EAAE;AADX,CADiB,EAIjB;AACIA,OAAK,EAAE;AADX,CAJiB,EAOjB;AACIA,OAAK,EAAE;AADX,CAPiB,EAUjB;AACIA,OAAK,EAAE;AADX,CAViB,CAArB;;AAeA,IAAM0N,6BAAc,GAAG,SAAjBA,cAAiB,CAACpN,KAAD,EAAW;AAC9B,MACQkM,OADR,GAOIlM,KAPJ,CACIC,EADJ;AAAA,MAEIkM,SAFJ,GAOInM,KAPJ,CAEImM,SAFJ;AAAA,MAGIC,QAHJ,GAOIpM,KAPJ,CAGIoM,QAHJ;AAAA,MAIIC,SAJJ,GAOIrM,KAPJ,CAIIqM,SAJJ;AAAA,MAKIC,aALJ,GAOItM,KAPJ,CAKIsM,aALJ;AAAA,MAMIlM,mBANJ,GAOIJ,KAPJ,CAMII,mBANJ;AAQA,MAAQ6C,eAAR,GAAgD7C,mBAAhD,CAAQ6C,eAAR;AAAA,MAAyBoK,kBAAzB,GAAgDjN,mBAAhD,CAAyBiN,kBAAzB;;AACA,kBAA0B/M,yBAAQ,CAAC,EAAD,CAAlC;AAAA;AAAA,MAAOsD,KAAP;AAAA,MAAcC,QAAd;;AAEA,MAAMyJ,iBAAiB,GAAG5M,4BAAW,oGAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAChB+E,eAAK,CAAC;AACpBC,iBAAG,YAAKC,gHAAS,CAACC,QAAf,+CADiB;AAEpBnB,kBAAI,EAAE;AAAEvD,wBAAQ,EAAEgL;AAAZ,eAFc;AAGpBrG,oBAAM,EAAE,MAHY;AAIpBC,0BAAY,EAAE,MAJM;AAKpBC,qBAAO,EAAE;AACL,gCAAgB,4CADX;AAEL,2BAAWC,kCAAS,CAAC,eAAD,CAAT,IAA8B;AAFpC;AALW,aAAD,CADW;;AAAA;AAC5BzB,eAD4B;;AAWlC,gBAAI;AACI0B,sBADJ,GACe1B,GAAG,CAACwB,OAAJ,CAAY,qBAAZ,EAAmCG,KAAnC,CAAyC,GAAzC,EAA8C,CAA9C,EAAiDA,KAAjD,CAAuD,qBAAvD,EAA8E,CAA9E,CADf;AAEAD,sBAAQ,GAAGE,kBAAkB,CAACF,QAAD,CAA7B;AACMG,kBAHN,GAGa,IAAIC,IAAJ,CAAS,CAAC9B,GAAG,CAACE,IAAL,CAAT,CAHb;AAIM6B,6BAJN,GAIwBC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAJxB;AAKMC,kBALN,GAKa5F,MAAM,CAAC6F,GAAP,CAAWC,eAAX,CAA2BP,IAA3B,CALb;AAMAE,6BAAe,CAACG,IAAhB,GAAuBA,IAAvB;AACAH,6BAAe,CAACM,QAAhB,GAA2BX,QAA3B;AACAM,sBAAQ,CAACM,IAAT,CAAcC,WAAd,CAA0BR,eAA1B;AACAA,6BAAe,CAACS,KAAhB;AACAR,sBAAQ,CAACM,IAAT,CAAcG,WAAd,CAA0BV,eAA1B;AACAzF,oBAAM,CAAC6F,GAAP,CAAWO,eAAX,CAA2BR,IAA3B;AACA4F,uBAAS;AACZ,aAbD,CAaE,OAAO9G,KAAP,EAAc;AACZ,iCAAQA,KAAR,CAAc,QAAd;AACH;;AA1BiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,IA2BlC,CAAC8G,SAAD,EAAYH,OAAZ,CA3BkC,CAArC;AA6BA,MAAM/G,cAAc,GAAGzE,4BAAW,CAAC,UAACC,IAAD,EAAU;AACzC;AACA;AACA,QAAI,CAACA,IAAD,IAAS,CAACA,IAAI,CAACyE,OAAnB,EAA4B;AACxB,yBAAQxE,IAAR,CAAa,OAAb;;AACA;AACH;;AACD,QAAQwE,OAAR,GAAoBzE,IAApB,CAAQyE,OAAR;AACAvE,UAAM,CAACC,IAAP,CAAYsE,OAAZ;AACH,GATiC,EAS/B,CAACnC,eAAD,CAT+B,CAAlC;AAWAlC,4BAAS,CAAC,YAAM;AACZ,QAAM0G,IAAI,GAAG,EAAb;;AACA,iDAAIC,KAAK,CAAC,CAAD,CAAT,EAAc1F,GAAd,CAAkB,UAACrB,IAAD,EAAOsB,KAAP,EAAiB;AAC/B,UAAM0F,IAAI,GAAG1E,eAAe,CAACqE,IAAhB,CAAqB,UAACM,CAAD;AAAA,eAAOA,CAAC,CAAC5G,IAAF,KAAWiB,KAAK,GAAG,CAA1B;AAAA,OAArB,CAAb;;AACA,kBAAwC0F,IAAI,IAAI,EAAhD;AAAA,iCAAQ1B,QAAR;AAAA,UAAQA,QAAR,+BAAmB,EAAnB;AAAA,gCAAuBb,OAAvB;AAAA,UAAuBA,OAAvB,8BAAiC,EAAjC;;AACAqC,UAAI,CAACI,IAAL,CAAU;AACNzC,eAAO,EAAPA,OADM;AAENa,gBAAQ,EAARA;AAFM,OAAV;AAIH,KAPD;;AAQApC,YAAQ,CAAC4D,IAAD,CAAR;AACH,GAXQ,EAWN,CAACxE,eAAD,CAXM,CAAT;;AAcA,MAAMsK,MAAM,GAAG,SAATA,MAAS,GAAM;AACjB,QAAM9F,IAAI,GAAG,EAAb;AACAC,SAAK,CAAC8F,OAAN,CAAcH,kBAAd,KAAqCA,kBAAkB,CAACrL,GAAnB,CAAuB,UAACrB,IAAD,EAAU;AAClE,UAAIA,IAAI,CAAC6D,IAAL,KAAc,CAAC,CAAnB,EAAsB;AAClBiD,YAAI,CAACI,IAAL,CAAUlH,IAAV;AACH;AACJ,KAJoC,CAArC;;AAKA,QAAI8G,IAAI,CAACJ,MAAL,GAAc,CAAlB,EAAqB;AACjB,0BAAQ;AACJ,WAAG,EAAC,QADA;AAEJ,YAAI,EAAC,SAFD;AAGJ,YAAI,EAAC,OAHD;AAIJ,eAAO,EAAEiF,aAJL;AAKJ,eAAO,EAAEgB;AALL,oCAAR;AASH,KAVD,MAUO;AACH,0BACI;AACI,WAAG,EAAC,QADR;AAEI,YAAI,EAAC,SAFT;AAGI,YAAI,EAAC,OAHT;AAII,gBAAQ;AAJZ,gDADJ;AAUH;AACJ,GA7BD;;AA+BA,sBACI;AACI,aAAS,EAAExL,+BAAO,CAAC2L,aADvB;AAEI,WAAO,EAAEtB,SAFb;AAGI,SAAK,EAAC,KAHV;AAII,kBAAc,MAJlB;AAKI,YAAQ,EAAEC,QALd;AAMI,UAAM,EAAE,CACJmB,MAAM,EADF;AANZ,kBAUI;AAAK,WAAO,EAAC;AAAb,KACKtK,eAAe,CAACjB,GAAhB,CAAoB,UAACrB,IAAD,EAAOsB,KAAP;AAAA,WACjB,CAACtB,IAAI,CAAC6D,IAAL,KAAc,CAAd,IAAmB7D,IAAI,CAAC6D,IAAL,KAAc,CAAjC,IAAuC7D,IAAI,CAAC6D,IAAL,KAAc,CAAd,IAAmB7D,IAAI,CAAC+H,KAAL,CAAWrB,MAAX,GAAoB,CAA/E,kBACA;AAAK,SAAG,EAAEpF,KAAV;AAAiB,UAAI,EAAE;AAAvB,oBACI;AAAK,eAAS,EAAEH,+BAAO,CAACnB;AAAxB,oBACI;AAAK,eAAS,EAAEmB,+BAAO,CAACpC;AAAxB,OAAgCiB,IAAI,CAACgI,QAArC,WADJ,eAEI;AAAK,eAAS,EAAE7G,+BAAO,CAACQ;AAAxB,oBACI;AAAK,eAAS,EAAER,+BAAO,CAAC8G,OAAxB;AAAiC,aAAO,EAAE;AAAA,eAAMzD,cAAc,CAACxE,IAAD,CAApB;AAAA;AAA1C,oBACI;AAAK,SAAG,EAAEkI,aAAOA;AAAjB,MADJ,CADJ,eAII,yCAAIlI,IAAI,CAACsF,QAAT,CAJJ,CAFJ,CADJ,CAFiB;AAAA,GAApB,CADL,CAVJ,CADJ;AA6BH,CA9HD;;AAgIexD,mGAAO,CAAC;AAAA,MAAGrC,mBAAH,SAAGA,mBAAH;AAAA,MAAwBsC,OAAxB,SAAwBA,OAAxB;AAAA,SAAuC;AAC1D4J,iBAAa,EAAE5J,OAAO,CAACC,OAAR,CAAgB,0CAAhB,CAD2C;AAE1DvC,uBAAmB,EAAnBA;AAF0D,GAAvC;AAAA,CAAD,CAAP,CAGXgN,6BAHW,CAAf,E;;;;;;;;;;;;ACvJA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMM,uBAAW,GAAG,SAAdA,WAAc,CAAC1N,KAAD,EAAW;AAC3B,MAAQE,QAAR,GAA6DF,KAA7D,CAAQE,QAAR;AAAA,MAA2ByN,MAA3B,GAA6D3N,KAA7D,CAAkB4N,KAAlB,CAA2BD,MAA3B;AAAA,MAAqCvN,mBAArC,GAA6DJ,KAA7D,CAAqCI,mBAArC;AACA,MAAQH,EAAR,GAAe0N,MAAf,CAAQ1N,EAAR;;AACA,kBAA6DK,yBAAQ,CAAC,KAAD,CAArE;AAAA;AAAA,MAAOuN,qBAAP;AAAA,MAA8BC,2BAA9B;;AACA,mBAAiExN,yBAAQ,CAAC,KAAD,CAAzE;AAAA;AAAA,MAAOyN,uBAAP;AAAA,MAAgCC,6BAAhC;;AACA,mBAA6D1N,yBAAQ,CAAC,KAAD,CAArE;AAAA;AAAA,MAAO2N,qBAAP;AAAA,MAA8BC,2BAA9B;;AACA,mBAAsC5N,yBAAQ,CAAC,EAAD,CAA9C;AAAA;AAAA,MAAO6N,WAAP;AAAA,MAAoBC,cAApB,iBAN2B,CAQ3B;AACA;;;AACA,mBAAsC9N,yBAAQ,CAAC,CAAD,CAA9C;AAAA;AAAA,MAAO0C,WAAP;AAAA,MAAoBqL,cAApB;;AAEA,MAAMC,kBAAkB,GAAG5N,4BAAW,CAAC,YAAM;AACzCR,YAAQ,CAAC;AACLc,UAAI,EAAE,4CADD;AAELC,aAAO,EAAE;AACLC,gBAAQ,EAAEjB;AADL;AAFJ,KAAD,CAAR;AAMH,GAPqC,EAOnC,CAACC,QAAD,EAAWD,EAAX,CAPmC,CAAtC;AASA,MAAMsO,cAAc,GAAG7N,4BAAW,oGAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACbR,QAAQ,CAAC;AACvBc,kBAAI,EAAE,0CADiB;AAEvBC,qBAAO,EAAE;AACLuD,oBAAI,EAAEvE;AADD;AAFc,aAAD,CADK;;AAAA;AACzBsE,eADyB;;AAO/B,gBAAIA,GAAG,CAACC,IAAJ,KAAa,IAAjB,EAAuB;AACnB6J,4BAAc,CAAC9J,GAAG,CAACE,IAAL,CAAd,CADmB,CAEnB;AACA;AACA;AACH;;AAZ8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,IAa/B,CAACvE,QAAD,EAAWoO,kBAAX,EAA+BrO,EAA/B,CAb+B,CAAlC;AAeA,MAAMuO,kBAAkB,GAAG9N,4BAAW,CAAC,YAAe;AAAA,QAAd+G,IAAc,uEAAP,EAAO;AAClDqG,+BAA2B,CAAC,KAAD,CAA3B;AACAE,iCAA6B,CAAC,IAAD,CAA7B,CAFkD,CAIlD;;AACA9N,YAAQ,CAAC;AACLc,UAAI,EAAE,0CADD;AAELC,aAAO,EAAE;AACLC,gBAAQ,EAAEjB;AADL;AAFJ,KAAD,CAAR;AAOA,QAAMkO,WAAW,GAAG,EAApB;AACA1G,QAAI,CAACrG,OAAL,CAAa,UAACT,IAAD,EAAU;AACnB,UAAIA,IAAI,CAAC6D,IAAL,KAAc,CAAd,IAAmB7D,IAAI,CAAC6D,IAAL,KAAc,CAAC,CAAtC,EAAyC;AACrC2J,mBAAW,CAACtG,IAAZ,OAAAsG,WAAW,+CAASxN,IAAI,CAAC+H,KAAd,EAAX;AACH;AACJ,KAJD;;AAKA,QAAIyF,WAAW,CAAC9G,MAAZ,GAAqB,CAAzB,EAA4B;AACxB4F,gBAAU,CAAC,YAAM;AACbiB,mCAA2B,CAAC,IAAD,CAA3B;AACAE,sBAAc,CAACD,WAAD,CAAd;AACH,OAHS,EAGP,GAHO,CAAV;AAIH;;AAEDI,kBAAc;AACdD,sBAAkB;AACrB,GA3BqC,EA2BnC,CAACpO,QAAD,EAAWqO,cAAX,EAA2BD,kBAA3B,EAA+CrO,EAA/C,CA3BmC,CAAtC;AA6BA,MAAMwO,qBAAqB,GAAG/N,4BAAW,CAAC,YAAM;AAC5CsN,iCAA6B,CAAC,KAAD,CAA7B;AACH,GAFwC,EAEtC,EAFsC,CAAzC;;AAIA,MAAMU,SAAS,GAAG,SAAZA,SAAY,GAAM;AACpB,QAAQrO,WAAR,GAAwBD,mBAAxB,CAAQC,WAAR;;AACA,QAAIA,WAAW,CAACsO,MAAhB,EAAwB;AACpB,+BAAM/N,IAAN,CAAW;AACPqE,aAAK,EAAE,IADA;AAEP2J,cAAM,EAAE,IAFD;AAGPC,eAAO,eACH,wDACI,yCAAIxO,WAAW,CAACsO,MAAhB,CADJ;AAJG,OAAX;AASH;AACJ,GAbD;;AAeA,MAAMG,UAAU,GAAGpO,4BAAW,CAAC,YAAM;AACjCoN,+BAA2B,CAAC,IAAD,CAA3B;AACAQ,sBAAkB;AACrB,GAH6B,EAG3B,CAACA,kBAAD,CAH2B,CAA9B;AAKAvN,4BAAS,CAAC,YAAM;AACZwN,kBAAc;AACjB,GAFQ,EAEN,CAACA,cAAD,CAFM,CAAT;AAIA,sBACI,8BAAC,+BAAD,qBACI;AAAO,aAAS,EAAC,UAAjB;AAA4B,SAAK,EAAE;AAAExF,WAAK,EAAE;AAAT;AAAnC,kBACI,8BAAC,oBAAD;AAAW,MAAE,EAAE9I;AAAf,IADJ,eAEI,8BAAC,qBAAD;AAAY,MAAE,EAAEA,EAAhB;AAAoB,eAAW,EAAE+C;AAAjC,IAFJ,EAGKA,WAAW,KAAK,CAAhB,iBACG,8BAAC,sBAAD;AAAa,MAAE,EAAE/C,EAAjB;AAAqB,cAAU,EAAE,sBAAM;AAAE6O,gBAAU;AAAIJ,eAAS;AAAK;AAArE,IAJR,EAMK1L,WAAW,KAAK,CAAhB,iBACG;AAAK,SAAK,EAAE;AAAE+L,aAAO,EAAE,MAAX;AAAmBjG,oBAAc,EAAE,QAAnC;AAA6CE,eAAS,EAAE;AAAxD;AAAZ,kBACI;AAAQ,SAAK,EAAE;AAAE+F,aAAO,EAAE;AAAX,KAAf;AAAoC,QAAI,EAAC,SAAzC;AAAmD,QAAI,EAAC,OAAxD;AAAgE,WAAO,EAAE,mBAAM;AAAED,gBAAU;AAAIJ,eAAS;AAAK;AAA7G,wDADJ,CAPR,CADJ,eAcI,8BAAC,uBAAD;AACI,MAAE,EAAEzO,EADR;AAEI,aAAS,EAAE4N,qBAFf;AAGI,YAAQ,EAAE;AAAA,aAAMC,2BAA2B,CAAC,KAAD,CAAjC;AAAA,KAHd;AAII,aAAS,EAAEU;AAJf,IAdJ,eAoBI,8BAAC,yBAAD;AACI,MAAE,EAAEvO,EADR;AAEI,aAAS,EAAE8N,uBAFf;AAGI,YAAQ,EAAE;AAAA,aAAMC,6BAA6B,CAAC,KAAD,CAAnC;AAAA,KAHd;AAII,aAAS,EAAES;AAJf,IApBJ,eA2BI;AACI,SAAK,EAAC,cADV;AAEI,WAAO,EAAER,qBAFb;AAGI,kBAAc,MAHlB;AAII,YAAQ,EAAE;AAAA,aAAMC,2BAA2B,CAAC,KAAD,CAAjC;AAAA,KAJd;AAKI,QAAI,EAAE;AAAA,aAAMA,2BAA2B,CAAC,KAAD,CAAjC;AAAA;AALV,kBAOI;AAAI,SAAK,EAAE;AAAEc,aAAO,EAAE;AAAX;AAAX,KACKb,WAAW,CAACnM,GAAZ,CAAgB,UAACrB,IAAD,EAAOsB,KAAP;AAAA,wBACb;AAAI,SAAG,EAAEA,KAAT;AAAgB,WAAK,EAAE;AAAEgN,oBAAY,EAAE;AAAhB;AAAvB,OAAkDtO,IAAlD,CADa;AAAA,GAAhB,CADL,CAPJ,CA3BJ,CADJ;AA4CH,CAzID;;AA2Ie8B,mIAAO,CAAC;AAAA,MAAGrC,mBAAH,SAAGA,mBAAH;AAAA,SAA8B;AACjDA,uBAAmB,EAAnBA;AADiD,GAA9B;AAAA,CAAD,CAAP,CAEXsN,uBAFW,CAAf,E","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"stepCard\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-stepCard\",\"stepBox\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-stepBox\",\"stepItemWrapper\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-stepItemWrapper\",\"active\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-active\",\"stepItem\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-stepItem\",\"date\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-date\",\"title\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-title\",\"available\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-available\",\"stepDetail\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-stepDetail\",\"header\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-header\",\"rightBox\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-rightBox\",\"dropdown\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-dropdown\",\"item\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-item\",\"right\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-right\",\"iconBox\":\"antd-pro-pages-stagging-tool-stock-detail-components-step-detail-index-iconBox\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"stockInfo\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-info-index-stockInfo\",\"rowItem\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-info-index-rowItem\",\"singleRow\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-info-index-singleRow\",\"colItem\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-info-index-colItem\",\"right\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-info-index-right\",\"input\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-info-index-input\",\"label\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-info-index-label\",\"linkInput\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-info-index-linkInput\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"stepInfoModal\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-file-modal-index-stepInfoModal\",\"item\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-file-modal-index-item\",\"label\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-file-modal-index-label\",\"right\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-file-modal-index-right\",\"iconBox\":\"antd-pro-pages-stagging-tool-stock-detail-components-stock-file-modal-index-iconBox\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"productInfo\":\"antd-pro-pages-stagging-tool-stock-detail-components-product-info-index-productInfo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"staggingProductModal\":\"antd-pro-pages-stagging-tool-stock-detail-components-product-modal-index-staggingProductModal\"};","module.exports = __webpack_public_path__ + \"static/zip.c77eb504.svg\";","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { connect } from 'umi';\r\nimport { message, Spin, Card } from 'antd';\r\nimport moment from 'moment';\r\nimport _styles from './index.less';\r\n\r\nconst formItemList = [\r\n    [\r\n        {\r\n            fieldName: 'publishSubject',\r\n            label: '发行主体',\r\n            tips: '点击跳转IPO首页',\r\n            isLink: 1,\r\n            linkKey: 'issuersUrl',\r\n            isSingleRow: false\r\n        },\r\n        {\r\n            fieldName: 'issueStartDate',\r\n            label: '发行日期',\r\n            isSingleRow: false\r\n        }\r\n    ],\r\n    [\r\n        {\r\n            fieldName: 'preparedListExchange',\r\n            label: '上市场所',\r\n            tips: '点击跳转交易所首页',\r\n            isLink: 1,\r\n            linkKey: 'preparedListExchangeUrl',\r\n            isSingleRow: false\r\n        },\r\n        {\r\n            fieldName: 'leadUnderwriter',\r\n            label: '保荐机构',\r\n            tips: '点击跳转保荐机构材料提交页面',\r\n            isLink: 1,\r\n            linkKey: 'website',\r\n            isSingleRow: false\r\n        }\r\n    ],\r\n    [\r\n        {\r\n            fieldName: 'telephone',\r\n            label: '联系方式',\r\n            isSingleRow: true\r\n        }\r\n    ],\r\n    [\r\n        {\r\n            fieldName: 'coleadUnderwriter',\r\n            label: '副主承',\r\n            isSingleRow: true\r\n        }\r\n    ],\r\n    [\r\n        {\r\n            fieldName: 'applyMaxLP',\r\n            label: '申购上限',\r\n            isSingleRow: false\r\n        },\r\n        {\r\n            fieldName: 'applyUnitLP',\r\n            label: '最小申购规模',\r\n            isSingleRow: false\r\n        }\r\n    ],\r\n    [\r\n        {\r\n            fieldName: 'industry',\r\n            label: '所属行业',\r\n            isSingleRow: false\r\n        },\r\n        {\r\n            fieldName: 'applyCodeOnline',\r\n            label: '申购代码',\r\n            isSingleRow: false\r\n        }\r\n    ],\r\n    [\r\n        {\r\n            fieldName: 'offlineApplyPlan',\r\n            label: '发行规模',\r\n            isSingleRow: false\r\n        },\r\n        {\r\n            fieldName: 'minProgressivePricePI',\r\n            label: '申购级差',\r\n            isSingleRow: false\r\n        }\r\n    ],\r\n    [\r\n        {\r\n            fieldName: 'offLineSXZCGMDate',\r\n            label: '产品规模日期',\r\n            isSingleRow: false\r\n        }\r\n    ]\r\n];\r\n\r\nconst StockInfo = (props) => {\r\n    const { id, dispatch, formLoading, staggingStockDetail } = props;\r\n    const { stockDetail } = staggingStockDetail;\r\n    const [formData, setFormData] = useState({});\r\n\r\n    const handleClickLink = useCallback((item) => {\r\n        const { isLink, linkKey } = item;\r\n        if (!isLink) return;\r\n        if (!stockDetail[linkKey]) {\r\n            message.info('链接不存在');\r\n            return;\r\n        }\r\n        window.open(stockDetail[linkKey]);\r\n    }, [stockDetail]);\r\n\r\n    useEffect(() => {\r\n        dispatch({\r\n            type: 'staggingStockDetail/getStockDetail',\r\n            payload: { secuCode: id }\r\n        });\r\n\r\n        return () => {\r\n            dispatch({\r\n                type: 'staggingStockDetail/updateModelData',\r\n                payload: { stockDetail: {} }\r\n            });\r\n        };\r\n    }, [dispatch, id]);\r\n\r\n    useEffect(() => {\r\n        if (!stockDetail || stockDetail.secuCode !== id) return;\r\n        const obj = {};\r\n\r\n        formItemList.forEach((item) => {\r\n            item.forEach((subItem) => {\r\n                const { fieldName } = subItem;\r\n                if (fieldName === 'publishSubject') {\r\n                    const { secuCode, securityAbbr } = stockDetail;\r\n                    obj[fieldName] = `${secuCode}[${securityAbbr}]`;\r\n                } else if (fieldName === 'telephone') {\r\n                    const { email, tel } = stockDetail;\r\n                    obj[fieldName] = `联系方式：${tel || ''}；邮箱：${email || ''}`;\r\n                } else if (fieldName === 'priceRange') {\r\n                    const { issueVolCeiling, issueVolFloor } = stockDetail;\r\n                    obj[fieldName] = `${issueVolFloor || 0}-${issueVolCeiling || 0}`;\r\n                } else if (fieldName === 'issueStartDate' || fieldName === 'offLineSXZCGMDate') {\r\n                    const val = stockDetail[fieldName];\r\n                    obj[fieldName] = val ? moment(val).format('YYYY-MM-DD') : '';\r\n                } else {\r\n                    obj[fieldName] = stockDetail[fieldName];\r\n                }\r\n            });\r\n        });\r\n\r\n        setFormData(obj);\r\n    }, [id, stockDetail]);\r\n\r\n    return (\r\n        <Card title=\"标的信息\" className={_styles.stockInfo}>\r\n            <Spin spinning={formLoading}>\r\n                {formItemList.map((item, index) => (\r\n                    <div key={index} className={`${_styles.rowItem} ${item[0].isSingleRow ? _styles.singleRow : ''}`}>\r\n                        {item.map((subItem, subIndex) => (\r\n                            <div key={subIndex} className={_styles.colItem}>\r\n                                <div className={_styles.label}>{subItem.label}：</div>\r\n                                <div className={_styles.right}>\r\n                                    <div\r\n                                        className={`${_styles.input} ${subItem.isLink === 1 ? _styles.linkInput : ''}`}\r\n                                        onClick={() => handleClickLink(subItem)}\r\n                                    >\r\n                                        {formData[subItem.fieldName]}\r\n                                    </div>\r\n                                    {subItem.tips && <p className={_styles.tips}>{subItem.tips}</p>}\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                ))}\r\n            </Spin>\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default connect(({ staggingStockDetail, loading }) => ({\r\n    formLoading: loading.effects['staggingStockDetail/getStockDetail'],\r\n    staggingStockDetail\r\n}))(StockInfo);\r\n","// This icon file is generated automatically.\nvar StockOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M904 747H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM165.7 621.8l39.7 39.5c3.1 3.1 8.2 3.1 11.3 0l234.7-233.9 97.6 97.3a32.11 32.11 0 0045.2 0l264.2-263.2c3.1-3.1 3.1-8.2 0-11.3l-39.7-39.6a8.03 8.03 0 00-11.3 0l-235.7 235-97.7-97.3a32.11 32.11 0 00-45.2 0L165.7 610.5a7.94 7.94 0 000 11.3z\" } }] }, \"name\": \"stock\", \"theme\": \"outlined\" };\nexport default StockOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport StockOutlinedSvg from \"@ant-design/icons-svg/es/asn/StockOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar StockOutlined = function StockOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: StockOutlinedSvg\n  }));\n};\n\nStockOutlined.displayName = 'StockOutlined';\nexport default /*#__PURE__*/React.forwardRef(StockOutlined);","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { connect } from 'umi';\r\nimport { message, Card, Row, Col, Space, Button, Result } from 'antd';\r\nimport { StockOutlined, RightOutlined } from '@ant-design/icons';\r\nimport { getCookie } from '@/utils/utils';\r\nimport axios from 'axios';\r\nimport ZipIcon from '@/assets/stagging/zip.svg';\r\nimport _styles from './index.less';\r\n\r\nimport moment from 'moment';\r\n\r\nconst materialList = [\r\n    {\r\n        label: '承诺函'\r\n    },\r\n    {\r\n        label: '关联方信息表'\r\n    },\r\n    {\r\n        label: '资产规模汇总表'\r\n    },\r\n    {\r\n        label: '出资方信息表'\r\n    }\r\n];\r\n\r\nconst stepMap = {\r\n    1: '1、主承平台材料提交',\r\n    2: '2、询价提交',\r\n    3: '3、发行公告',\r\n    4: '4、发行/申购',\r\n    5: '5、公布中签',\r\n    6: '6、获配/缴款',\r\n    7: '7、上市'\r\n};\r\nconst availableMap = {\r\n    1: true,\r\n    2: true,\r\n    3: false,\r\n    4: true,\r\n    5: false,\r\n    6: true,\r\n    7: false\r\n};\r\n\r\nconst StepDetail = (props) => {\r\n    const { id, applyStatus, dispatch, staggingStockDetail } = props;\r\n    const { IPOMaterialList, stockDetail } = staggingStockDetail;\r\n    // 标的打新的状态\r\n    const [stepList, setStepList] = useState([]);\r\n    const [step, setStep] = useState(0);\r\n    const [actualStep, setActualStep] = useState(0);\r\n    const [stepStatus, setStepStatus] = useState(0);\r\n    const [stepTitle, setStepTitle] = useState('');\r\n    const [mList, setMList] = useState([]);\r\n    const [actionList, setActionList] = useState([]);\r\n    const [currentAction, setCurrentAction] = useState({\r\n        id: 1,\r\n        color: '#ff3f3f',\r\n        text: '待提交'\r\n    });\r\n    const [showActionDropdown, toggleActionDropdown] = useState(false);\r\n\r\n    const fetchData = useCallback(async () => {\r\n        const res = await dispatch({\r\n            type: 'staggingStockDetail/getStockIPOStepDetail',\r\n            payload: {\r\n                secuCode: id\r\n            }\r\n        });\r\n\r\n        if (res.code !== 1008) return;\r\n        const { step = 1, stepInfos = [] } = res.data || {};\r\n        const stepList = stepInfos.map((item) => {\r\n            const { startDate, endDate, step: s } = item;\r\n            let startDateT = startDate ? moment(startDate).format('MM/DD') : '';\r\n            let endDateT = endDate ? moment(endDate).format('MM/DD') : '';\r\n            return {\r\n                ...item,\r\n                date: startDateT ? `${startDateT}${(endDateT && startDateT !== endDateT) ? `-${endDateT}` : ''}` : '---',\r\n                title: stepMap[s],\r\n                available: availableMap[s]\r\n            };\r\n        });\r\n        setActualStep(step || 1);\r\n        setStep(step === 8 ? 1 : (step || 1));\r\n        setStepList(stepList);\r\n    }, [dispatch, id]);\r\n\r\n    const handleDownload = useCallback((item) => {\r\n        // const type = index + 1;\r\n        // const item = IPOMaterialList.find((i) => i.type === type);\r\n        if (!item || !item.fileUrl) {\r\n            message.info('材料不存在');\r\n            return;\r\n        }\r\n        const { fileUrl } = item;\r\n        window.open(fileUrl);\r\n    }, [IPOMaterialList]);\r\n\r\n    const handleReGenerateFile = useCallback(async () => {\r\n        const r = await dispatch({\r\n            type: 'staggingStockDetail/reGenAllAttachments',\r\n            payload: {\r\n                secuCode: id\r\n            }\r\n        });\r\n        if (r.code !== 1008) {\r\n            message.error(r.message);\r\n            return;\r\n        }\r\n\r\n        const res = await axios({\r\n            url: `${BASE_PATH.adminUrl}/staggingnew/apply/downloadMaterialPackage`,\r\n            data: { secuCode: id },\r\n            method: 'post',\r\n            responseType: 'blob',\r\n            headers: {\r\n                'Content-Type': 'application/json; application/octet-stream',\r\n                'tokenId': getCookie('vipAdminToken') || ''\r\n            }\r\n        });\r\n        try {\r\n            let fileName = res.headers['content-disposition'].split(';')[1].split('filename*=utf-8\\'\\'')[1];\r\n            fileName = decodeURIComponent(fileName);\r\n            const blob = new Blob([res.data]);\r\n            const downloadElement = document.createElement('a');\r\n            const href = window.URL.createObjectURL(blob);\r\n            downloadElement.href = href;\r\n            downloadElement.download = fileName;\r\n            document.body.appendChild(downloadElement);\r\n            downloadElement.click();\r\n            document.body.removeChild(downloadElement);\r\n            window.URL.revokeObjectURL(href);\r\n        } catch (error) {\r\n            message.error('生成文件失败');\r\n        }\r\n    }, [dispatch, id]);\r\n\r\n    const handleOpenSite = useCallback(() => {\r\n        const { website } = stockDetail;\r\n        if (!website) {\r\n            message.info('承销商网址不存在！');\r\n            return;\r\n        }\r\n        window.open(website);\r\n    }, [stockDetail]);\r\n\r\n    const handleCompleteStep = useCallback(async (step, stepStatus) => {\r\n        toggleActionDropdown(false);\r\n        const res = await dispatch({\r\n            type: 'staggingStockDetail/finishCurrentIPOStep',\r\n            payload: {\r\n                secuCode: id,\r\n                step,\r\n                stepStatus\r\n            }\r\n        });\r\n\r\n        if (res.code === 1008) {\r\n            setStepList(stepList.map((item) => {\r\n                if (item.step === step) item.stepStatus = stepStatus;\r\n                return item;\r\n            }));\r\n        }\r\n    }, [dispatch, id, stepList]);\r\n\r\n    useEffect(() => {\r\n        if (stepList.length === 0) return;\r\n        const { title, stepStatus } = stepList[step - 1];\r\n        const actionList = [{\r\n            id: 1,\r\n            color: '#ff3f3f',\r\n            text: '待提交'\r\n        }, {\r\n            id: 2,\r\n            color: '#fdc753',\r\n            text: '已提交'\r\n        }, {\r\n            id: 3,\r\n            color: '#3d7fff',\r\n            text: '已完成'\r\n        }];\r\n        toggleActionDropdown(false);\r\n        setStepTitle(title);\r\n        setStepStatus(stepStatus);\r\n        setCurrentAction(actionList.find((a) => a.id === stepStatus));\r\n        setActionList(actionList.filter((a) => a.id !== stepStatus));\r\n    }, [step, stepList]);\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, [dispatch, fetchData]);\r\n\r\n    useEffect(() => {\r\n        dispatch({\r\n            type: 'staggingStockDetail/getStaggingMaterials',\r\n            payload: {\r\n                secuCode: id\r\n            }\r\n        });\r\n    }, [dispatch, id]);\r\n\r\n    useEffect(() => {\r\n        const list = [];\r\n        [...Array(4)].map((item, index) => {\r\n            const file = IPOMaterialList.find((i) => i.type === index + 1);\r\n            const { fileName = '', fileUrl = '' } = file || {};\r\n            list.push({\r\n                fileUrl,\r\n                fileName\r\n            });\r\n        });\r\n        setMList(list);\r\n    }, [IPOMaterialList]);\r\n\r\n    return (\r\n        <Card title=\"参与信息\" className={_styles.stepCard}>\r\n            <div className={_styles.stepBox}>\r\n                {stepList.map((item, index) => (\r\n                    <>\r\n                        <div key={item.step} className={`${_styles.stepItemWrapper} ${step === index + 1 ? _styles.active : ''} `}>\r\n                            <div\r\n                                className={`${_styles.stepItem} ${step === index + 1 ? _styles.active : ''} ${item.available ? _styles.available : ''}`}\r\n                                onClick={() => setStep(index + 1)}\r\n                            >\r\n                                <div className={_styles.date}>{item.date}</div>\r\n                                <div className={_styles.title}>{item.title}</div>\r\n                            </div>\r\n                        </div>\r\n                        {index !== 6 && <RightOutlined />}\r\n                    </>\r\n                ))}\r\n            </div>\r\n            {step >= 1 && applyStatus === 1 && (\r\n                <div className={_styles.stepDetail}>\r\n                    <div className={_styles.header}>\r\n                        <div className={_styles.title}>{stepTitle}</div>\r\n                        {[1, 2, 4, 6].includes(step) && stepStatus !== 0 && actualStep >= step && (\r\n                            <div className={_styles.rightBox}>\r\n                                <Button\r\n                                    style={{\r\n                                        color: '#fff',\r\n                                        backgroundColor: currentAction.color,\r\n                                        border: 'none'\r\n                                    }}\r\n                                    onClick={() => toggleActionDropdown(!showActionDropdown)}\r\n                                >\r\n                                    {currentAction.text}\r\n                                </Button>\r\n                                {showActionDropdown && (\r\n                                    <div className={_styles.dropdown}>\r\n                                        {actionList.map((item, index) => (\r\n                                            <Button\r\n                                                key={index}\r\n                                                style={{\r\n                                                    color: '#fff',\r\n                                                    backgroundColor: item.color,\r\n                                                    border: 'none'\r\n                                                }}\r\n                                                onClick={() => handleCompleteStep(step, item.id)}\r\n                                            >\r\n                                                {item.text}\r\n                                            </Button>\r\n                                        ))}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    {step === 1 && (\r\n                        <>\r\n                            <Row justify=\"center\">\r\n                                {IPOMaterialList.map((item, index) => (\r\n                                    (item.code === 1 || item.code === 2 || (item.code === 0 && item.hints.length > 0)) &&\r\n                                    <Col key={index} span={4}>\r\n                                        <div className={_styles.item}>\r\n                                            <div className={_styles.label}>{item.typeName}：</div>\r\n                                            <div className={_styles.right}>\r\n                                                <div className={_styles.iconBox} onClick={() => handleDownload(item)}>\r\n                                                    <img src={ZipIcon} />\r\n                                                </div>\r\n                                                <p>{item.fileName}</p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </Col>\r\n                                ))}\r\n                            </Row>\r\n                            <Space style={{ justifyContent: 'center', width: '100%', marginTop: '40px' }}>\r\n                                <Button type=\"primary\" onClick={handleReGenerateFile}>重新生成文件</Button>\r\n                                <Button type=\"primary\" onClick={handleOpenSite}>上传承销商</Button>\r\n                            </Space>\r\n                        </>\r\n                    )}\r\n                    {step > 1 && (\r\n                        <Result\r\n                            icon={<StockOutlined />}\r\n                            title=\"敬请期待！\"\r\n                        />\r\n                    )}\r\n                </div>\r\n            )}\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default connect(({ staggingStockDetail }) => ({\r\n    staggingStockDetail\r\n}))(StepDetail);\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { connect, Link } from 'umi';\r\nimport { message, Card, Form, Select, DatePicker, Button, Dropdown, Menu, Space } from 'antd';\r\nimport MXTable from '@/pages/components/MXTable';\r\nimport { MultipleSelect } from '@/pages/components/Customize';\r\nimport moment from 'moment';\r\nimport { exportExcel } from '@/utils/utils';\r\nimport _styles from './index.less';\r\nconst { Option } = Select;\r\n\r\nconst sheetOptions = {\r\n    fileName: '',\r\n    datas: [\r\n        {\r\n            sheetData: [],\r\n            sheetName: 'sheet',\r\n            sheetFilter: [\r\n                'productName',\r\n                'lpInvestDetail',\r\n                'updateTime',\r\n                'capitalScale',\r\n                'proposedPrice',\r\n                'proposedShares',\r\n                'applyResult',\r\n                'initalShares',\r\n                'quota',\r\n                'brokerageFee',\r\n                'payInAmount',\r\n                'type',\r\n                'payInStatus',\r\n                'restrictedRate',\r\n                'restrictedShares',\r\n                'restrictedTime'\r\n            ],\r\n            sheetHeader: [\r\n                '产品名称',\r\n                '出资方信息概览（X层/Y个）',\r\n                '出资方更新日期',\r\n                '资产规模数据',\r\n                '拟申报价格',\r\n                '拟申购股数',\r\n                '初步配售股数',\r\n                '申报结果',\r\n                '获配金额',\r\n                '经纪佣金',\r\n                '合计应缴',\r\n                '分类',\r\n                '缴款状态',\r\n                '限售比例',\r\n                '限售股数',\r\n                '限售时间'\r\n            ]\r\n        }\r\n    ]\r\n};\r\n\r\nconst ProductInfo = (props) => {\r\n    const { dispatch, id, tableLoading, staggingStockDetail, onReChoose } = props;\r\n    const { applyProductPageNum, applyProductPageSize, applyProductList, applyProductTotal, searchForm } = staggingStockDetail;\r\n\r\n    const [form] = Form.useForm();\r\n    const [selectedRowKeys, setSelectedRowKeys] = useState([]);\r\n\r\n    const columns = [{\r\n        title: '产品名称',\r\n        dataIndex: 'productName',\r\n        align: 'center',\r\n        fixed: 'left',\r\n        width: 200,\r\n        render: (val, row) => <Link to={`/staggingTool/product/detail/${row.productId}`}>{val}</Link>\r\n    }, {\r\n        title: '出资方信息概览（X层/Y个）',\r\n        dataIndex: 'lpInvestDetail',\r\n        align: 'center',\r\n        width: 200\r\n    }, {\r\n        title: '出资方更新日期',\r\n        dataIndex: 'updateTime',\r\n        align: 'center',\r\n        width: 200,\r\n        render: (val) => val ? moment(val).format('YYYY-MM-DD') : ''\r\n    }, {\r\n        title: '资产规模数据',\r\n        dataIndex: 'capitalScale',\r\n        align: 'center',\r\n        width: 200\r\n    }, {\r\n        title: '拟申报价格',\r\n        dataIndex: 'proposedPrice',\r\n        align: 'center',\r\n        width: 200\r\n    }, {\r\n        title: '拟申购股数',\r\n        dataIndex: 'proposedShares',\r\n        align: 'center',\r\n        width: 200\r\n    }, {\r\n        title: '申报结果',\r\n        dataIndex: 'applyResult',\r\n        align: 'center',\r\n        width: 200\r\n    }, {\r\n        title: '初步配售股数',\r\n        dataIndex: 'initalShares',\r\n        align: 'center',\r\n        width: 200\r\n    }, {\r\n        title: '获配金额',\r\n        dataIndex: 'quota',\r\n        align: 'center',\r\n        width: 200\r\n    }, {\r\n        title: '经纪佣金',\r\n        dataIndex: 'brokerageFee',\r\n        align: 'center',\r\n        width: 200\r\n    }, {\r\n        title: '合计应缴',\r\n        dataIndex: 'payInAmount',\r\n        align: 'center',\r\n        width: 200\r\n    }, {\r\n        title: '分类',\r\n        dataIndex: 'type',\r\n        align: 'center',\r\n        width: 200\r\n    }, {\r\n        title: '缴款状态',\r\n        dataIndex: 'payInStatus',\r\n        align: 'center',\r\n        render: (val) => val === 1 ? '已缴款' : '未缴款',\r\n        width: 200\r\n    }, {\r\n        title: '限售比例',\r\n        dataIndex: 'restrictedRate',\r\n        align: 'center',\r\n        width: 200\r\n    }, {\r\n        title: '限售股数',\r\n        dataIndex: 'restrictedShares',\r\n        align: 'center',\r\n        width: 200\r\n    }, {\r\n        title: '限售时间',\r\n        dataIndex: 'restrictedTime',\r\n        align: 'center',\r\n        width: 200\r\n    }];\r\n\r\n    const rowSelection = {\r\n        selectedRowKeys,\r\n        onChange: setSelectedRowKeys\r\n    };\r\n\r\n    const onSearch = useCallback(() => {\r\n        const { productId, applyResult, updateTime } = form.getFieldsValue();\r\n        const searchForm = {\r\n            applyResult,\r\n            productId: productId,\r\n            updateTime: updateTime ? moment(updateTime).format('YYYY-MM-DD') : ''\r\n        };\r\n        dispatch({\r\n            type: 'staggingStockDetail/updateModelData',\r\n            payload: {\r\n                applyProductPageNum: 1,\r\n                searchForm\r\n            }\r\n        });\r\n    }, [dispatch, form]);\r\n\r\n    const handleReset = useCallback(() => {\r\n        form.resetFields();\r\n        dispatch({\r\n            type: 'staggingStockDetail/updateModelData',\r\n            payload: {\r\n                applyProductPageNum: 1,\r\n                searchForm: {}\r\n            }\r\n        });\r\n    }, [dispatch, form]);\r\n\r\n    const handleExport = useCallback(async (type) => {\r\n        let data = [];\r\n        if (type === 'selected') {\r\n            if (selectedRowKeys.length === 0) {\r\n                message.info('请至少选择一行！');\r\n                return;\r\n            }\r\n            data = selectedRowKeys.map((id) => {\r\n                return applyProductList.find((item) => item.id === id);\r\n            });\r\n        } else {\r\n            const res = await dispatch({\r\n                type: 'staggingStockDetail/getAllApplyProductList',\r\n                payload: {\r\n                    secuCode: id\r\n                }\r\n            });\r\n            const allData = res.data || {};\r\n            data = allData.list || [];\r\n        }\r\n\r\n        data.forEach((item) => {\r\n            item.updateTime = item.updateTime ? moment(item.updateTime).format('YYYY-MM-DD') : '';\r\n            item.payInStatus = item.payInStatus === 1 ? '已缴款' : '未缴款';\r\n        });\r\n\r\n        sheetOptions.fileName = `${new Date().getTime()}`;\r\n        sheetOptions.datas[0].sheetData = data;\r\n        exportExcel(sheetOptions);\r\n    }, [applyProductList, dispatch, id, selectedRowKeys]);\r\n\r\n    const onChangePage = useCallback((p) => {\r\n        dispatch({\r\n            type: 'staggingStockDetail/updateModelData',\r\n            payload: {\r\n                applyProductPageNum: p.current,\r\n                applyProductPageSize: p.pageSize\r\n            }\r\n        });\r\n    }, [dispatch]);\r\n\r\n    useEffect(() => {\r\n        dispatch({\r\n            type: 'staggingStockDetail/getApplyProductList',\r\n            payload: {\r\n                secuCode: id,\r\n                pageNum: applyProductPageNum,\r\n                pageSize: applyProductPageSize,\r\n                ...searchForm\r\n            }\r\n        });\r\n    }, [applyProductPageNum, applyProductPageSize, dispatch, id, searchForm]);\r\n\r\n    return (\r\n        <Card title=\"配售对象信息表\" className={_styles.productInfo}>\r\n            <Form\r\n                form={form}\r\n                name=\"search_product_form\"\r\n                layout=\"inline\"\r\n                onFinish={onSearch}\r\n            >\r\n                <MultipleSelect\r\n                    params=\"productId\"\r\n                    value=\"productId\"\r\n                    label=\"productName\"\r\n                    formItemLayout={{ style: { width: 300 } }}\r\n                    formLabel=\"产品名称\"\r\n                />\r\n                <Form.Item\r\n                    label=\"申报结果\"\r\n                    name=\"applyResult\"\r\n                >\r\n                    <Select placeholder=\"请选择\" style={{ width: '200px' }} allowClear>\r\n                        <Option value={1}>中签</Option>\r\n                        <Option value={0}>未中签</Option>\r\n                    </Select>\r\n                </Form.Item>\r\n                <Form.Item\r\n                    label=\"更新日期\"\r\n                    name=\"updateTime\"\r\n                >\r\n                    <DatePicker style={{ width: '200px' }}></DatePicker>\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    <Space>\r\n                        <Button type=\"primary\" onClick={onReChoose}>修改参与产品</Button>\r\n                        <Dropdown\r\n                            placement=\"bottomLeft\"\r\n                            overlay={() => {\r\n                                return <Menu>\r\n                                    <Menu.Item onClick={() => handleExport('selected')}>导出选中</Menu.Item>\r\n                                    <Menu.Item onClick={() => handleExport('all')}>导出全部</Menu.Item>\r\n                                </Menu>;\r\n                            }}\r\n                        >\r\n                            <Button>批量导出</Button>\r\n                        </Dropdown>\r\n                        <Button type=\"primary\" htmlType=\"submit\">查询</Button>\r\n                        <Button onClick={handleReset}>重置</Button>\r\n                    </Space>\r\n                </Form.Item>\r\n            </Form>\r\n            <MXTable\r\n                loading={tableLoading}\r\n                columns={columns}\r\n                dataSource={applyProductList}\r\n                total={applyProductTotal}\r\n                pageNum={applyProductPageNum}\r\n                scroll={{ x: '100%' }}\r\n                sticky\r\n                onChange={onChangePage}\r\n                rowKey=\"id\"\r\n                rowSelection={rowSelection}\r\n            />\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default connect(({ staggingStockDetail, loading }) => ({\r\n    staggingStockDetail,\r\n    tableLoading: loading.effects['staggingStockDetail/getApplyProductList']\r\n}))(ProductInfo);\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { connect } from 'umi';\r\nimport { message, Modal, Form, Button, Select, Space, Input, Checkbox, Row, Col } from 'antd';\r\nimport MXTable from '@/pages/components/MXTable';\r\nimport _styles from './index.less';\r\nconst { Option } = Select;\r\n\r\nconst ProductModal = (props) => {\r\n    const {\r\n        dispatch,\r\n        id: stockId,\r\n        isVisible,\r\n        onCancel,\r\n        onConfirm,\r\n        tableLoading,\r\n        submitLoading,\r\n        canApplyProductList,\r\n    } = props;\r\n    const [form] = Form.useForm();\r\n    const [selectedRowKeys, setSelectedRowKeys] = useState([]);\r\n\r\n    const columns = [\r\n        {\r\n            title: '产品名称',\r\n            dataIndex: 'productName',\r\n            align: 'center',\r\n            width: 200,\r\n        },\r\n        // {\r\n        //     title: '沪市股票平均市值（万）',\r\n        //     dataIndex: 'shanghaiStockAverageMarker',\r\n        //     align: 'center',\r\n        // },\r\n        // {\r\n        //     title: '深市股票平均市值（万）',\r\n        //     dataIndex: 'shenzhenStockAverageMarker',\r\n        //     align: 'center',\r\n        // },\r\n        {\r\n            title: '资产净值',\r\n            dataIndex: 'capitalScale',\r\n            align: 'center',\r\n        },\r\n        {\r\n            title: '参与市场',\r\n            dataIndex: 'lpInvestType ',\r\n            align: 'center',\r\n            render: (val) => {\r\n                const marketMap = {\r\n                    1: '沪市',\r\n                    2: '深市',\r\n                    3: '科创',\r\n                    4: '创业',\r\n                };\r\n                return marketMap[val];\r\n            },\r\n        },\r\n        {\r\n            title: '是否具有配售对象资质',\r\n            dataIndex: 'canApplyNewShare',\r\n            align: 'center',\r\n            render: (val) => (val === 1 ? '是' : '否'),\r\n        },\r\n        {\r\n            title: '配售对象协会编码',\r\n            dataIndex: 'productSacCode',\r\n            align: 'center',\r\n        },\r\n        {\r\n            title: '配售对象证券账户号（沪市）',\r\n            dataIndex: 'shanghaiStockExchangeAccount',\r\n            align: 'center',\r\n        },\r\n        {\r\n            title: '配售对象证券账户号（深市）',\r\n            dataIndex: 'shenzhenStockExchangeAccount',\r\n            align: 'center',\r\n        },\r\n    ];\r\n\r\n    const rowSelection = {\r\n        columnWidth: '32px',\r\n        selectedRowKeys,\r\n        onChange: setSelectedRowKeys,\r\n    };\r\n\r\n    const onSearch = useCallback(() => {\r\n        const res = form.getFieldsValue();\r\n        dispatch({\r\n            type: 'staggingStockDetail/getCanApplyProductList',\r\n            payload: {\r\n                secuCode: stockId,\r\n                ...res,\r\n            },\r\n        });\r\n    }, [dispatch, form, stockId]);\r\n\r\n    const handleReset = useCallback(() => {\r\n        form.resetFields();\r\n        const res = form.getFieldsValue();\r\n        dispatch({\r\n            type: 'staggingStockDetail/getCanApplyProductList',\r\n            payload: {\r\n                secuCode: stockId,\r\n                ...res\r\n            },\r\n        });\r\n    }, [dispatch, form, stockId]);\r\n\r\n    const handleSubmit = useCallback(async () => {\r\n        const productIds = selectedRowKeys;\r\n        if (productIds.length === 0) {\r\n            message.warn('请至少选择一个产品！');\r\n            return;\r\n        }\r\n\r\n        const res = await dispatch({\r\n            type: 'staggingStockDetail/generateStaggingMaterials',\r\n            payload: {\r\n                productIds,\r\n                secuCode: stockId,\r\n            },\r\n        });\r\n\r\n        if (res.code === 1008) {\r\n            onConfirm(res.data);\r\n        } else {\r\n            message.error(res.message);\r\n        }\r\n    }, [dispatch, onConfirm, selectedRowKeys, stockId]);\r\n\r\n    useEffect(() => {\r\n        const selectedKeys = [];\r\n        canApplyProductList.forEach((item) => {\r\n            if (item.checked) selectedKeys.push(item.productId);\r\n        });\r\n\r\n        setSelectedRowKeys(selectedKeys);\r\n    }, [canApplyProductList]);\r\n\r\n    useEffect(() => {\r\n        const res = form.getFieldsValue();\r\n        if (isVisible) {\r\n            dispatch({\r\n                type: 'staggingStockDetail/getCanApplyProductList',\r\n                payload: {\r\n                    ...res,\r\n                    canApplyNewShare: res.canApplyNewShare || 1,\r\n                    isShowSonProduct: res.isShowSonProduct || 0,\r\n                    secuCode: stockId,\r\n                },\r\n            });\r\n            setTimeout(() => {\r\n                form.resetFields();\r\n            }, 100);\r\n        }\r\n    }, [dispatch, form, isVisible, stockId]);\r\n\r\n    return (\r\n        <Modal\r\n            className={_styles.staggingProductModal}\r\n            visible={isVisible}\r\n            width=\"70%\"\r\n            destroyOnClose\r\n            onCancel={onCancel}\r\n            footer={[\r\n                <Button\r\n                    key=\"submit\"\r\n                    type=\"primary\"\r\n                    size=\"large\"\r\n                    loading={submitLoading}\r\n                    onClick={handleSubmit}\r\n                >\r\n                    参与打新并生成承销商文件\r\n                </Button>,\r\n            ]}\r\n        >\r\n            <Form form={form} initialValues={{ canApplyNewShare: 1, isShowSonProduct: 0 }} onFinish={onSearch}>\r\n                <Row gutter={12}>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"产品名称\" name=\"productName\">\r\n                            <Input placeholder=\"请输入产品名称\" />\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"是否具有配售对象资质\" name=\"canApplyNewShare\">\r\n                            <Select placeholder=\"请选择\" style={{ width: '100%' }} allowClear>\r\n                                <Option value={1}>是</Option>\r\n                                <Option value={0}>否</Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item label=\"参与市场\" name=\"lpInvestType\">\r\n                            <Select placeholder=\"请选择\" style={{ width: '100%' }} allowClear>\r\n                                <Option value={1}>沪市</Option>\r\n                                <Option value={2}>深市</Option>\r\n                                <Option value={3}>沪市、深市</Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Form.Item name=\"isShowSonProduct\" label=\"是否展示子产品\">\r\n                            <Select placeholder=\"请选择\" style={{ width: '100%' }} allowClear>\r\n                                <Option value={1}>是</Option>\r\n                                <Option value={0}>否</Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                    </Col>\r\n                    <Col span={8} offset={8}>\r\n                        <Form.Item>\r\n                            <Space>\r\n                                <Button type=\"primary\" htmlType=\"submit\">\r\n                                    查询\r\n                                </Button>\r\n                                <Button onClick={handleReset}>重置</Button>\r\n                            </Space>\r\n                        </Form.Item>\r\n                    </Col>\r\n                </Row>\r\n            </Form>\r\n            <MXTable\r\n                loading={tableLoading}\r\n                columns={columns}\r\n                dataSource={canApplyProductList}\r\n                scroll={{ x: '100%', y: 400 }}\r\n                sticky\r\n                rowKey=\"productId\"\r\n                rowSelection={rowSelection}\r\n                pagination={false}\r\n            />\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default connect(({ staggingStockDetail, loading }) => ({\r\n    tableLoading: loading.effects['staggingStockDetail/getCanApplyProductList'],\r\n    submitLoading: loading.effects['staggingStockDetail/generateStaggingMaterials'],\r\n    canApplyProductList: staggingStockDetail.canApplyProductList,\r\n}))(ProductModal);\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { connect } from 'umi';\r\nimport { message, Modal, Button, Row, Col } from 'antd';\r\nimport ZipIcon from '@/assets/stagging/zip.svg';\r\nimport { getCookie } from '@/utils/utils';\r\nimport axios from 'axios';\r\nimport _styles from './index.less';\r\n\r\nconst materialList = [\r\n    {\r\n        label: '承诺函'\r\n    },\r\n    {\r\n        label: '关联方信息表'\r\n    },\r\n    {\r\n        label: '资产规模汇总表'\r\n    },\r\n    {\r\n        label: '出资方信息表'\r\n    }\r\n];\r\n\r\nconst StockFileModal = (props) => {\r\n    const {\r\n        id: stockId,\r\n        isVisible,\r\n        onCancel,\r\n        onConfirm,\r\n        submitLoading,\r\n        staggingStockDetail\r\n    } = props;\r\n    const { IPOMaterialList, newIPOMaterialList } = staggingStockDetail;\r\n    const [mList, setMList] = useState([]);\r\n\r\n    const handleDownloadAll = useCallback(async () => {\r\n        const res = await axios({\r\n            url: `${BASE_PATH.adminUrl}/staggingnew/apply/downloadMaterialPackage`,\r\n            data: { secuCode: stockId },\r\n            method: 'post',\r\n            responseType: 'blob',\r\n            headers: {\r\n                'Content-Type': 'application/json; application/octet-stream',\r\n                'tokenId': getCookie('vipAdminToken') || ''\r\n            }\r\n        });\r\n        try {\r\n            let fileName = res.headers['content-disposition'].split(';')[1].split('filename*=utf-8\\'\\'')[1];\r\n            fileName = decodeURIComponent(fileName);\r\n            const blob = new Blob([res.data]);\r\n            const downloadElement = document.createElement('a');\r\n            const href = window.URL.createObjectURL(blob);\r\n            downloadElement.href = href;\r\n            downloadElement.download = fileName;\r\n            document.body.appendChild(downloadElement);\r\n            downloadElement.click();\r\n            document.body.removeChild(downloadElement);\r\n            window.URL.revokeObjectURL(href);\r\n            onConfirm();\r\n        } catch (error) {\r\n            message.error('生成文件失败');\r\n        }\r\n    }, [onConfirm, stockId]);\r\n\r\n    const handleDownload = useCallback((item) => {\r\n        // const type = index + 1;\r\n        // const item = IPOMaterialList.find((i) => i.type === type);\r\n        if (!item || !item.fileUrl) {\r\n            message.info('材料不存在');\r\n            return;\r\n        }\r\n        const { fileUrl } = item;\r\n        window.open(fileUrl);\r\n    }, [IPOMaterialList]);\r\n\r\n    useEffect(() => {\r\n        const list = [];\r\n        [...Array(4)].map((item, index) => {\r\n            const file = IPOMaterialList.find((i) => i.type === index + 1);\r\n            const { fileName = '', fileUrl = '' } = file || {};\r\n            list.push({\r\n                fileUrl,\r\n                fileName\r\n            });\r\n        });\r\n        setMList(list);\r\n    }, [IPOMaterialList]);\r\n\r\n\r\n    const getBtn = () => {\r\n        const list = [];\r\n        Array.isArray(newIPOMaterialList) && newIPOMaterialList.map((item) => {\r\n            if (item.code !== -2) {\r\n                list.push(item);\r\n            }\r\n        });\r\n        if (list.length > 0) {\r\n            return (<Button\r\n                key=\"submit\"\r\n                type=\"primary\"\r\n                size=\"large\"\r\n                loading={submitLoading}\r\n                onClick={handleDownloadAll}\r\n            >\r\n                生成文件\r\n            </Button>);\r\n        } else {\r\n            return (\r\n                <Button\r\n                    key=\"submit\"\r\n                    type=\"primary\"\r\n                    size=\"large\"\r\n                    disabled\r\n                >\r\n                    无承销商模板\r\n                </Button>\r\n            );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Modal\r\n            className={_styles.stepInfoModal}\r\n            visible={isVisible}\r\n            width=\"70%\"\r\n            destroyOnClose\r\n            onCancel={onCancel}\r\n            footer={[\r\n                getBtn()\r\n            ]}\r\n        >\r\n            <Row justify=\"center\">\r\n                {IPOMaterialList.map((item, index) => (\r\n                    (item.code === 1 || item.code === 2 || (item.code === 0 && item.hints.length > 0)) &&\r\n                    <Col key={index} span={4}>\r\n                        <div className={_styles.item}>\r\n                            <div className={_styles.label}>{item.typeName}：</div>\r\n                            <div className={_styles.right}>\r\n                                <div className={_styles.iconBox} onClick={() => handleDownload(item)}>\r\n                                    <img src={ZipIcon} />\r\n                                </div>\r\n                                <p>{item.fileName}</p>\r\n                            </div>\r\n                        </div>\r\n                    </Col>\r\n                ))}\r\n            </Row>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default connect(({ staggingStockDetail, loading }) => ({\r\n    submitLoading: loading.effects['staggingStockDetail/downloadAllMeterials'],\r\n    staggingStockDetail\r\n}))(StockFileModal);\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport { connect } from 'umi';\r\nimport { Modal, Space, Button } from 'antd';\r\nimport { PageHeaderWrapper } from '@ant-design/pro-layout';\r\nimport StockInfo from './components/StockInfo';\r\nimport StepDetail from './components/StepDetail';\r\nimport ProductInfo from './components/ProductInfo';\r\nimport ProductModal from './components/ProductModal';\r\nimport StockFileModal from './components/StockFileModal';\r\n\r\nconst StockDetail = (props) => {\r\n    const { dispatch, match: { params }, staggingStockDetail } = props;\r\n    const { id } = params;\r\n    const [productModalIsVisible, toggleProductModalIsVisible] = useState(false);\r\n    const [stockFileModalIsVisible, toggleStockFileModalIsVisible] = useState(false);\r\n    const [warningModalIsVisible, toggleWarningModalIsVisible] = useState(false);\r\n    const [warningList, setWarningList] = useState([]);\r\n\r\n    // 标的打新的状态\r\n    // 1=>参与中 2=>可参与 3=>未参与\r\n    const [applyStatus, setApplyStatus] = useState(3);\r\n\r\n    const getCanApplyProduct = useCallback(() => {\r\n        dispatch({\r\n            type: 'staggingStockDetail/getCanApplyProductList',\r\n            payload: {\r\n                secuCode: id\r\n            }\r\n        });\r\n    }, [dispatch, id]);\r\n\r\n    const getApplyStatus = useCallback(async () => {\r\n        const res = await dispatch({\r\n            type: 'staggingStockDetail/queryApplyBySecuCode',\r\n            payload: {\r\n                code: id\r\n            }\r\n        });\r\n        if (res.code === 1008) {\r\n            setApplyStatus(res.data);\r\n            // if (res.data !== 2) return;\r\n            // toggleProductModalIsVisible(true);\r\n            // getCanApplyProduct();\r\n        }\r\n    }, [dispatch, getCanApplyProduct, id]);\r\n\r\n    const handleGenerateFile = useCallback((list = []) => {\r\n        toggleProductModalIsVisible(false);\r\n        toggleStockFileModalIsVisible(true);\r\n\r\n        // 生成文件\r\n        dispatch({\r\n            type: 'staggingStockDetail/getStaggingMaterials',\r\n            payload: {\r\n                secuCode: id\r\n            }\r\n        });\r\n\r\n        const warningList = [];\r\n        list.forEach((item) => {\r\n            if (item.code !== 2 && item.code !== -2) {\r\n                warningList.push(...item.hints);\r\n            }\r\n        });\r\n        if (warningList.length > 0) {\r\n            setTimeout(() => {\r\n                toggleWarningModalIsVisible(true);\r\n                setWarningList(warningList);\r\n            }, 100);\r\n        }\r\n\r\n        getApplyStatus();\r\n        getCanApplyProduct();\r\n    }, [dispatch, getApplyStatus, getCanApplyProduct, id]);\r\n\r\n    const handleDownloadAllFile = useCallback(() => {\r\n        toggleStockFileModalIsVisible(false);\r\n    }, []);\r\n\r\n    const tipRemark = () => {\r\n        const { stockDetail } = staggingStockDetail;\r\n        if (stockDetail.remark) {\r\n            Modal.info({\r\n                title: '提示',\r\n                okText: '确定',\r\n                content: (\r\n                    <div>\r\n                        <p>{stockDetail.remark}</p>\r\n                    </div>\r\n                )\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleJoin = useCallback(() => {\r\n        toggleProductModalIsVisible(true);\r\n        getCanApplyProduct();\r\n    }, [getCanApplyProduct]);\r\n\r\n    useEffect(() => {\r\n        getApplyStatus();\r\n    }, [getApplyStatus]);\r\n\r\n    return (\r\n        <PageHeaderWrapper>\r\n            <Space direction=\"vertical\" style={{ width: '100%' }}>\r\n                <StockInfo id={id}></StockInfo>\r\n                <StepDetail id={id} applyStatus={applyStatus}></StepDetail>\r\n                {applyStatus === 1 && (\r\n                    <ProductInfo id={id} onReChoose={() => { handleJoin(); tipRemark(); }}></ProductInfo>\r\n                )}\r\n                {applyStatus === 2 && (\r\n                    <div style={{ display: 'flex', justifyContent: 'center', marginTop: '30px' }}>\r\n                        <Button style={{ display: 'flex' }} type=\"primary\" size=\"large\" onClick={() => { handleJoin(); tipRemark(); }}>选择参与打新产品</Button>\r\n                    </div>\r\n                )}\r\n            </Space>\r\n\r\n            <ProductModal\r\n                id={id}\r\n                isVisible={productModalIsVisible}\r\n                onCancel={() => toggleProductModalIsVisible(false)}\r\n                onConfirm={handleGenerateFile}\r\n            ></ProductModal>\r\n            <StockFileModal\r\n                id={id}\r\n                isVisible={stockFileModalIsVisible}\r\n                onCancel={() => toggleStockFileModalIsVisible(false)}\r\n                onConfirm={handleDownloadAllFile}\r\n            ></StockFileModal>\r\n\r\n            <Modal\r\n                title=\"提示\"\r\n                visible={warningModalIsVisible}\r\n                destroyOnClose\r\n                onCancel={() => toggleWarningModalIsVisible(false)}\r\n                onOk={() => toggleWarningModalIsVisible(false)}\r\n            >\r\n                <ul style={{ padding: 0 }}>\r\n                    {warningList.map((item, index) => (\r\n                        <li key={index} style={{ marginBottom: '12px' }}>{item}</li>\r\n                    ))}\r\n                </ul>\r\n            </Modal>\r\n\r\n        </PageHeaderWrapper>\r\n    );\r\n};\r\n\r\nexport default connect(({ staggingStockDetail }) => ({\r\n    staggingStockDetail\r\n}))(StockDetail);\r\n"]}}