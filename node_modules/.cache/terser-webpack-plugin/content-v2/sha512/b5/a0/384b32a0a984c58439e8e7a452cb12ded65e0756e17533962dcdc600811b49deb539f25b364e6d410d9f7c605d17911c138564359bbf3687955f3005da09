{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[72],{\"8YmZ\":function(e,t,a){},\"TlB+\":function(e,t,a){\"use strict\";a.r(t);a(\"IzEo\");var n=a(\"bx4M\"),c=a(\"9og8\"),r=a(\"k1fw\"),i=a(\"tJVT\"),u=a(\"WmNS\"),o=a.n(u),l=a(\"q1tI\"),s=a.n(l),p=a(\"Hx5s\"),m=a(\"8YmZ\"),d=a.n(m),b=a(\"tQHx\"),g=a(\"DUhl\"),f=function(e){var t=Object(l[\"useState\"])(!1),a=Object(i[\"a\"])(t,2),u=a[0],m=a[1],f=Object(l[\"useState\"])([]),j=Object(i[\"a\"])(f,2),O=j[0],w=j[1],x=Object(l[\"useState\"])(0),S=Object(i[\"a\"])(x,2),N=S[0],v=S[1],h=Object(l[\"useState\"])({pageNum:1,pageSize:10}),E=Object(i[\"a\"])(h,2),I=E[0],k=E[1],z=[{title:\"\\u516c\\u53f8\\u540d\\u79f0\",dataIndex:\"companyName\",align:\"center\"},{title:\"\\u7528\\u6237\\u540d\",dataIndex:\"userName\",align:\"center\"},{title:\"\\u64cd\\u4f5c\\u65f6\\u95f4\",dataIndex:\"operatingTime\",align:\"center\"},{title:\"\\u64cd\\u4f5c\\u7c7b\\u578b\",dataIndex:\"operation\",align:\"center\"}],T=function(e){var t=e.current,a=e.pageSize;I.pageNum=t,I.pageSize=a,k(Object(r[\"a\"])({},I)),y()},y=function(){var e=Object(c[\"a\"])(o.a.mark((function e(){var t;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return m(!0),e.next=3,Object(g[\"n\"])(Object(r[\"a\"])({},I));case 3:t=e.sent,1001===+t.code&&(w(t.data.list),v(t.data.total)),m(!1);case 6:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l[\"useEffect\"])((function(){y()}),[]),s.a.createElement(p[\"a\"],{title:\"\\u4e0b\\u8f7d\\u8bb0\\u5f55\"},s.a.createElement(n[\"a\"],null,s.a.createElement(\"div\",{className:d.a.container},s.a.createElement(b[\"a\"],{loading:u,columns:z,dataSource:O,rowKey:\"operatingTime\",total:N,pageNum:I.pageNum,onChange:T}))))};t[\"default\"]=f}}]);","name":"p__reportCenter__library__downRecord.async.js?v=1646125392535","map":{"version":3,"sources":["p__reportCenter__library__downRecord.async.js?v=1646125392535"],"names":["window","push","8YmZ","module","exports","__webpack_require__","TlB+","__webpack_exports__","r","antd_es_card__WEBPACK_IMPORTED_MODULE_1__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5___default","n","react__WEBPACK_IMPORTED_MODULE_6__","react__WEBPACK_IMPORTED_MODULE_6___default","_ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_7__","_index_less_modules__WEBPACK_IMPORTED_MODULE_8__","_index_less_modules__WEBPACK_IMPORTED_MODULE_8___default","_pages_components_MXTable__WEBPACK_IMPORTED_MODULE_9__","_service__WEBPACK_IMPORTED_MODULE_10__","DownRecord","props","_useState","Object","_useState2","loading","setLoading","_useState3","_useState4","dataSource","setDataSource","_useState5","_useState6","total","setTotal","_useState7","pageNum","pageSize","_useState8","pageData","setPageData","tableColumns","title","dataIndex","align","onTableChange","data","current","getselectLogs","_ref","a","mark","_callee","res","wrap","_context","prev","next","sent","code","list","stop","apply","this","arguments","createElement","className","container","columns","rowKey","onChange"],"mappings":"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"},"input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[72],{\n\n/***/ \"8YmZ\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ \"TlB+\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var antd_es_card_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"IzEo\");\n/* harmony import */ var antd_es_card__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"bx4M\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"9og8\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"k1fw\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"tJVT\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"WmNS\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"Hx5s\");\n/* harmony import */ var _index_less_modules__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"8YmZ\");\n/* harmony import */ var _index_less_modules__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_index_less_modules__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _pages_components_MXTable__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"tQHx\");\n/* harmony import */ var _service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"DUhl\");\n\n\n\n\n\n\n\n\n\n\n\n\nvar DownRecord = function DownRecord(props) {\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(false),\n      _useState2 = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])([]),\n      _useState4 = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(_useState3, 2),\n      dataSource = _useState4[0],\n      setDataSource = _useState4[1];\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(0),\n      _useState6 = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(_useState5, 2),\n      total = _useState6[0],\n      setTotal = _useState6[1];\n\n  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])({\n    // 当前的分页数据\n    pageNum: 1,\n    pageSize: 10\n  }),\n      _useState8 = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(_useState7, 2),\n      pageData = _useState8[0],\n      setPageData = _useState8[1];\n\n  var tableColumns = [{\n    title: '公司名称',\n    dataIndex: 'companyName',\n    align: 'center'\n  }, {\n    title: '用户名',\n    dataIndex: 'userName',\n    align: 'center'\n  }, {\n    title: '操作时间',\n    dataIndex: 'operatingTime',\n    align: 'center'\n  }, {\n    title: '操作类型',\n    dataIndex: 'operation',\n    align: 'center'\n  }];\n\n  var onTableChange = function onTableChange(data) {\n    var current = data.current,\n        pageSize = data.pageSize;\n    pageData.pageNum = current;\n    pageData.pageSize = pageSize;\n    setPageData(Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])({}, pageData));\n    getselectLogs();\n  };\n\n  var getselectLogs = /*#__PURE__*/function () {\n    var _ref = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5___default.a.mark(function _callee() {\n      var res;\n      return E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_5___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.next = 3;\n              return Object(_service__WEBPACK_IMPORTED_MODULE_10__[/* selectLogs */ \"n\"])(Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])({}, pageData));\n\n            case 3:\n              res = _context.sent;\n\n              if (+res.code === 1001) {\n                setDataSource(res.data.list);\n                setTotal(res.data.total);\n              }\n\n              setLoading(false);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getselectLogs() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useEffect\"])(function () {\n    getselectLogs();\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_7__[/* PageHeaderWrapper */ \"a\"], {\n    title: '下载记录'\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(antd_es_card__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(\"div\", {\n    className: _index_less_modules__WEBPACK_IMPORTED_MODULE_8___default.a.container\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_pages_components_MXTable__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"], {\n    loading: loading,\n    columns: tableColumns,\n    dataSource: dataSource,\n    rowKey: \"operatingTime\",\n    total: total,\n    pageNum: pageData.pageNum,\n    onChange: onTableChange\n  }))));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DownRecord);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\bundler-webpack\\lib\\webpack\\plugins\\mini-css-extract-plugin\\src\\loader.js??ref--13-oneOf-0-0!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\css-loader\\cjs.js??ref--13-oneOf-0-1!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\postcss-loader\\src\\index.js??postcss!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\less-loader\\cjs.js??ref--13-oneOf-0-3!E:\\公司代码\\MRP报表\\vip-manager\\src\\pages\\reportCenter\\library\\downRecord\\index.less?modules","E:/公司代码/MRP报表/vip-manager/src/pages/reportCenter/library/downRecord/index.tsx"],"names":["DownRecord","props","useState","loading","setLoading","dataSource","setDataSource","total","setTotal","pageNum","pageSize","pageData","setPageData","tableColumns","title","dataIndex","align","onTableChange","data","current","getselectLogs","selectLogs","res","code","list","useEffect","styles","container"],"mappings":";;;;;AAAA,uC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AAEA;AAEA;AACA;AACA;;AAEA,IAAMA,UAAwB,GAAG,SAA3BA,UAA2B,CAAAC,KAAK,EAAI;AACzC,kBAA8BC,sDAAQ,CAAU,KAAV,CAAtC;AAAA;AAAA,MAAOC,OAAP;AAAA,MAAgBC,UAAhB;;AACA,mBAAoCF,sDAAQ,CAAQ,EAAR,CAA5C;AAAA;AAAA,MAAOG,UAAP;AAAA,MAAmBC,aAAnB;;AACA,mBAA0BJ,sDAAQ,CAAS,CAAT,CAAlC;AAAA;AAAA,MAAOK,KAAP;AAAA,MAAcC,QAAd;;AACA,mBAAgCN,sDAAQ,CAAS;AAChD;AACAO,WAAO,EAAE,CAFuC;AAGhDC,YAAQ,EAAE;AAHsC,GAAT,CAAxC;AAAA;AAAA,MAAOC,QAAP;AAAA,MAAiBC,WAAjB;;AAMA,MAAMC,YAAY,GAAG,CACpB;AACCC,SAAK,EAAE,MADR;AAECC,aAAS,EAAE,aAFZ;AAGCC,SAAK,EAAE;AAHR,GADoB,EAMpB;AACCF,SAAK,EAAE,KADR;AAECC,aAAS,EAAE,UAFZ;AAGCC,SAAK,EAAE;AAHR,GANoB,EAWpB;AACCF,SAAK,EAAE,MADR;AAECC,aAAS,EAAE,eAFZ;AAGCC,SAAK,EAAE;AAHR,GAXoB,EAgBlB;AACDF,SAAK,EAAE,MADN;AAEDC,aAAS,EAAE,WAFV;AAGDC,SAAK,EAAE;AAHN,GAhBkB,CAArB;;AAuBA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,IAAI,EAAI;AAC7B,QAAQC,OAAR,GAA8BD,IAA9B,CAAQC,OAAR;AAAA,QAAiBT,QAAjB,GAA8BQ,IAA9B,CAAiBR,QAAjB;AACEC,YAAQ,CAACF,OAAT,GAAmBU,OAAnB;AACAR,YAAQ,CAACD,QAAT,GAAoBA,QAApB;AACFE,eAAW,CAAC,uKAAKD,QAAN,EAAX;AACAS,iBAAa;AACb,GAND;;AAQA,MAAMA,aAAa;AAAA,4UAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACrBhB,wBAAU,CAAC,IAAD,CAAV;AADqB;AAAA,qBAEHiB,oEAAU,CAAC,uKACzBV,QADwB,EAFP;;AAAA;AAEfW,iBAFe;;AAKrB,kBAAI,CAACA,GAAG,CAACC,IAAL,KAAc,IAAlB,EAAwB;AACvBjB,6BAAa,CAACgB,GAAG,CAACJ,IAAJ,CAASM,IAAV,CAAb;AACAhB,wBAAQ,CAACc,GAAG,CAACJ,IAAJ,CAASX,KAAV,CAAR;AACA;;AACDH,wBAAU,CAAC,KAAD,CAAV;;AATqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAbgB,aAAa;AAAA;AAAA;AAAA,KAAnB;;AAYAK,yDAAS,CAAC,YAAM;AACfL,iBAAa;AACb,GAFQ,EAEN,EAFM,CAAT;AAIA,sBACC,2DAAC,gFAAD;AAAmB,SAAK,EAAE;AAA1B,kBACA,4IACA;AAAK,aAAS,EAAEM,0DAAM,CAACC;AAAvB,kBACC,2DAAC,yEAAD;AACC,WAAO,EAAExB,OADV;AAEC,WAAO,EAAEU,YAFV;AAGC,cAAU,EAAER,UAHb;AAIC,UAAM,EAAC,eAJR;AAKC,SAAK,EAAEE,KALR;AAMC,WAAO,EAAEI,QAAQ,CAACF,OANnB;AAOC,YAAQ,EAAEQ;AAPX,IADD,CADA,CADA,CADD;AAiBA,CA1ED;;AA4EejB,yEAAf,E","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import React, { useEffect, useState } from 'react';\r\nimport {Card} from 'antd'\r\nimport { PageHeaderWrapper } from '@ant-design/pro-layout';\r\n\r\nimport styles from './index.less';\r\nimport MXTable from '@/pages/components/MXTable';\r\nimport { selectLogs } from '../../service';\r\n\r\nconst DownRecord: React.FC<{}> = props => {\r\n\tconst [loading, setLoading] = useState<boolean>(false);\r\n\tconst [dataSource, setDataSource] = useState<array>([]);\r\n\tconst [total, setTotal] = useState<number>(0);\r\n\tconst [pageData, setPageData] = useState<object>({\r\n\t\t// 当前的分页数据\r\n\t\tpageNum: 1,\r\n\t\tpageSize: 10,\r\n\t});\r\n\r\n\tconst tableColumns = [\r\n\t\t{\r\n\t\t\ttitle: '公司名称',\r\n\t\t\tdataIndex: 'companyName',\r\n\t\t\talign: 'center',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '用户名',\r\n\t\t\tdataIndex: 'userName',\r\n\t\t\talign: 'center',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '操作时间',\r\n\t\t\tdataIndex: 'operatingTime',\r\n\t\t\talign: 'center',\r\n\t\t},\r\n    {\r\n\t\t\ttitle: '操作类型',\r\n\t\t\tdataIndex: 'operation',\r\n\t\t\talign: 'center',\r\n\t\t}\r\n\t];\r\n\r\n\tconst onTableChange = data => {\r\n\t\tconst { current, pageSize } = data;\r\n    pageData.pageNum = current;\r\n    pageData.pageSize = pageSize;\r\n\t\tsetPageData({ ...pageData });\r\n\t\tgetselectLogs();\r\n\t};\r\n\r\n\tconst getselectLogs = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst res = await selectLogs({\r\n\t\t\t...pageData\r\n\t\t});\r\n\t\tif (+res.code === 1001) {\r\n\t\t\tsetDataSource(res.data.list);\r\n\t\t\tsetTotal(res.data.total);\r\n\t\t}\r\n\t\tsetLoading(false);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tgetselectLogs();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<PageHeaderWrapper title={'下载记录'}>\r\n\t\t<Card>\r\n\t\t<div className={styles.container}>\r\n\t\t\t<MXTable\r\n\t\t\t\tloading={loading}\r\n\t\t\t\tcolumns={tableColumns}\r\n\t\t\t\tdataSource={dataSource}\r\n\t\t\t\trowKey=\"operatingTime\"\r\n\t\t\t\ttotal={total}\r\n\t\t\t\tpageNum={pageData.pageNum}\r\n\t\t\t\tonChange={onTableChange}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t\t</Card>\r\n\t\t</PageHeaderWrapper>\r\n\t);\r\n};\r\n\r\nexport default DownRecord;\r\n"]}}