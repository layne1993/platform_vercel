{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[56],{\"/ONL\":function(e,t,a){\"use strict\";a.r(t);a(\"IzEo\");var n=a(\"bx4M\"),l=a(\"0Owb\"),r=(a(\"14J3\"),a(\"BMrR\")),c=(a(\"+L6B\"),a(\"2/Rp\")),o=(a(\"OaEy\"),a(\"2fM7\")),i=(a(\"iQDF\"),a(\"+eQT\")),s=(a(\"5NDa\"),a(\"5rEg\")),d=(a(\"jCWc\"),a(\"kPKH\")),u=(a(\"2qtc\"),a(\"kLXV\")),m=a(\"k1fw\"),p=(a(\"DYRE\"),a(\"zeV3\")),f=(a(\"Awhp\"),a(\"KrTs\")),g=(a(\"5Dmo\"),a(\"3S7+\")),h=a(\"fWQN\"),E=a(\"mtLc\"),w=a(\"yKVA\"),C=a(\"879j\"),y=(a(\"/xke\"),a(\"TeRw\")),b=(a(\"y8nQ\"),a(\"Vl3Y\")),I=a(\"Hx5s\"),v=a(\"RCxd\"),O=a(\"q1tI\"),D=a.n(O),F=a(\"9kvl\"),L=a(\"nT/m\"),T=a(\"+n12\"),R=a(\"tQHx\"),x=a(\"tJVT\"),k=function(e,t,a,n){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3;y[\"default\"][e||\"info\"]({message:t,description:a,placement:n,duration:l||3})},N=function(e){var t=e.flag,a=e.loading,n=e.onClose,l=e.goProductDetail,i=e.onSuccess,s=e.dispatch,d=b[\"a\"].useForm(),m=Object(x[\"a\"])(d,1),f=m[0],g=Object(O[\"useState\"])([]),h=Object(x[\"a\"])(g,2),E=h[0],w=h[1],C=Object(O[\"useState\"])([]),y=Object(x[\"a\"])(C,2),I=y[0],v=y[1],L=Object(O[\"useState\"])(!1),T=Object(x[\"a\"])(L,2),R=T[0],N=T[1],S=function(){s({type:\"PRODUCTLIFECYCLEINFO/queryLifeCycleTemplateList\",payload:{},callback:function(e){if(1008===e.code)w(e.data||[]);else{var t=e.message||e.data||\"\\u67e5\\u8be2\\u5931\\u8d25\";k(\"error\",\"\\u63d0\\u793a\\uff08\\u4ee3\\u7801\\uff1a\".concat(e.code,\"\\uff09\"),t,\"topRight\")}}})},j=function(){s({type:\"PRODUCTLIFECYCLEINFO/queryByProductName\",payload:{},callback:function(e){if(1008===e.code)v(e.data||[]);else{var t=e.message||e.data||\"\\u67e5\\u8be2\\u5931\\u8d25\";k(\"error\",\"\\u63d0\\u793a\\uff08\\u4ee3\\u7801\\uff1a\".concat(e.code,\"\\uff09\"),t,\"topRight\")}}})};Object(O[\"useEffect\"])(S,[]),Object(O[\"useEffect\"])(j,[]);var P=function(e){var t=e.productInfo,a=e.lifecycleTemplateInfo;s({type:\"PRODUCTLIFECYCLEINFO/createLifeCycleProcess\",payload:{lifecycleTemplateId:null===a||void 0===a?void 0:a.value,templateName:null===a||void 0===a?void 0:a.label,productFullName:null===t||void 0===t?void 0:t.label,productId:null===t||void 0===t?void 0:t.value},callback:function(e){var t=e.code,a=e.data;if(1008===t)F[\"c\"].push(\"/productLifeCycleInfo/list/processDetails/\".concat(a.lifecycleFlowId)),i();else{var n=e.message||e.data||\"\\u521b\\u5efa\\u5931\\u8d25\\uff01\";k(\"error\",\"\\u63d0\\u793a\\uff08\\u4ee3\\u7801\\uff1a\".concat(e.code,\"\\uff09\"),n,\"topRight\")}}})},Y=function(e){console.log(e);var t=E.filter((function(t){return t.lifecycleTemplateId===e.value}))||[],a=t.length&&t[0].relatedProducts||!1;N(!!a)};return D.a.createElement(u[\"a\"],{title:\"\\u521b\\u5efa\\u6d41\\u7a0b\",visible:t,footer:null,onCancel:n},D.a.createElement(b[\"a\"],{layout:\"vertical\",form:f,onFinish:P},D.a.createElement(b[\"a\"].Item,{label:\"\\u521b\\u5efa\\u6d41\\u7a0b\",name:\"lifecycleTemplateInfo\",rules:[{required:!0,message:\"\\u8bf7\\u9009\\u62e9\"}]},D.a.createElement(o[\"a\"],{showSearch:!0,allowClear:!0,placeholder:\"\\u8bf7\\u9009\\u62e9\\u6a21\\u677f\",style:{maxWidth:400},labelInValue:!0,onChange:Y,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},E.map((function(e){return D.a.createElement(o[\"a\"].Option,{value:e.lifecycleTemplateId,key:e.lifecycleTemplateId},e.templateName)})))),R?D.a.createElement(b[\"a\"].Item,{label:D.a.createElement(\"span\",null,\"\\u8bf7\\u5173\\u8054\\u4ea7\\u54c1\",D.a.createElement(\"a\",{onClick:function(){l({productId:0}),n()}},\"\\u6dfb\\u52a0\\u4ea7\\u54c1\")),name:\"productInfo\",rules:[{required:R,message:\"\\u8bf7\\u9009\\u62e9\"}]},D.a.createElement(o[\"a\"],{allowClear:!0,showSearch:!0,placeholder:\"\\u8bf7\\u9009\\u62e9\\u4ea7\\u54c1\",style:{maxWidth:400},labelInValue:!0,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},I.map((function(e){return D.a.createElement(o[\"a\"].Option,{value:e.productId,key:e.productId},e.productName)})))):null,D.a.createElement(r[\"a\"],{justify:\"center\"},D.a.createElement(p[\"b\"],null,D.a.createElement(c[\"a\"],{onClick:n},\"\\u53d6\\u6d88\"),D.a.createElement(c[\"a\"],{loading:a,type:\"primary\",htmlType:\"submit\"},\"\\u786e\\u5b9a\")))))},S=Object(F[\"b\"])((function(e){var t=e.loading;return{loading:t.effects[\"PRODUCTLIFECYCLEINFO/createLifeCycleProcess\"]}}))(N);N.defaultProps={flag:!1};var j=a(\"QWqi\"),P=a(\"wd/R\"),Y=a.n(P),M=b[\"a\"].Item,U={labelCol:{xs:{span:8},sm:{span:8}},wrapperCol:{xs:{span:16},sm:{span:16}}},K=function(e,t,a,n){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3;y[\"default\"][e||\"info\"]({message:t,description:a,placement:n,duration:l||3})},q={1:\"#FDC854\",2:\"#EB4C47\",3:\"#188FFF\"},V=\"YYYY-MM-DD: HH:mm:ss\",_=Object(T[\"o\"])(40100),H=_.authEdit,Q=(_.authExport,function(e){Object(w[\"a\"])(a,e);var t=Object(C[\"a\"])(a);function a(e){var n;return Object(h[\"a\"])(this,a),n=t.call(this,e),n.formRef=D.a.createRef(),n.columns=[{title:\"\\u6d41\\u7a0b\\u6807\\u9898\",dataIndex:\"processTitle\",width:200,ellipsis:!0,render:function(e,t){return e?D.a.createElement(g[\"a\"],{placement:\"topLeft\",title:e},D.a.createElement(\"a\",{style:{width:80,overflow:\"hidden\",textOverflow:\"ellipsis\",whiteSpace:\"nowrap\"},onClick:function(){return n.goDetail(t)}},e)):\"--\"}},{title:\"\\u6a21\\u677f\\u540d\\u79f0\",dataIndex:\"templateName\",width:200,render:function(e){return e||\"--\"}},{title:\"\\u5173\\u8054\\u4ea7\\u54c1\",dataIndex:\"productFullName\",width:200,render:function(e){return e||\"--\"}},{title:\"\\u72b6\\u6001\",dataIndex:\"flowStatus\",width:80,render:function(e){return e?D.a.createElement(f[\"a\"],{color:q[e],text:Object(T[\"x\"])(L[\"y\"])[e]}):\"--\"}},{title:\"\\u5f53\\u524d\\u8282\\u70b9\\u5e8f\\u53f7\",dataIndex:\"sequence\",width:110,render:function(e){return e||\"--\"}},{title:\"\\u5f53\\u524d\\u8282\\u70b9\\u540d\\u79f0\",dataIndex:\"nodeName\",width:200,render:function(e){return e||\"--\"}},{title:\"\\u5f53\\u524d\\u8282\\u70b9\\u53d1\\u8d77\\u65f6\\u95f4\",dataIndex:\"startDate\",width:200,render:function(e){return e?Y()(e).format(V):\"--\"},sorter:function(e,t){return e.startDate-t.startDate},ellipsis:!0},{title:\"\\u5904\\u7406\\u4eba\",dataIndex:\"managerUserName\",width:100,ellipsis:!0,render:function(e){return e?D.a.createElement(g[\"a\"],{title:e},D.a.createElement(\"p\",{style:{width:80,overflow:\"hidden\",textOverflow:\"ellipsis\",whiteSpace:\"nowrap\"}},e)):\"--\"}},{title:\"\\u5907\\u6ce8\",dataIndex:\"auditOpinion\",width:100,ellipsis:!0,render:function(e){return e||\"--\"}},{title:\"\\u521b\\u5efa\\u65f6\\u95f4\",dataIndex:\"createTime\",width:120,render:function(e){return e?Y()(e).format(V):\"--\"},sorter:function(e,t){return e.createTime-t.createTime},ellipsis:!0},{title:\"\\u64cd\\u4f5c\",width:100,render:function(e){return D.a.createElement(p[\"b\"],null,H&&D.a.createElement(\"a\",{onClick:function(){return n.cancelPre([e.lifecycleFlowId])}},\"\\u64a4\\u9500\"),D.a.createElement(\"a\",{onClick:function(){return n.goDetail(e)}},\"\\u8be6\\u60c5\"))}}],n.getListData=function(){var e=n.props.dispatch,t=n.formRef.current.getFieldsValue(),a=n.state.pageData;e({type:\"PRODUCTLIFECYCLEINFO/getListData\",payload:Object(m[\"a\"])(Object(m[\"a\"])(Object(m[\"a\"])({},t),a),{},{createTime:t.createTime?Y()(t.createTime).format(\"YYYY-MM-DD\"):void 0}),callback:function(e){if(1008===e.code)n.setState({dataSource:e.data||{}});else{var t=e.message||e.data||\"\\u67e5\\u8be2\\u5931\\u8d25\\uff01\";K(\"warning\",\"\\u63d0\\u793a(\\u4ee3\\u7801\\uff1a\".concat(e.code,\")\"),t,\"topRight\")}}})},n.getHandlePersion=function(){var e=n.props.dispatch;e({type:\"PRODUCTLIFECYCLEINFO/getAdminUserList\",payload:{},callback:function(e){if(1008===e.code)n.setState({handlePersion:e.data||{}});else{var t=e.message||e.data||\"\\u67e5\\u8be2\\u5931\\u8d25\\uff01\";K(\"warning\",\"\\u63d0\\u793a(\\u4ee3\\u7801\\uff1a\".concat(e.code,\")\"),t,\"topRight\")}}})},n.doCancel=function(e){var t=n.props.dispatch;t({type:\"PRODUCTLIFECYCLEINFO/repealLifeCycleProcess\",payload:{lifecycleFlowIdList:e},callback:function(e){if(1008===e.code)K(\"success\",\"\\u6210\\u529f\",\"\\u64a4\\u9500\\u6210\\u529f\",\"topRight\"),n.getListData();else{var t=e.message||e.data||\"\\u64cd\\u4f5c\\u5931\\u8d25\\uff01\";K(\"warning\",\"\\u63d0\\u793a\\uff08\\u4ee3\\u7801\\uff1a\".concat(e.code,\"\\uff09\"),t,\"topRight\")}}})},n.cancelPre=function(e){u[\"a\"].confirm({title:\"\\u8bf7\\u60a8\\u786e\\u8ba4\\u662f\\u5426\\u64a4\\u9500\\u8be5\\u6761\\u6d41\\u7a0b\\uff1f\",icon:D.a.createElement(v[\"a\"],null),content:\"\\u64a4\\u9500\\u540e\\u8be5\\u6d41\\u7a0b\\u5c06\\u4e0d\\u53ef\\u6062\\u590d\",okText:\"\\u786e\\u8ba4\",cancelText:\"\\u53d6\\u6d88\",onOk:function(){return n.doCancel(e)}})},n._onFinish=function(){n.setState({selectedRowKeys:[],pageData:Object(m[\"a\"])(Object(m[\"a\"])({},n.state.pageData),{},{pageNum:1})}),n.getListData()},n._reset=function(){n.state.pageData.pageNum=1,n.formRef.current.resetFields(),n.getListData(),n.setState({selectedRowKeys:[]})},n.crateFlow=function(e){n.setState({crateFlowModalFlag:e})},n.goDetail=function(e){F[\"c\"].push(\"/productLifeCycleInfo/list/processDetails/\".concat(e.lifecycleFlowId))},n.goProductDetail=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{productId:0};F[\"c\"].push(\"/product/list/details/\".concat(e.productId))},n._onSelectChange=function(e){n.setState({selectedRowKeys:e})},n._tableChange=function(e,t,a){n.state.pageData.pageNum=e.current,n.state.pageData.pageSize=e.pageSize,n.getListData()},n.state={loading:!1,selectedRowKeys:[],dataSource:{},pageData:{pageNum:1,pageSize:20},crateFlowModalFlag:!1,handlePersion:[]},n}return Object(E[\"a\"])(a,[{key:\"componentDidMount\",value:function(){this.getListData()}},{key:\"render\",value:function(){var e=this,t=this.state,a=t.loading,u=t.dataSource,m=t.pageData,f=t.selectedRowKeys,g=t.crateFlowModalFlag,h=(t.handlePersion,{selectedRowKeys:f,onChange:this._onSelectChange});return D.a.createElement(I[\"a\"],null,D.a.createElement(n[\"a\"],{style:{marginTop:15}},D.a.createElement(b[\"a\"],Object(l[\"a\"])({name:\"basic\",onFinish:this._onFinish,ref:this.formRef},U),D.a.createElement(r[\"a\"],{gutter:[8,0]},D.a.createElement(d[\"a\"],{span:8},D.a.createElement(j[\"b\"],{params:\"productIds\",value:\"productId\",label:\"productName\",mode:\"multiple\",formLabel:\"\\u4ea7\\u54c1\\u540d\\u79f0\"})),D.a.createElement(d[\"a\"],{span:8},D.a.createElement(M,{label:\"\\u6d41\\u7a0b\\u6807\\u9898\",name:\"processTitle\"},D.a.createElement(s[\"a\"],{placeholder:\"\\u8bf7\\u8f93\\u5165\",allowClear:!0}))),D.a.createElement(d[\"a\"],{span:8},D.a.createElement(M,{label:\"\\u521b\\u5efa\\u65f6\\u95f4\",name:\"createTime\"},D.a.createElement(i[\"a\"],{style:{width:\"100%\"},format:\"YYYY-MM-DD\",allowClear:!0}))),D.a.createElement(d[\"a\"],{span:8},D.a.createElement(M,{label:\"\\u72b6\\u6001\",name:\"flowStatus\"},D.a.createElement(o[\"a\"],{placeholder:\"\\u8bf7\\u9009\\u62e9\",allowClear:!0},L[\"y\"].map((function(e){return D.a.createElement(o[\"a\"].Option,{key:e.value,value:e.value},e.label)}))))),D.a.createElement(d[\"a\"],{span:8},D.a.createElement(M,{label:\"\\u5904\\u7406\\u4eba\",name:\"managerUserName\"},D.a.createElement(s[\"a\"],{placeholder:\"\\u8bf7\\u8f93\\u5165\",allowClear:!0}))),D.a.createElement(d[\"a\"],{span:8,style:{textAlign:\"end\"}},D.a.createElement(p[\"b\"],null,D.a.createElement(c[\"a\"],{type:\"primary\",htmlType:\"submit\"},\"\\u67e5\\u8be2\"),D.a.createElement(c[\"a\"],{onClick:this._reset},\"\\u91cd\\u7f6e\"))))),D.a.createElement(r[\"a\"],null,D.a.createElement(p[\"b\"],null,H&&D.a.createElement(c[\"a\"],{type:\"primary\",onClick:function(){return e.crateFlow(!0)}},\"\\u521b\\u5efa\\u6d41\\u7a0b\"),H&&D.a.createElement(c[\"a\"],{danger:!0,disabled:0===f.length,onClick:function(){return e.cancelPre(f)}},\"\\u64a4\\u9500\"))),D.a.createElement(R[\"a\"],{loading:a,rowSelection:h,columns:this.columns,dataSource:u.list||[],rowKey:\"lifecycleFlowId\",scroll:{x:\"100%\",scrollToFirstRowOnChange:!0},sticky:!0,total:u.total,pageNum:m.pageNum,onChange:this._tableChange})),g&&D.a.createElement(S,{flag:g,onClose:function(){return e.crateFlow(!1)},goProductDetail:this.goProductDetail,onSuccess:function(){return e.crateFlow(!1)}}))}}]),a}(O[\"Component\"]));t[\"default\"]=Object(F[\"b\"])((function(e){var t=e.loading;return{loading:t.effects[\"PRODUCTLIFECYCLEINFO/getListData\"]}}))(Q)}}]);","name":"p__productLifeCycle__productLifeCycleInfoList.async.js?v=1646123553782","map":{"version":3,"sources":["p__productLifeCycle__productLifeCycleInfoList.async.js?v=1646123553782"],"names":["window","push","/ONL","module","__webpack_exports__","__webpack_require__","r","card","esm_extends","row","es_button","es_select","date_picker","input","col","modal","objectSpread2","space","badge","tooltip","classCallCheck","createClass","inherits","createSuper","notification","es_form","es","ExclamationCircleOutlined","react","react_default","n","umiExports","publicData","utils","MXTable","slicedToArray","NewFlowModal_openNotification","type","message","description","placement","duration","arguments","length","undefined","NewFlowModal_NewFlowModal","props","flag","loading","onClose","goProductDetail","onSuccess","dispatch","_Form$useForm","useForm","_Form$useForm2","Object","form","_useState","_useState2","temlateList","setTemplateList","_useState3","_useState4","productList","setProductList","_useState5","_useState6","showRelatedProducts","setShowRelatedProducts","getTemplateList","payload","callback","res","code","data","warningText","concat","getpProductList","onFinish","values","productInfo","lifecycleTemplateInfo","lifecycleTemplateId","value","templateName","label","productFullName","productId","lifecycleFlowId","onChange","e","console","log","arr","filter","item","relatedProducts","a","createElement","title","visible","footer","onCancel","layout","Item","name","rules","required","showSearch","allowClear","placeholder","style","maxWidth","labelInValue","filterOption","option","children","toLowerCase","indexOf","map","Option","key","onClick","productName","justify","htmlType","components_NewFlowModal_NewFlowModal","_ref","effects","defaultProps","Customize","moment","moment_default","FormItem","formItemLayout","labelCol","xs","span","sm","wrapperCol","productLifeCycleInfoList_openNotification","status_color","1","2","3","DATE_FORMAT","_getPermission","authEdit","productLifeCycleInfoList_ProductLifeCycleInfoList","authExport","_Component","ProductLifeCycleInfoList","_super","_this","this","call","formRef","createRef","columns","dataIndex","width","ellipsis","render","val","record","overflow","textOverflow","whiteSpace","goDetail","color","text","format","sorter","b","startDate","createTime","cancelPre","getListData","formData","current","getFieldsValue","pageData","state","setState","dataSource","getHandlePersion","handlePersion","doCancel","ids","lifecycleFlowIdList","confirm","icon","content","okText","cancelText","onOk","_onFinish","selectedRowKeys","pageNum","_reset","resetFields","crateFlow","crateFlowModalFlag","_onSelectChange","_tableChange","p","s","pageSize","_this2","_this$state","rowSelection","marginTop","ref","gutter","params","mode","formLabel","textAlign","danger","disabled","list","rowKey","scroll","x","scrollToFirstRowOnChange","sticky","total"],"mappings":"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"},"input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[56],{\n\n/***/ \"/ONL\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/card/style/index.js\nvar style = __webpack_require__(\"IzEo\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/card/index.js + 2 modules\nvar card = __webpack_require__(\"bx4M\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/extends.js\nvar esm_extends = __webpack_require__(\"0Owb\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/row/style/index.js\nvar row_style = __webpack_require__(\"14J3\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/row/index.js\nvar row = __webpack_require__(\"BMrR\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/button/style/index.js\nvar button_style = __webpack_require__(\"+L6B\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/button/index.js\nvar es_button = __webpack_require__(\"2/Rp\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/select/style/index.js\nvar select_style = __webpack_require__(\"OaEy\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/select/index.js + 7 modules\nvar es_select = __webpack_require__(\"2fM7\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/date-picker/style/index.js\nvar date_picker_style = __webpack_require__(\"iQDF\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/date-picker/index.js + 10 modules\nvar date_picker = __webpack_require__(\"+eQT\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/input/style/index.js\nvar input_style = __webpack_require__(\"5NDa\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/input/index.js + 3 modules\nvar input = __webpack_require__(\"5rEg\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/col/style/index.js\nvar col_style = __webpack_require__(\"jCWc\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/col/index.js\nvar col = __webpack_require__(\"kPKH\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/modal/style/index.js\nvar modal_style = __webpack_require__(\"2qtc\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/modal/index.js + 7 modules\nvar modal = __webpack_require__(\"kLXV\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(\"k1fw\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/space/style/index.js\nvar space_style = __webpack_require__(\"DYRE\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/space/index.js + 1 modules\nvar space = __webpack_require__(\"zeV3\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/badge/style/index.js\nvar badge_style = __webpack_require__(\"Awhp\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/badge/index.js + 4 modules\nvar badge = __webpack_require__(\"KrTs\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/tooltip/style/index.js\nvar tooltip_style = __webpack_require__(\"5Dmo\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/tooltip/index.js + 1 modules\nvar tooltip = __webpack_require__(\"3S7+\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(\"fWQN\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(\"mtLc\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(\"yKVA\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/createSuper.js + 4 modules\nvar createSuper = __webpack_require__(\"879j\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/notification/style/index.js\nvar notification_style = __webpack_require__(\"/xke\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/notification/index.js + 1 modules\nvar notification = __webpack_require__(\"TeRw\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/form/style/index.js\nvar form_style = __webpack_require__(\"y8nQ\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/form/index.js + 14 modules\nvar es_form = __webpack_require__(\"Vl3Y\");\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/pro-layout/es/index.js + 82 modules\nvar es = __webpack_require__(\"Hx5s\");\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/ExclamationCircleOutlined.js + 1 modules\nvar ExclamationCircleOutlined = __webpack_require__(\"RCxd\");\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./src/.umi-production/core/umiExports.ts + 7 modules\nvar umiExports = __webpack_require__(\"9kvl\");\n\n// EXTERNAL MODULE: ./src/utils/publicData.js\nvar publicData = __webpack_require__(\"nT/m\");\n\n// EXTERNAL MODULE: ./src/utils/utils.js\nvar utils = __webpack_require__(\"+n12\");\n\n// EXTERNAL MODULE: ./src/pages/components/MXTable/index.jsx\nvar MXTable = __webpack_require__(\"tQHx\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(\"tJVT\");\n\n// CONCATENATED MODULE: ./src/pages/productLifeCycle/productLifeCycleInfoList/components/NewFlowModal/NewFlowModal.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*\n * @Descripttion: 流程管理创建流程弹窗\n * @version:\n * @Author: yezi\n * @Date: 2021-03-18 13:04:51\n * @LastEditTime: 2021-06-23 18:24:45\n */\n\n\n\nvar NewFlowModal_openNotification = function openNotification(type, message, description, placement) {\n  var duration = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 3;\n\n  notification[\"default\"][type || 'info']({\n    message: message,\n    description: description,\n    placement: placement,\n    duration: duration || 3\n  });\n};\n\nvar NewFlowModal_NewFlowModal = function NewFlowModal(props) {\n  var flag = props.flag,\n      loading = props.loading,\n      onClose = props.onClose,\n      goProductDetail = props.goProductDetail,\n      onSuccess = props.onSuccess,\n      dispatch = props.dispatch;\n\n  var _Form$useForm = es_form[\"a\" /* default */].useForm(),\n      _Form$useForm2 = Object(slicedToArray[\"a\" /* default */])(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useState = Object(react[\"useState\"])([]),\n      _useState2 = Object(slicedToArray[\"a\" /* default */])(_useState, 2),\n      temlateList = _useState2[0],\n      setTemplateList = _useState2[1]; // 模板list\n\n\n  var _useState3 = Object(react[\"useState\"])([]),\n      _useState4 = Object(slicedToArray[\"a\" /* default */])(_useState3, 2),\n      productList = _useState4[0],\n      setProductList = _useState4[1]; // 产品list\n\n\n  var _useState5 = Object(react[\"useState\"])(false),\n      _useState6 = Object(slicedToArray[\"a\" /* default */])(_useState5, 2),\n      showRelatedProducts = _useState6[0],\n      setShowRelatedProducts = _useState6[1]; // 产品list\n\n  /**\n   * @description 获取模板lsit\n   */\n\n\n  var getTemplateList = function getTemplateList() {\n    dispatch({\n      type: 'PRODUCTLIFECYCLEINFO/queryLifeCycleTemplateList',\n      payload: {},\n      callback: function callback(res) {\n        if (res.code === 1008) {\n          setTemplateList(res.data || []);\n        } else {\n          var warningText = res.message || res.data || '查询失败';\n          NewFlowModal_openNotification('error', \"\\u63D0\\u793A\\uFF08\\u4EE3\\u7801\\uFF1A\".concat(res.code, \"\\uFF09\"), warningText, 'topRight');\n        }\n      }\n    });\n  };\n  /**\n   * @description 获取产品list\n   */\n\n\n  var getpProductList = function getpProductList() {\n    dispatch({\n      type: 'PRODUCTLIFECYCLEINFO/queryByProductName',\n      payload: {},\n      callback: function callback(res) {\n        if (res.code === 1008) {\n          setProductList(res.data || []);\n        } else {\n          var warningText = res.message || res.data || '查询失败';\n          NewFlowModal_openNotification('error', \"\\u63D0\\u793A\\uFF08\\u4EE3\\u7801\\uFF1A\".concat(res.code, \"\\uFF09\"), warningText, 'topRight');\n        }\n      }\n    });\n  };\n\n  Object(react[\"useEffect\"])(getTemplateList, []);\n  Object(react[\"useEffect\"])(getpProductList, []);\n  /**\n   * @description 发起跳转 创建流程\n   * @param values\n   */\n\n  var onFinish = function onFinish(values) {\n    var productInfo = values.productInfo,\n        lifecycleTemplateInfo = values.lifecycleTemplateInfo;\n    dispatch({\n      type: 'PRODUCTLIFECYCLEINFO/createLifeCycleProcess',\n      payload: {\n        lifecycleTemplateId: lifecycleTemplateInfo === null || lifecycleTemplateInfo === void 0 ? void 0 : lifecycleTemplateInfo.value,\n        templateName: lifecycleTemplateInfo === null || lifecycleTemplateInfo === void 0 ? void 0 : lifecycleTemplateInfo.label,\n        productFullName: productInfo === null || productInfo === void 0 ? void 0 : productInfo.label,\n        productId: productInfo === null || productInfo === void 0 ? void 0 : productInfo.value\n      },\n      callback: function callback(res) {\n        var code = res.code,\n            data = res.data;\n\n        if (code === 1008) {\n          umiExports[\"c\" /* history */].push(\"/productLifeCycleInfo/list/processDetails/\".concat(data.lifecycleFlowId));\n          onSuccess();\n        } else {\n          var warningText = res.message || res.data || '创建失败！';\n          NewFlowModal_openNotification('error', \"\\u63D0\\u793A\\uFF08\\u4EE3\\u7801\\uFF1A\".concat(res.code, \"\\uFF09\"), warningText, 'topRight');\n        }\n      }\n    });\n  }; // 选择模板\n\n\n  var onChange = function onChange(e) {\n    console.log(e);\n    var arr = temlateList.filter(function (item) {\n      return item.lifecycleTemplateId === e.value;\n    }) || [];\n    var relatedProducts = arr.length && arr[0].relatedProducts || false;\n\n    if (relatedProducts) {\n      setShowRelatedProducts(true);\n    } else {\n      setShowRelatedProducts(false);\n    }\n  };\n\n  return /*#__PURE__*/react_default.a.createElement(modal[\"a\" /* default */], {\n    title: \"\\u521B\\u5EFA\\u6D41\\u7A0B\",\n    visible: flag,\n    footer: null,\n    onCancel: onClose\n  }, /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */], {\n    layout: \"vertical\",\n    form: form,\n    onFinish: onFinish\n  }, /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */].Item, {\n    label: \"\\u521B\\u5EFA\\u6D41\\u7A0B\",\n    name: \"lifecycleTemplateInfo\",\n    rules: [{\n      required: true,\n      message: '请选择'\n    }]\n  }, /*#__PURE__*/react_default.a.createElement(es_select[\"a\" /* default */], {\n    showSearch: true,\n    allowClear: true,\n    placeholder: \"\\u8BF7\\u9009\\u62E9\\u6A21\\u677F\",\n    style: {\n      maxWidth: 400\n    },\n    labelInValue: true,\n    onChange: onChange,\n    filterOption: function filterOption(input, option) {\n      return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n    }\n  }, temlateList.map(function (item) {\n    return /*#__PURE__*/react_default.a.createElement(es_select[\"a\" /* default */].Option, {\n      value: item.lifecycleTemplateId,\n      key: item.lifecycleTemplateId\n    }, item.templateName);\n  }))), showRelatedProducts ? /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */].Item, {\n    label: /*#__PURE__*/react_default.a.createElement(\"span\", null, \"\\u8BF7\\u5173\\u8054\\u4EA7\\u54C1\", /*#__PURE__*/react_default.a.createElement(\"a\", {\n      onClick: function onClick() {\n        goProductDetail({\n          productId: 0\n        });\n        onClose();\n      }\n    }, \"\\u6DFB\\u52A0\\u4EA7\\u54C1\")),\n    name: \"productInfo\",\n    rules: [{\n      required: showRelatedProducts,\n      message: '请选择'\n    }]\n  }, /*#__PURE__*/react_default.a.createElement(es_select[\"a\" /* default */], {\n    allowClear: true,\n    showSearch: true,\n    placeholder: \"\\u8BF7\\u9009\\u62E9\\u4EA7\\u54C1\",\n    style: {\n      maxWidth: 400\n    },\n    labelInValue: true,\n    filterOption: function filterOption(input, option) {\n      return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n    }\n  }, productList.map(function (item) {\n    return /*#__PURE__*/react_default.a.createElement(es_select[\"a\" /* default */].Option, {\n      value: item.productId,\n      key: item.productId\n    }, item.productName);\n  }))) : null, /*#__PURE__*/react_default.a.createElement(row[\"a\" /* default */], {\n    justify: \"center\"\n  }, /*#__PURE__*/react_default.a.createElement(space[\"b\" /* default */], null, /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n    onClick: onClose\n  }, \"\\u53D6\\u6D88\"), /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n    loading: loading,\n    type: \"primary\",\n    htmlType: \"submit\"\n  }, \"\\u786E\\u5B9A\")))));\n};\n\n/* harmony default export */ var components_NewFlowModal_NewFlowModal = (Object(umiExports[\"b\" /* connect */])(function (_ref) {\n  var loading = _ref.loading;\n  return {\n    loading: loading.effects['PRODUCTLIFECYCLEINFO/createLifeCycleProcess']\n  };\n})(NewFlowModal_NewFlowModal));\nNewFlowModal_NewFlowModal.defaultProps = {\n  flag: false\n};\n// EXTERNAL MODULE: ./src/pages/components/Customize/index.jsx\nvar Customize = __webpack_require__(\"QWqi\");\n\n// EXTERNAL MODULE: ./node_modules/moment/moment.js\nvar moment = __webpack_require__(\"wd/R\");\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n\n// CONCATENATED MODULE: ./src/pages/productLifeCycle/productLifeCycleInfoList/index.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar FormItem = es_form[\"a\" /* default */].Item;\nvar formItemLayout = {\n  labelCol: {\n    xs: {\n      span: 8\n    },\n    sm: {\n      span: 8\n    }\n  },\n  wrapperCol: {\n    xs: {\n      span: 16\n    },\n    sm: {\n      span: 16\n    }\n  }\n};\n\nvar productLifeCycleInfoList_openNotification = function openNotification(type, message, description, placement) {\n  var duration = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 3;\n\n  notification[\"default\"][type || 'info']({\n    message: message,\n    description: description,\n    placement: placement,\n    duration: duration || 3\n  });\n};\n\nvar status_color = {\n  1: '#FDC854',\n  //进行中\n  2: '#EB4C47',\n  // 延期\n  3: '#188FFF' // 完成\n\n};\nvar DATE_FORMAT = 'YYYY-MM-DD: HH:mm:ss';\n\nvar _getPermission = Object(utils[\"o\" /* getPermission */])(40100),\n    authEdit = _getPermission.authEdit,\n    authExport = _getPermission.authExport;\n\nvar productLifeCycleInfoList_ProductLifeCycleInfoList = /*#__PURE__*/function (_Component) {\n  Object(inherits[\"a\" /* default */])(ProductLifeCycleInfoList, _Component);\n\n  var _super = Object(createSuper[\"a\" /* default */])(ProductLifeCycleInfoList);\n\n  function ProductLifeCycleInfoList(props) {\n    var _this;\n\n    Object(classCallCheck[\"a\" /* default */])(this, ProductLifeCycleInfoList);\n\n    _this = _super.call(this, props);\n    _this.formRef = /*#__PURE__*/react_default.a.createRef();\n    _this.columns = [{\n      title: '流程标题',\n      dataIndex: 'processTitle',\n      width: 200,\n      ellipsis: true,\n      render: function render(val, record) {\n        return val ? /*#__PURE__*/react_default.a.createElement(tooltip[\"a\" /* default */], {\n          placement: \"topLeft\",\n          title: val\n        }, /*#__PURE__*/react_default.a.createElement(\"a\", {\n          style: {\n            width: 80,\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n            whiteSpace: 'nowrap'\n          },\n          onClick: function onClick() {\n            return _this.goDetail(record);\n          }\n        }, val)) : '--';\n      }\n    }, {\n      title: '模板名称',\n      dataIndex: 'templateName',\n      width: 200,\n      render: function render(val) {\n        return val || '--';\n      }\n    }, {\n      title: '关联产品',\n      dataIndex: 'productFullName',\n      width: 200,\n      render: function render(val) {\n        return val || '--';\n      } // render: (val, record) => <a onClick={() => this.goProductDetail(record)} >{val}</a>\n\n    }, {\n      title: '状态',\n      dataIndex: 'flowStatus',\n      width: 80,\n      render: function render(val) {\n        // const status = {\n        //     1: <Tag color=\"#108ee9\">进行中</Tag>,\n        //     2: <Tag color=\"red\">延期</Tag>,\n        //     3: <Tag color=\"#87d068\">成功</Tag>\n        // };\n        return val ? /*#__PURE__*/react_default.a.createElement(badge[\"a\" /* default */], {\n          color: status_color[val],\n          text: Object(utils[\"x\" /* listToMap */])(publicData[\"y\" /* LIFE_STATUS */])[val]\n        }) : '--';\n      }\n    }, {\n      title: '当前节点序号',\n      dataIndex: 'sequence',\n      width: 110,\n      render: function render(val) {\n        return val || '--';\n      }\n    }, {\n      title: '当前节点名称',\n      dataIndex: 'nodeName',\n      width: 200,\n      render: function render(val) {\n        return val || '--';\n      }\n    }, {\n      title: '当前节点发起时间',\n      dataIndex: 'startDate',\n      width: 200,\n      render: function render(val) {\n        return val ? moment_default()(val).format(DATE_FORMAT) : '--';\n      },\n      sorter: function sorter(a, b) {\n        return a.startDate - b.startDate;\n      },\n      ellipsis: true\n    }, {\n      title: '处理人',\n      dataIndex: 'managerUserName',\n      width: 100,\n      ellipsis: true,\n      render: function render(val) {\n        return val ? /*#__PURE__*/react_default.a.createElement(tooltip[\"a\" /* default */], {\n          title: val\n        }, /*#__PURE__*/react_default.a.createElement(\"p\", {\n          style: {\n            width: 80,\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n            whiteSpace: 'nowrap'\n          }\n        }, val)) : '--';\n      }\n    }, {\n      title: '备注',\n      dataIndex: 'auditOpinion',\n      width: 100,\n      ellipsis: true,\n      render: function render(val) {\n        return val || '--';\n      }\n    }, {\n      title: '创建时间',\n      dataIndex: 'createTime',\n      width: 120,\n      render: function render(val) {\n        return val ? moment_default()(val).format(DATE_FORMAT) : '--';\n      },\n      sorter: function sorter(a, b) {\n        return a.createTime - b.createTime;\n      },\n      ellipsis: true\n    }, {\n      title: '操作',\n      width: 100,\n      render: function render(record) {\n        return /*#__PURE__*/react_default.a.createElement(space[\"b\" /* default */], null, authEdit && /*#__PURE__*/react_default.a.createElement(\"a\", {\n          onClick: function onClick() {\n            return _this.cancelPre([record.lifecycleFlowId]);\n          }\n        }, \"\\u64A4\\u9500\"), /*#__PURE__*/react_default.a.createElement(\"a\", {\n          onClick: function onClick() {\n            return _this.goDetail(record);\n          }\n        }, \"\\u8BE6\\u60C5\"));\n      }\n    }];\n\n    _this.getListData = function () {\n      var dispatch = _this.props.dispatch;\n\n      var formData = _this.formRef.current.getFieldsValue();\n\n      var pageData = _this.state.pageData;\n      dispatch({\n        type: 'PRODUCTLIFECYCLEINFO/getListData',\n        payload: Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({}, formData), pageData), {}, {\n          createTime: formData.createTime ? moment_default()(formData.createTime).format('YYYY-MM-DD') : undefined\n        }),\n        callback: function callback(res) {\n          if (res.code === 1008) {\n            _this.setState({\n              dataSource: res.data || {}\n            });\n          } else {\n            var warningText = res.message || res.data || '查询失败！';\n            productLifeCycleInfoList_openNotification('warning', \"\\u63D0\\u793A(\\u4EE3\\u7801\\uFF1A\".concat(res.code, \")\"), warningText, 'topRight');\n          }\n        }\n      });\n    };\n\n    _this.getHandlePersion = function () {\n      var dispatch = _this.props.dispatch;\n      dispatch({\n        type: 'PRODUCTLIFECYCLEINFO/getAdminUserList',\n        payload: {},\n        callback: function callback(res) {\n          if (res.code === 1008) {\n            _this.setState({\n              handlePersion: res.data || {}\n            });\n          } else {\n            var warningText = res.message || res.data || '查询失败！';\n            productLifeCycleInfoList_openNotification('warning', \"\\u63D0\\u793A(\\u4EE3\\u7801\\uFF1A\".concat(res.code, \")\"), warningText, 'topRight');\n          }\n        }\n      });\n    };\n\n    _this.doCancel = function (ids) {\n      var dispatch = _this.props.dispatch;\n      dispatch({\n        type: 'PRODUCTLIFECYCLEINFO/repealLifeCycleProcess',\n        payload: {\n          lifecycleFlowIdList: ids\n        },\n        callback: function callback(res) {\n          if (res.code === 1008) {\n            productLifeCycleInfoList_openNotification('success', '成功', '撤销成功', 'topRight');\n\n            _this.getListData();\n          } else {\n            var warningText = res.message || res.data || '操作失败！';\n            productLifeCycleInfoList_openNotification('warning', \"\\u63D0\\u793A\\uFF08\\u4EE3\\u7801\\uFF1A\".concat(res.code, \"\\uFF09\"), warningText, 'topRight');\n          }\n        }\n      });\n    };\n\n    _this.cancelPre = function (arr) {\n      modal[\"a\" /* default */].confirm({\n        title: '请您确认是否撤销该条流程？',\n        icon: /*#__PURE__*/react_default.a.createElement(ExclamationCircleOutlined[\"a\" /* default */], null),\n        content: '撤销后该流程将不可恢复',\n        okText: '确认',\n        cancelText: '取消',\n        onOk: function onOk() {\n          return _this.doCancel(arr);\n        }\n      });\n    };\n\n    _this._onFinish = function () {\n      _this.setState({\n        selectedRowKeys: [],\n        pageData: Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({}, _this.state.pageData), {}, {\n          pageNum: 1 // pageSize: 20\n\n        })\n      });\n\n      _this.getListData();\n    };\n\n    _this._reset = function () {\n      // eslint-disable-next-line react/no-direct-mutation-state\n      _this.state.pageData.pageNum = 1;\n\n      _this.formRef.current.resetFields();\n\n      _this.getListData();\n\n      _this.setState({\n        selectedRowKeys: []\n      });\n    };\n\n    _this.crateFlow = function (flag) {\n      _this.setState({\n        crateFlowModalFlag: flag\n      });\n    };\n\n    _this.goDetail = function (record) {\n      umiExports[\"c\" /* history */].push(\"/productLifeCycleInfo/list/processDetails/\".concat(record.lifecycleFlowId));\n    };\n\n    _this.goProductDetail = function () {\n      var record = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        productId: 0\n      };\n      umiExports[\"c\" /* history */].push(\"/product/list/details/\".concat(record.productId));\n    };\n\n    _this._onSelectChange = function (selectedRowKeys) {\n      _this.setState({\n        selectedRowKeys: selectedRowKeys\n      });\n    };\n\n    _this._tableChange = function (p, e, s) {\n      // eslint-disable-next-line react/no-direct-mutation-state\n      _this.state.pageData.pageNum = p.current; // eslint-disable-next-line react/no-direct-mutation-state\n\n      _this.state.pageData.pageSize = p.pageSize;\n\n      _this.getListData();\n    };\n\n    _this.state = {\n      loading: false,\n      selectedRowKeys: [],\n      dataSource: {},\n      pageData: {\n        pageNum: 1,\n        pageSize: 20\n      },\n      crateFlowModalFlag: false,\n      // 创建流程的模态框\n      handlePersion: [] // 处理人\n\n    };\n    return _this;\n  }\n\n  Object(createClass[\"a\" /* default */])(ProductLifeCycleInfoList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getListData(); // this.getHandlePersion();\n    } // 表单实例对象\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          loading = _this$state.loading,\n          dataSource = _this$state.dataSource,\n          pageData = _this$state.pageData,\n          selectedRowKeys = _this$state.selectedRowKeys,\n          crateFlowModalFlag = _this$state.crateFlowModalFlag,\n          handlePersion = _this$state.handlePersion;\n      var rowSelection = {\n        selectedRowKeys: selectedRowKeys,\n        onChange: this._onSelectChange\n      };\n      return /*#__PURE__*/react_default.a.createElement(es[\"a\" /* PageHeaderWrapper */], null, /*#__PURE__*/react_default.a.createElement(card[\"a\" /* default */], {\n        style: {\n          marginTop: 15\n        }\n      }, /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */], Object(esm_extends[\"a\" /* default */])({\n        name: \"basic\",\n        onFinish: this._onFinish,\n        ref: this.formRef\n      }, formItemLayout), /*#__PURE__*/react_default.a.createElement(row[\"a\" /* default */], {\n        gutter: [8, 0]\n      }, /*#__PURE__*/react_default.a.createElement(col[\"a\" /* default */], {\n        span: 8\n      }, /*#__PURE__*/react_default.a.createElement(Customize[\"b\" /* MultipleSelect */], {\n        params: \"productIds\",\n        value: \"productId\",\n        label: \"productName\",\n        mode: \"multiple\",\n        formLabel: \"\\u4EA7\\u54C1\\u540D\\u79F0\"\n      })), /*#__PURE__*/react_default.a.createElement(col[\"a\" /* default */], {\n        span: 8\n      }, /*#__PURE__*/react_default.a.createElement(FormItem, {\n        label: \"\\u6D41\\u7A0B\\u6807\\u9898\",\n        name: \"processTitle\"\n      }, /*#__PURE__*/react_default.a.createElement(input[\"a\" /* default */], {\n        placeholder: \"\\u8BF7\\u8F93\\u5165\",\n        allowClear: true\n      }))), /*#__PURE__*/react_default.a.createElement(col[\"a\" /* default */], {\n        span: 8\n      }, /*#__PURE__*/react_default.a.createElement(FormItem, {\n        label: \"\\u521B\\u5EFA\\u65F6\\u95F4\",\n        name: \"createTime\"\n      }, /*#__PURE__*/react_default.a.createElement(date_picker[\"a\" /* default */], {\n        style: {\n          width: '100%'\n        },\n        format: 'YYYY-MM-DD',\n        allowClear: true\n      }))), /*#__PURE__*/react_default.a.createElement(col[\"a\" /* default */], {\n        span: 8\n      }, /*#__PURE__*/react_default.a.createElement(FormItem, {\n        label: \"\\u72B6\\u6001\",\n        name: \"flowStatus\"\n      }, /*#__PURE__*/react_default.a.createElement(es_select[\"a\" /* default */], {\n        placeholder: \"\\u8BF7\\u9009\\u62E9\",\n        allowClear: true\n      }, publicData[\"y\" /* LIFE_STATUS */].map(function (item) {\n        return /*#__PURE__*/react_default.a.createElement(es_select[\"a\" /* default */].Option, {\n          key: item.value,\n          value: item.value\n        }, item.label);\n      })))), /*#__PURE__*/react_default.a.createElement(col[\"a\" /* default */], {\n        span: 8\n      }, /*#__PURE__*/react_default.a.createElement(FormItem, {\n        label: \"\\u5904\\u7406\\u4EBA\",\n        name: \"managerUserName\"\n      }, /*#__PURE__*/react_default.a.createElement(input[\"a\" /* default */], {\n        placeholder: \"\\u8BF7\\u8F93\\u5165\",\n        allowClear: true\n      }))), /*#__PURE__*/react_default.a.createElement(col[\"a\" /* default */], {\n        span: 8,\n        style: {\n          textAlign: 'end'\n        }\n      }, /*#__PURE__*/react_default.a.createElement(space[\"b\" /* default */], null, /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n        type: \"primary\",\n        htmlType: \"submit\"\n      }, \"\\u67E5\\u8BE2\"), /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n        onClick: this._reset\n      }, \"\\u91CD\\u7F6E\"))))), /*#__PURE__*/react_default.a.createElement(row[\"a\" /* default */], null, /*#__PURE__*/react_default.a.createElement(space[\"b\" /* default */], null, authEdit && /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n        type: \"primary\",\n        onClick: function onClick() {\n          return _this2.crateFlow(true);\n        }\n      }, \"\\u521B\\u5EFA\\u6D41\\u7A0B\"), authEdit && /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n        danger: true,\n        disabled: selectedRowKeys.length === 0,\n        onClick: function onClick() {\n          return _this2.cancelPre(selectedRowKeys);\n        }\n      }, \"\\u64A4\\u9500\"))), /*#__PURE__*/react_default.a.createElement(MXTable[\"a\" /* default */], {\n        loading: loading,\n        rowSelection: rowSelection,\n        columns: this.columns,\n        dataSource: dataSource.list || [],\n        rowKey: \"lifecycleFlowId\",\n        scroll: {\n          x: '100%',\n          scrollToFirstRowOnChange: true\n        },\n        sticky: true,\n        total: dataSource.total,\n        pageNum: pageData.pageNum,\n        onChange: this._tableChange\n      })), crateFlowModalFlag && /*#__PURE__*/react_default.a.createElement(components_NewFlowModal_NewFlowModal, {\n        flag: crateFlowModalFlag,\n        onClose: function onClose() {\n          return _this2.crateFlow(false);\n        },\n        goProductDetail: this.goProductDetail,\n        onSuccess: function onSuccess() {\n          return _this2.crateFlow(false);\n        }\n      }));\n    }\n  }]);\n\n  return ProductLifeCycleInfoList;\n}(react[\"Component\"]);\n\n/* harmony default export */ var productLifeCycleInfoList = __webpack_exports__[\"default\"] = (Object(umiExports[\"b\" /* connect */])(function (_ref) {\n  var loading = _ref.loading;\n  return {\n    loading: loading.effects['PRODUCTLIFECYCLEINFO/getListData']\n  };\n})(productLifeCycleInfoList_ProductLifeCycleInfoList));\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["E:/公司代码/MRP报表/vip-manager/src/pages/productLifeCycle/productLifeCycleInfoList/components/NewFlowModal/NewFlowModal.tsx","E:/公司代码/MRP报表/vip-manager/src/pages/productLifeCycle/productLifeCycleInfoList/index.tsx"],"names":["openNotification","type","message","description","placement","duration","NewFlowModal","props","flag","loading","onClose","goProductDetail","onSuccess","dispatch","useForm","form","useState","temlateList","setTemplateList","productList","setProductList","showRelatedProducts","setShowRelatedProducts","getTemplateList","payload","callback","res","code","data","warningText","getpProductList","useEffect","onFinish","values","productInfo","lifecycleTemplateInfo","lifecycleTemplateId","value","templateName","label","productFullName","productId","history","push","lifecycleFlowId","onChange","e","console","log","arr","filter","item","relatedProducts","length","required","maxWidth","input","option","children","toLowerCase","indexOf","map","productName","connect","effects","defaultProps","FormItem","Item","formItemLayout","labelCol","xs","span","sm","wrapperCol","status_color","DATE_FORMAT","getPermission","authEdit","authExport","ProductLifeCycleInfoList","formRef","React","createRef","columns","title","dataIndex","width","ellipsis","render","val","record","overflow","textOverflow","whiteSpace","goDetail","listToMap","LIFE_STATUS","moment","format","sorter","a","b","startDate","createTime","cancelPre","getListData","formData","current","getFieldsValue","pageData","state","undefined","setState","dataSource","getHandlePersion","handlePersion","doCancel","ids","lifecycleFlowIdList","confirm","icon","content","okText","cancelText","onOk","_onFinish","selectedRowKeys","pageNum","_reset","resetFields","crateFlow","crateFlowModalFlag","_onSelectChange","_tableChange","p","s","pageSize","rowSelection","marginTop","textAlign","list","x","scrollToFirstRowOnChange","total","Component"],"mappings":"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","file":"x","sourcesContent":["/*\n * @Descripttion: 流程管理创建流程弹窗\n * @version:\n * @Author: yezi\n * @Date: 2021-03-18 13:04:51\n * @LastEditTime: 2021-06-23 18:24:45\n */\nimport React, { useState, useEffect } from 'react';\nimport type { FC } from 'react';\nimport { connect, history } from 'umi';\nimport { Row, Form, Select, Space, Button, Modal, notification } from 'antd';\n\nconst openNotification = (type, message, description, placement, duration = 3) => {\n    notification[type || 'info']({\n        message,\n        description,\n        placement,\n        duration: duration || 3\n    });\n};\n\n\ninterface NewFlowModalProps {\n    flag: boolean,\n    loading: boolean,\n    onClose: any,\n    goProductDetail: any,\n    onSuccess: any,\n    dispatch: any\n}\n\ninterface onFinishParams {\n    lifecycleTemplateInfo: {\n        label: string,\n        value: number | string,\n        key?: number | string,\n    },\n    productInfo: {\n        label: string,\n        value: number | string,\n        key?: number | string,\n    }\n}\n\nconst NewFlowModal: FC<NewFlowModalProps> = (props) => {\n    const { flag, loading, onClose, goProductDetail, onSuccess, dispatch } = props;\n    const [form] = Form.useForm();\n    const [temlateList, setTemplateList] = useState<any[]>([]); // 模板list\n    const [productList, setProductList] = useState<any[]>([]); // 产品list\n    const [showRelatedProducts, setShowRelatedProducts] = useState<any>(false); // 产品list\n\n\n    /**\n     * @description 获取模板lsit\n     */\n    const getTemplateList = () => {\n        dispatch({\n            type: 'PRODUCTLIFECYCLEINFO/queryLifeCycleTemplateList',\n            payload: {},\n            callback: (res) => {\n                if (res.code === 1008) {\n                    setTemplateList(res.data || []);\n                } else {\n                    const warningText = res.message || res.data || '查询失败';\n                    openNotification('error', `提示（代码：${res.code}）`, warningText, 'topRight');\n                }\n            }\n        });\n    };\n\n    /**\n     * @description 获取产品list\n     */\n    const getpProductList = () => {\n        dispatch({\n            type: 'PRODUCTLIFECYCLEINFO/queryByProductName',\n            payload: {},\n            callback: (res) => {\n                if (res.code === 1008) {\n                    setProductList(res.data || []);\n                } else {\n                    const warningText = res.message || res.data || '查询失败';\n                    openNotification('error', `提示（代码：${res.code}）`, warningText, 'topRight');\n                }\n            }\n        });\n    };\n\n    useEffect(getTemplateList, []);\n    useEffect(getpProductList, []);\n\n\n    /**\n     * @description 发起跳转 创建流程\n     * @param values\n     */\n    const onFinish = (values: onFinishParams) => {\n        const { productInfo, lifecycleTemplateInfo } = values;\n        dispatch({\n            type: 'PRODUCTLIFECYCLEINFO/createLifeCycleProcess',\n            payload: {\n                lifecycleTemplateId: lifecycleTemplateInfo?.value,\n                templateName: lifecycleTemplateInfo?.label,\n                productFullName: productInfo?.label,\n                productId: productInfo?.value\n            },\n            callback: (res) => {\n                const { code, data } = res;\n                if (code === 1008) {\n                    history.push(`/productLifeCycleInfo/list/processDetails/${data.lifecycleFlowId}`);\n                    onSuccess();\n                } else {\n                    const warningText = res.message || res.data || '创建失败！';\n                    openNotification('error', `提示（代码：${res.code}）`, warningText, 'topRight');\n                }\n            }\n        });\n    };\n\n    // 选择模板\n    const onChange = (e) => {\n        console.log(e);\n        const arr = temlateList.filter((item) => item.lifecycleTemplateId === e.value) || [];\n        const relatedProducts = (arr.length && arr[0].relatedProducts) || false;\n        if (relatedProducts) {\n            setShowRelatedProducts(true);\n        } else {\n            setShowRelatedProducts(false);\n        }\n    };\n\n    return (\n        <Modal\n            title=\"创建流程\"\n            visible={flag}\n            footer={null}\n            onCancel={onClose}\n        >\n            <Form\n                layout=\"vertical\"\n                form={form}\n                onFinish={onFinish}\n            >\n                <Form.Item\n                    label=\"创建流程\"\n                    name=\"lifecycleTemplateInfo\"\n                    rules={[{ required: true, message: '请选择' }]}\n                >\n                    <Select\n                        showSearch\n                        allowClear\n                        placeholder=\"请选择模板\"\n                        style={{ maxWidth: 400 }}\n                        labelInValue\n                        onChange={onChange}\n                        filterOption={(input, option) =>\n                            option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                        }\n                    >\n                        {temlateList.map((item) => (\n                            <Select.Option value={item.lifecycleTemplateId} key={item.lifecycleTemplateId}>\n                                {item.templateName}\n                            </Select.Option>\n                        ))}\n                    </Select>\n                </Form.Item>\n                {\n                    showRelatedProducts ? <Form.Item\n                        label={\n                            <span>请关联产品\n                                <a onClick={() => {\n                                    goProductDetail({ productId: 0 });\n                                    onClose();\n                                }}\n                                >添加产品</a>\n                            </span>\n                        }\n                        name=\"productInfo\"\n                        rules={[{ required: showRelatedProducts, message: '请选择' }]}\n                                          >\n                        <Select\n                            allowClear\n                            showSearch\n                            placeholder=\"请选择产品\"\n                            style={{ maxWidth: 400 }}\n                            labelInValue\n                            filterOption={(input, option) =>\n                                option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                            }\n                        >\n                            {productList.map((item) => (\n                                <Select.Option value={item.productId} key={item.productId}>\n                                    {item.productName}\n                                </Select.Option>\n                            ))}\n                        </Select>\n                    </Form.Item> : null\n                }\n\n                <Row justify=\"center\">\n                    <Space>\n                        <Button onClick={onClose}>取消</Button>\n                        <Button loading={loading} type=\"primary\" htmlType=\"submit\">确定</Button>\n                    </Space>\n                </Row>\n            </Form>\n        </Modal>\n    );\n};\n\n\nexport default connect(({ loading }) => ({\n    loading: loading.effects['PRODUCTLIFECYCLEINFO/createLifeCycleProcess']\n}))(NewFlowModal);\n\n\nNewFlowModal.defaultProps = {\n    flag: false\n};\n","import { Card, Row, Col, Statistic, Tag, Form, Input, Select, DatePicker, notification, Space, Button, Modal, Tooltip, Badge } from 'antd';\nimport { FormInstance } from 'antd/lib/form';\nimport { PageHeaderWrapper } from '@ant-design/pro-layout';\nimport { ExclamationCircleTwoTone, ExclamationCircleOutlined } from '@ant-design/icons';\n\nimport React, { Component } from 'react';\nimport { connect, history } from 'umi';\nimport _styles from './style.less';\nimport { LIFE_STATUS } from '@/utils/publicData';\nimport { listToMap, getPermission } from '@/utils/utils';\nimport MXTable from '@/pages/components/MXTable';\nimport Notices from './components/Notices/Notices';\nimport NewFlowModal from './components/NewFlowModal/NewFlowModal';\nimport { MultipleSelect } from '@/pages/components/Customize';\n\nimport moment from 'moment';\nconst FormItem = Form.Item;\n\nconst formItemLayout = {\n    labelCol: {\n        xs: { span: 8 },\n        sm: { span: 8 }\n    },\n    wrapperCol: {\n        xs: { span: 16 },\n        sm: { span: 16 }\n    }\n};\n\n\nconst openNotification = (type, message, description, placement, duration = 3) => {\n    notification[type || 'info']({\n        message,\n        description,\n        placement,\n        duration: duration || 3\n    });\n};\n\nconst status_color = {\n    1: '#FDC854', //进行中\n    2: '#EB4C47', // 延期\n    3: '#188FFF' // 完成\n};\n\n\nconst DATE_FORMAT = 'YYYY-MM-DD: HH:mm:ss';\n\ninterface ProductLifeCycleInfoListProps {\n    dispatch: any\n}\n\ninterface StateProps {\n    loading: boolean,\n    selectedRowKeys: any[],\n    dataSource: any & {},\n    pageData: any,\n    crateFlowModalFlag: boolean,\n    handlePersion: any[]\n}\n\nconst { authEdit, authExport } = getPermission(40100);\nclass ProductLifeCycleInfoList extends Component<ProductLifeCycleInfoListProps, StateProps> {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading: false,\n            selectedRowKeys: [],\n            dataSource: {},\n            pageData: {\n                pageNum: 1,\n                pageSize: 20\n            },\n            crateFlowModalFlag: false,      // 创建流程的模态框\n            handlePersion: []              // 处理人\n        };\n    }\n\n    componentDidMount() {\n        this.getListData();\n        // this.getHandlePersion();\n    }\n\n    // 表单实例对象\n    formRef = React.createRef<FormInstance>();\n\n\n    columns = [\n        {\n            title: '流程标题',\n            dataIndex: 'processTitle',\n            width: 200,\n            ellipsis: true,\n            render: (val: string, record) => val ? <Tooltip placement=\"topLeft\" title={val}><a style={{ width: 80, overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }} onClick={() => this.goDetail(record)}>{val}</a></Tooltip> : '--'\n        },\n        {\n            title: '模板名称',\n            dataIndex: 'templateName',\n            width: 200,\n            render: (val?: string) => val || '--'\n        },\n        {\n            title: '关联产品',\n            dataIndex: 'productFullName',\n            width: 200,\n            render: (val?: string) => val || '--'\n            // render: (val, record) => <a onClick={() => this.goProductDetail(record)} >{val}</a>\n        },\n        {\n            title: '状态',\n            dataIndex: 'flowStatus',\n            width: 80,\n            render: (val?: number) => {\n                // const status = {\n                //     1: <Tag color=\"#108ee9\">进行中</Tag>,\n                //     2: <Tag color=\"red\">延期</Tag>,\n                //     3: <Tag color=\"#87d068\">成功</Tag>\n\n                // };\n                return val ? <Badge color={status_color[val]} text={listToMap(LIFE_STATUS)[val]} /> : '--';\n            }\n\n        },\n        {\n            title: '当前节点序号',\n            dataIndex: 'sequence',\n            width: 110,\n            render: (val?: number) => val || '--'\n        },\n        {\n            title: '当前节点名称',\n            dataIndex: 'nodeName',\n            width: 200,\n            render: (val?: string) => val || '--'\n        },\n        {\n            title: '当前节点发起时间',\n            dataIndex: 'startDate',\n            width: 200,\n            render: (val) => val ? moment(val).format(DATE_FORMAT) : '--',\n            sorter: (a, b) => a.startDate - b.startDate,\n            ellipsis: true\n        },\n        {\n            title: '处理人',\n            dataIndex: 'managerUserName',\n            width: 100,\n            ellipsis: true,\n            render: (val?: string) => val ? <Tooltip title={val}><p style={{ width: 80, overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{val}</p></Tooltip> : '--'\n        },\n        {\n            title: '备注',\n            dataIndex: 'auditOpinion',\n            width: 100,\n            ellipsis: true,\n            render: (val?: string) => val || '--'\n        },\n        {\n            title: '创建时间',\n            dataIndex: 'createTime',\n            width: 120,\n            render: (val) => val ? moment(val).format(DATE_FORMAT) : '--',\n            sorter: (a, b) => a.createTime - b.createTime,\n            ellipsis: true\n        },\n        {\n            title: '操作',\n            width: 100,\n            render: (record) => (\n                <Space>\n                    {authEdit && <a onClick={() => this.cancelPre([record.lifecycleFlowId])}>撤销</a>}\n                    <a onClick={() => this.goDetail(record)}>详情</a>\n                </Space>\n\n            )\n        }\n    ]\n\n    /**\n     * @description 获取table 数据\n     */\n    getListData = () => {\n        const { dispatch } = this.props;\n        const formData = this.formRef.current.getFieldsValue();\n        const { pageData } = this.state;\n        dispatch({\n            type: 'PRODUCTLIFECYCLEINFO/getListData',\n            payload: {\n                ...formData,\n                ...pageData,\n                createTime: formData.createTime ? moment(formData.createTime).format('YYYY-MM-DD') : undefined\n            },\n            callback: (res) => {\n                if (res.code === 1008) {\n                    this.setState({ dataSource: res.data || {} });\n                } else {\n                    const warningText = res.message || res.data || '查询失败！';\n                    openNotification('warning', `提示(代码：${res.code})`, warningText, 'topRight');\n                }\n            }\n        });\n    }\n\n\n    /**\n     * @description 获取处理人数据\n     */\n    getHandlePersion = () => {\n\n        const { dispatch } = this.props;\n        dispatch({\n            type: 'PRODUCTLIFECYCLEINFO/getAdminUserList',\n            payload: {},\n            callback: (res) => {\n                if (res.code === 1008) {\n                    this.setState({ handlePersion: res.data || {} });\n                } else {\n                    const warningText = res.message || res.data || '查询失败！';\n                    openNotification('warning', `提示(代码：${res.code})`, warningText, 'topRight');\n                }\n            }\n        });\n    }\n\n\n    /**\n     * @description 做撤销操作请求接口\n     */\n    doCancel = (ids: number[]) => {\n        const { dispatch } = this.props;\n        dispatch({\n            type: 'PRODUCTLIFECYCLEINFO/repealLifeCycleProcess',\n            payload: { lifecycleFlowIdList: ids },\n            callback: (res) => {\n                if (res.code === 1008) {\n                    openNotification('success', '成功', '撤销成功', 'topRight');\n                    this.getListData();\n                } else {\n                    const warningText = res.message || res.data || '操作失败！';\n                    openNotification('warning', `提示（代码：${res.code}）`, warningText, 'topRight');\n                }\n            }\n        });\n    }\n\n    /**\n     * @description 撤销前提醒\n     */\n    cancelPre = (arr: number[]) => {\n        Modal.confirm({\n            title: '请您确认是否撤销该条流程？',\n            icon: <ExclamationCircleOutlined />,\n            content: '撤销后该流程将不可恢复',\n            okText: '确认',\n            cancelText: '取消',\n            onOk: () => this.doCancel(arr)\n        });\n    }\n\n\n    /**\n     * @description: 表单提交事件\n     * @param {Object} values\n     */\n    _onFinish = () => {\n        this.setState({\n            selectedRowKeys:[],\n            pageData: {\n                ...this.state.pageData,\n                pageNum: 1\n                // pageSize: 20\n            }\n        });\n        this.getListData();\n    };\n\n    /**\n     * @description:重置过滤条件\n     */\n    _reset = () => {\n        // eslint-disable-next-line react/no-direct-mutation-state\n        this.state.pageData.pageNum = 1;\n        this.formRef.current.resetFields();\n        this.getListData();\n        this.setState({ selectedRowKeys: [] });\n    };\n\n    /**\n     * @description 创建流程\n     */\n    crateFlow = (flag: boolean) => {\n        this.setState({ crateFlowModalFlag: flag });\n    }\n\n\n    /**\n     * @description 查看详情\n     *  lifecycleFlowId 流程id\n     *  lifecycleNodeDataId 节点id\n     */\n    goDetail = (record: { lifecycleFlowId: number }) => {\n        history.push(`/productLifeCycleInfo/list/processDetails/${record.lifecycleFlowId}`);\n    }\n\n    /**\n     * @description 查看产品详情\n     */\n    goProductDetail = (record: { productId?: number } = { productId: 0 }) => {\n        history.push(`/product/list/details/${record.productId}`);\n    }\n\n\n    /**\n     * @description table checkbox\n     * @param {*} selectedRowKeys\n     */\n    _onSelectChange = (selectedRowKeys: number[]) => {\n        this.setState({ selectedRowKeys });\n    }\n\n    /**\n * @description: 表格变化\n */\n    _tableChange = (p, e, s) => {\n        // eslint-disable-next-line react/no-direct-mutation-state\n        this.state.pageData.pageNum = p.current;\n        // eslint-disable-next-line react/no-direct-mutation-state\n        this.state.pageData.pageSize = p.pageSize;\n        this.getListData();\n    }\n\n\n    render() {\n        const { loading, dataSource, pageData, selectedRowKeys, crateFlowModalFlag, handlePersion } = this.state;\n        const rowSelection = {\n            selectedRowKeys,\n            onChange: this._onSelectChange\n        };\n        return (\n            <PageHeaderWrapper>\n\n                {/* 通知连部分 */}\n                {/* <Notices data={[]} /> */}\n\n                <Card style={{ marginTop: 15 }}>\n                    <Form\n                        name=\"basic\"\n                        onFinish={this._onFinish}\n                        ref={this.formRef}\n                        {...formItemLayout}\n                    >\n                        <Row gutter={[8, 0]}>\n                            <Col span={8}>\n                                <MultipleSelect\n                                    params=\"productIds\"\n                                    value=\"productId\"\n                                    label=\"productName\"\n                                    mode=\"multiple\"\n                                    formLabel=\"产品名称\"\n                                />\n                            </Col>\n                            <Col span={8}>\n                                <FormItem label=\"流程标题\" name=\"processTitle\">\n                                    <Input placeholder=\"请输入\" allowClear />\n                                </FormItem>\n                            </Col>\n                            <Col span={8}>\n                                <FormItem label=\"创建时间\" name=\"createTime\">\n                                    <DatePicker style={{ width: '100%' }} format={'YYYY-MM-DD'} allowClear />\n                                </FormItem>\n                            </Col>\n                            <Col span={8}>\n                                <FormItem label=\"状态\" name=\"flowStatus\">\n                                    <Select placeholder=\"请选择\" allowClear>\n                                        {LIFE_STATUS.map((item) => {\n                                            return (\n                                                <Select.Option key={item.value} value={item.value}>\n                                                    {item.label}\n                                                </Select.Option>\n                                            );\n                                        })}\n                                    </Select>\n                                </FormItem>\n                            </Col>\n                            <Col span={8}>\n                                <FormItem label=\"处理人\" name=\"managerUserName\">\n                                    <Input placeholder=\"请输入\" allowClear />\n                                    {/* <Select\n                                        placeholder=\"请选择\"\n                                        allowClear\n                                        filterOption={(input, option) =>\n                                            option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                                        }\n                                    >\n                                        {handlePersion.map((item) => {\n                                            return (\n                                                <Select.Option key={item.value} value={item.value}>\n                                                    {item.label}\n                                                </Select.Option>\n                                            );\n                                        })}\n                                    </Select> */}\n                                </FormItem>\n                            </Col>\n                            <Col span={8} style={{ textAlign: 'end' }}>\n                                <Space>\n                                    <Button type=\"primary\" htmlType=\"submit\">查询</Button>\n                                    <Button onClick={this._reset}>重置</Button>\n                                </Space>\n                            </Col>\n\n                        </Row>\n                    </Form>\n                    <Row>\n                        <Space>\n                            {authEdit && <Button type=\"primary\" onClick={() => this.crateFlow(true)}>创建流程</Button>}\n                            {authEdit && <Button danger disabled={selectedRowKeys.length === 0} onClick={() => this.cancelPre(selectedRowKeys)} >撤销</Button>}\n                        </Space>\n                    </Row>\n                    <MXTable\n                        loading={loading}\n                        rowSelection={rowSelection}\n                        columns={this.columns}\n                        dataSource={dataSource.list || []}\n                        rowKey=\"lifecycleFlowId\"\n                        scroll={{ x: '100%', scrollToFirstRowOnChange: true }}\n                        sticky\n                        total={dataSource.total}\n                        pageNum={pageData.pageNum}\n                        onChange={this._tableChange}\n                    />\n                </Card>\n\n                {/* 创建模态框 */}\n                {crateFlowModalFlag &&\n                    <NewFlowModal\n                        flag={crateFlowModalFlag}\n                        onClose={() => this.crateFlow(false)}\n                        goProductDetail={this.goProductDetail}\n                        onSuccess={() => this.crateFlow(false)}\n                    />\n                }\n\n            </PageHeaderWrapper>\n        );\n    }\n}\n\nexport default connect(({ loading }) => ({\n    loading: loading.effects['PRODUCTLIFECYCLEINFO/getListData']\n}))(ProductLifeCycleInfoList);\n"]}}