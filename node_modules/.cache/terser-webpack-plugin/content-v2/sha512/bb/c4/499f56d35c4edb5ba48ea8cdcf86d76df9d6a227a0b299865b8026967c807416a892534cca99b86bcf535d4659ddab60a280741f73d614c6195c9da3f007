{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[15],{Nd7Z:function(e,a,t){\"use strict\";t.r(a);t(\"5Dmo\");var n=t(\"3S7+\"),l=(t(\"qVdP\"),t(\"jsC+\")),c=(t(\"lUTK\"),t(\"BvKs\")),r=t(\"0Owb\"),i=(t(\"14J3\"),t(\"BMrR\")),o=(t(\"+L6B\"),t(\"2/Rp\")),u=(t(\"OaEy\"),t(\"2fM7\")),d=(t(\"jCWc\"),t(\"kPKH\")),m=(t(\"5NDa\"),t(\"5rEg\")),s=(t(\"DYRE\"),t(\"zeV3\")),p=t(\"k1fw\"),h=(t(\"y8nQ\"),t(\"Vl3Y\")),b=t(\"tJVT\"),f=(t(\"/xke\"),t(\"TeRw\")),g=t(\"q1tI\"),E=t.n(g),O=t(\"Hx5s\"),j=t(\"+n12\"),y=t(\"8Skl\"),w=t(\"tQHx\"),C=t(\"Qnru\"),N=t(\"wd/R\"),v=t.n(N),k=t(\"nT/m\"),x=t(\"55Ip\"),I=t(\"9kvl\"),T=\"YYYY-MM-DD HH:mm\",L=function(e,a,t,n){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3;f[\"default\"][e||\"info\"]({message:a,description:t,placement:n,duration:l||3})},S={labelCol:{xs:{span:8},sm:{span:8}},wrapperCol:{xs:{span:16},sm:{span:16}}},A=function(e){var a=e.authEdit,t=e.authExport,f=e.loading,N=e.dispatch,A=e.updateChannelLoading,H=h[\"a\"].useForm(),M=Object(b[\"a\"])(H,1),F=M[0],R=Object(g[\"useState\"])({list:[],total:0}),D=Object(b[\"a\"])(R,2),V=D[0],Y=D[1],z=Object(g[\"useState\"])({pageNum:1,pageSize:20}),K=Object(b[\"a\"])(z,2),U=K[0],J=K[1],B=Object(g[\"useState\"])([]),P=Object(b[\"a\"])(B,2),Q=P[0],q=P[1],W=Object(g[\"useState\"])(!1),Z=Object(b[\"a\"])(W,2),G=Z[0],X=Z[1],$=Object(g[\"useState\"])([]),_=Object(b[\"a\"])($,2),ee=_[0],ae=_[1],te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(p[\"a\"])({},U);N({type:\"CHANNEL/getListData\",payload:Object(p[\"a\"])(Object(p[\"a\"])({},Object(j[\"C\"])(e)),{},{sortFiled:\"createTime\",sortType:\"desc\"}),callback:function(e){var a=e.code,t=e.data,n=e.message;if(1008===a)Y(t);else{var l=n||t||\"\\u67e5\\u8be2\\u5931\\u8d25\";L(\"error\",\"\\u63d0\\u9192\",l)}}})},ne=function(){N({type:\"global/getManagerList\",payload:{pageSize:99999,pageNum:1},callback:function(e){var a=e.code,t=e.data,n=void 0===t?{}:t,l=e.message;if(1008===a)ae(n.list||[]);else{var c=l||n||\"\\u83b7\\u53d6\\u6e20\\u9053\\u7ef4\\u62a4\\u4eba\\u5931\\u8d25\\uff01\";L(\"error\",\"\\u63d0\\u9192\",c)}}})};Object(g[\"useEffect\"])(ne,[]),Object(g[\"useEffect\"])(te,[]);var le=function(e){N({type:\"CHANNEL/updateChannel\",payload:{},callback:function(e){var a=e.code,t=e.data,n=e.message;if(1008===a)L(\"success\",\"\\u63d0\\u9192\",\"\\u66f4\\u65b0\\u6210\\u529f\");else{var l=n||t||\"\\u66f4\\u65b0\\u5931\\u8d25\\uff01\";L(\"error\",\"\\u63d0\\u9192\",l)}}})},ce=function(){F.resetFields(),q([]),te(Object(p[\"a\"])(Object(p[\"a\"])({},U),{},{pageNum:1})),J(Object(p[\"a\"])(Object(p[\"a\"])({},U),{},{pageNum:1}))},re=function(e,a,t){var n={pageNum:e.current,pageSize:e.pageSize};J(n),q([]),te(Object(p[\"a\"])(Object(p[\"a\"])({},F.getFieldsValue()),n))},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(j[\"g\"])({method:\"post\",url:\"/manager/channel/export\",data:Object(p[\"a\"])({},e),callback:function(e){var a=e.status,t=e.message,n=void 0===t?\"\\u5bfc\\u51fa\\u5931\\u8d25\\uff01\":t;\"success\"===a&&L(\"success\",\"\\u63d0\\u9192\",\"\\u5bfc\\u51fa\\u6210\\u529f\"),\"error\"===a&&L(\"error\",\"\\u63d0\\u9192\",n)}})},oe=[{title:\"\\u6e20\\u9053\\u540d\\u79f0\",dataIndex:\"channelName\",width:120,fixed:\"left\",render:function(e,a){return E.a.createElement(x[\"a\"],{to:\"/channel/list/detail/\".concat(a.channelId,\"?channelName=\").concat(a.channelName)},e)}},{title:\"\\u6e20\\u9053\\u7c7b\\u578b\",dataIndex:\"channelType\",width:100,render:function(e){return Object(j[\"x\"])(k[\"k\"])[e]}},{title:\"\\u6e20\\u9053\\u7ef4\\u62a4\\u4eba\",dataIndex:\"channelMaintenance\",width:150,ellipsis:!0,render:function(e){if(Array.isArray(ee)&&Array.isArray(e)){var a=[];return ee.map((function(t){e.includes(t.managerUserId)&&a.push(t.userName)})),E.a.createElement(\"p\",{title:a.join(\",\")},a.join(\",\"))}return\"--\"}},{title:\"\\u6e20\\u9053\\u7f16\\u7801\",dataIndex:\"encodingRules\",width:200,render:function(e){return e?E.a.createElement(\"p\",{title:e},e):\"--\"}},{title:\"\\u521b\\u5efa\\u65f6\\u95f4\",dataIndex:\"createTime\",width:200,render:function(e){return e?v()(e).format(T):\"--\"}},{title:\"\\u4fee\\u6539\\u65f6\\u95f4\",dataIndex:\"updateTime\",width:200,render:function(e){return e?v()(e).format(T):\"--\"}},{title:\"\\u5907\\u6ce8\",dataIndex:\"note\",width:200},{title:\"\\u64cd\\u4f5c\",width:200,render:function(e){return E.a.createElement(s[\"b\"],null,E.a.createElement(\"a\",{onClick:function(){return I[\"c\"].push(\"/channel/list/detail/\".concat(e.channelId,\"?channelName=\").concat(e.channelName))}},\"\\u7f16\\u8f91\"))}}],ue={selectedRowKeys:Q,onChange:q};return E.a.createElement(O[\"a\"],{title:\"\\u6e20\\u9053\\u7ba1\\u7406\"},E.a.createElement(\"div\",{style:{backgroundColor:\"white\",padding:15}},E.a.createElement(h[\"a\"],Object(r[\"a\"])({form:F},S,{onFinish:function(e){te(Object(p[\"a\"])(Object(p[\"a\"])(Object(p[\"a\"])({},e),U),{},{pageNum:1})),J(Object(p[\"a\"])(Object(p[\"a\"])({},U),{},{pageNum:1}))}}),E.a.createElement(i[\"a\"],{gutter:[8,0]},E.a.createElement(d[\"a\"],{span:8},E.a.createElement(h[\"a\"].Item,{label:\"\\u6e20\\u9053\\u540d\\u79f0\",name:\"channelName\"},E.a.createElement(m[\"a\"],{placeholder:\"\\u8bf7\\u8f93\\u5165\",allowClear:!0}))),E.a.createElement(d[\"a\"],{span:8},E.a.createElement(h[\"a\"].Item,{label:\"\\u6e20\\u9053\\u7c7b\\u578b\",name:\"channelType\"},E.a.createElement(u[\"a\"],{placeholder:\"\\u8bf7\\u9009\\u62e9\",allowClear:!0},k[\"k\"].map((function(e){return E.a.createElement(u[\"a\"].Option,{key:e.value,value:e.value},e.label)}))))),E.a.createElement(d[\"a\"],{span:8},E.a.createElement(h[\"a\"].Item,{label:\"\\u6e20\\u9053\\u7ef4\\u62a4\\u4eba\",name:\"channelMaintenance\"},E.a.createElement(u[\"a\"],{placeholder:\"\\u8bf7\\u9009\\u62e9\",allowClear:!0,showSearch:!0,mode:\"multiple\",filterOption:function(e,a){return a.children&&a.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return E.a.createElement(u[\"a\"].Option,{key:e.managerUserId,value:e.managerUserId},e.userName)}))))),E.a.createElement(d[\"a\"],{span:8},E.a.createElement(h[\"a\"].Item,{label:\"\\u5907\\u6ce8\",name:\"note\"},E.a.createElement(m[\"a\"],{placeholder:\"\\u8bf7\\u8f93\\u5165\",allowClear:!0}))),E.a.createElement(d[\"a\"],{span:8,offset:8,style:{textAlign:\"end\"}},E.a.createElement(s[\"b\"],null,E.a.createElement(o[\"a\"],{type:\"primary\",htmlType:\"submit\"},\"\\u67e5\\u8be2\"),E.a.createElement(o[\"a\"],{htmlType:\"reset\",onClick:ce},\"\\u91cd\\u7f6e\"))))),E.a.createElement(i[\"a\"],null,E.a.createElement(s[\"b\"],null,a&&E.a.createElement(o[\"a\"],{type:\"primary\",onClick:function(){return I[\"c\"].push(\"/channel/list/detail/0\")}},\"\\u65b0\\u5efa\"),t&&E.a.createElement(l[\"a\"],{overlay:E.a.createElement(c[\"a\"],null,E.a.createElement(c[\"a\"].Item,{key:\"1\",disabled:0===Q.length,onClick:function(){return ie({channelIds:Q})}},\"\\u5bfc\\u51fa\\u9009\\u4e2d\"),E.a.createElement(c[\"a\"].Item,{key:\"0\",onClick:function(){return ie(Object(p[\"a\"])({},F.getFieldsValue()))}},\"\\u5bfc\\u51fa\\u5168\\u90e8\"))},E.a.createElement(o[\"a\"],null,\"\\xa0\\xa0\\u6279\\u91cf\\u5bfc\\u51fa\",E.a.createElement(y[\"a\"],null))),a&&E.a.createElement(n[\"a\"],{title:\"\\u672c\\u64cd\\u4f5c\\u9700\\u8981\\u91cd\\u65b0\\u5c06\\u6240\\u6709\\u4ea4\\u6613\\u8bb0\\u5f55\\u8fdb\\u884c\\u5339\\u914d\\uff0c\\u8f83\\u6162\\uff0c\\u6210\\u529f\\u540e\\u4f1a\\u901a\\u8fc7\\u77ed\\u4fe1\\u63d0\\u9192\\u544a\\u77e5\"},E.a.createElement(o[\"a\"],{loading:A,type:\"primary\",onClick:le},\"\\u5237\\u65b0\\u5339\\u914d\\uff08\\u8bf7\\u52a1\\u5fc5\\u5728\\u65b0\\u589e\\u6216\\u5173\\u8054\\u6e20\\u9053\\u540e\\u70b9\\u51fb\\u672c\\u6309\\u94ae\\uff01\\uff09\")))),E.a.createElement(w[\"a\"],{loading:f,rowSelection:ue,columns:oe,dataSource:V.list||[],rowKey:\"channelId\",scroll:{x:\"100%\",scrollToFirstRowOnChange:!0},sticky:!0,total:V.total,pageNum:U.pageNum,onChange:re}),G&&E.a.createElement(C[\"a\"],{accept:\".xlsx, .xls\",modalFlag:G,closeModal:function(){return X(!1)},templateUrl:\"/manager/channel/downloadTemplate?&tokenId=\".concat(Object(j[\"l\"])(\"vipAdminToken\")),templateMsg:\"\\u4e0b\\u8f7d\\u6a21\\u677f\",onOk:function(){te(Object(p[\"a\"])(Object(p[\"a\"])({},U),{},{pageNum:1})),X(!1),J(Object(p[\"a\"])(Object(p[\"a\"])({},U),{},{pageNum:1}))},url:\"/manager/channel/upload\"})))};a[\"default\"]=Object(I[\"b\"])((function(e){e.CHANNEL;var a=e.loading;return{loading:a.effects[\"CHANNEL/getListData\"],updateChannelLoading:a.effects[\"CHANNEL/updateChannel\"]}}))(A),A.defaultProps={loading:!1,authEdit:!0,authExport:!0,updateChannelLoading:!1}}}]);","name":"p__channel__list.async.js?v=1646125392535","map":{"version":3,"sources":["p__channel__list.async.js?v=1646125392535"],"names":["window","push","Nd7Z","module","__webpack_exports__","__webpack_require__","r","antd_es_tooltip__WEBPACK_IMPORTED_MODULE_1__","antd_es_dropdown__WEBPACK_IMPORTED_MODULE_3__","antd_es_menu__WEBPACK_IMPORTED_MODULE_5__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_6__","antd_es_row__WEBPACK_IMPORTED_MODULE_8__","antd_es_button__WEBPACK_IMPORTED_MODULE_10__","antd_es_select__WEBPACK_IMPORTED_MODULE_12__","antd_es_col__WEBPACK_IMPORTED_MODULE_14__","antd_es_input__WEBPACK_IMPORTED_MODULE_16__","antd_es_space__WEBPACK_IMPORTED_MODULE_18__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_19__","antd_es_form__WEBPACK_IMPORTED_MODULE_21__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_22__","antd_es_notification__WEBPACK_IMPORTED_MODULE_24__","react__WEBPACK_IMPORTED_MODULE_25__","react__WEBPACK_IMPORTED_MODULE_25___default","n","_ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_26__","_utils_utils__WEBPACK_IMPORTED_MODULE_27__","_ant_design_icons__WEBPACK_IMPORTED_MODULE_28__","_pages_components_MXTable__WEBPACK_IMPORTED_MODULE_29__","_pages_components_batchUpload__WEBPACK_IMPORTED_MODULE_30__","moment__WEBPACK_IMPORTED_MODULE_31__","moment__WEBPACK_IMPORTED_MODULE_31___default","_utils_publicData__WEBPACK_IMPORTED_MODULE_32__","umi__WEBPACK_IMPORTED_MODULE_33__","umi__WEBPACK_IMPORTED_MODULE_34__","date_format","openNotification","type","message","description","placement","duration","arguments","length","undefined","formItemLayout","labelCol","xs","span","sm","wrapperCol","channelList","props","authEdit","authExport","loading","dispatch","updateChannelLoading","_Form$useForm","useForm","_Form$useForm2","Object","form","_useState","list","total","_useState2","listData","setListData","_useState3","pageNum","pageSize","_useState4","pageData","setPageData","_useState5","_useState6","selectedRowKeys","setSelectedRowKeys","_useState7","_useState8","batchUploadModalFlag","setBatchUploadModalFlag","_useState9","_useState10","channelManagerList","setChannelManagerList","getListData","params","payload","sortFiled","sortType","callback","_ref","code","data","txt","getChannelManagerList","_ref2","_ref2$data","updateChannel","values","_ref3","reset","resetFields","_tableChange","p","e","s","current","getFieldsValue","_batchDownload","method","url","_ref4","status","_ref4$message","columns","title","dataIndex","width","fixed","render","val","record","a","createElement","to","concat","channelId","channelName","ellipsis","arr","Array","isArray","strArr","map","item","includes","managerUserId","userName","join","format","onClick","rowSelection","onChange","style","backgroundColor","padding","onFinish","gutter","Item","label","name","placeholder","allowClear","Option","key","value","showSearch","mode","filterOption","input","option","children","toLowerCase","indexOf","offset","textAlign","htmlType","overlay","disabled","channelIds","dataSource","rowKey","scroll","x","scrollToFirstRowOnChange","sticky","accept","modalFlag","closeModal","templateUrl","templateMsg","onOk","_ref5","CHANNEL","effects","defaultProps"],"mappings":"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"},"input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[15],{\n\n/***/ \"Nd7Z\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var antd_es_tooltip_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"5Dmo\");\n/* harmony import */ var antd_es_tooltip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"3S7+\");\n/* harmony import */ var antd_es_dropdown_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"qVdP\");\n/* harmony import */ var antd_es_dropdown__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"jsC+\");\n/* harmony import */ var antd_es_menu_style__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"lUTK\");\n/* harmony import */ var antd_es_menu__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"BvKs\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"0Owb\");\n/* harmony import */ var antd_es_row_style__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"14J3\");\n/* harmony import */ var antd_es_row__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"BMrR\");\n/* harmony import */ var antd_es_button_style__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"+L6B\");\n/* harmony import */ var antd_es_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"2/Rp\");\n/* harmony import */ var antd_es_select_style__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"OaEy\");\n/* harmony import */ var antd_es_select__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"2fM7\");\n/* harmony import */ var antd_es_col_style__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"jCWc\");\n/* harmony import */ var antd_es_col__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"kPKH\");\n/* harmony import */ var antd_es_input_style__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"5NDa\");\n/* harmony import */ var antd_es_input__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"5rEg\");\n/* harmony import */ var antd_es_space_style__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"DYRE\");\n/* harmony import */ var antd_es_space__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"zeV3\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(\"k1fw\");\n/* harmony import */ var antd_es_form_style__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(\"y8nQ\");\n/* harmony import */ var antd_es_form__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(\"Vl3Y\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(\"tJVT\");\n/* harmony import */ var antd_es_notification_style__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(\"/xke\");\n/* harmony import */ var antd_es_notification__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(\"TeRw\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_25__);\n/* harmony import */ var _ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(\"Hx5s\");\n/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(\"+n12\");\n/* harmony import */ var _ant_design_icons__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(\"8Skl\");\n/* harmony import */ var _pages_components_MXTable__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(\"tQHx\");\n/* harmony import */ var _pages_components_batchUpload__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(\"Qnru\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(\"wd/R\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_31___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_31__);\n/* harmony import */ var _utils_publicData__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(\"nT/m\");\n/* harmony import */ var umi__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(\"55Ip\");\n/* harmony import */ var umi__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(\"9kvl\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*\n * @Descripttion:渠道管理\n * @version:\n * @Author: yezi\n * @Date: 2021-06-03 14:24:26\n * @LastEditTime: 2021-09-08 13:25:44\n */\n\n\n\n\n\n\n\n\n\nvar date_format = 'YYYY-MM-DD HH:mm';\n\nvar openNotification = function openNotification(type, message, description, placement) {\n  var duration = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 3;\n\n  antd_es_notification__WEBPACK_IMPORTED_MODULE_24__[\"default\"][type || 'info']({\n    message: message,\n    description: description,\n    placement: placement,\n    duration: duration || 3\n  });\n};\n\nvar formItemLayout = {\n  labelCol: {\n    xs: {\n      span: 8\n    },\n    sm: {\n      span: 8\n    }\n  },\n  wrapperCol: {\n    xs: {\n      span: 16\n    },\n    sm: {\n      span: 16\n    }\n  }\n};\n\nvar channelList = function channelList(props) {\n  var authEdit = props.authEdit,\n      authExport = props.authExport,\n      loading = props.loading,\n      dispatch = props.dispatch,\n      updateChannelLoading = props.updateChannelLoading;\n\n  var _Form$useForm = antd_es_form__WEBPACK_IMPORTED_MODULE_21__[/* default */ \"a\"].useForm(),\n      _Form$useForm2 = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_22__[/* default */ \"a\"])(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_25__[\"useState\"])({\n    list: [],\n    total: 0\n  }),\n      _useState2 = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_22__[/* default */ \"a\"])(_useState, 2),\n      listData = _useState2[0],\n      setListData = _useState2[1]; // list data\n\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_25__[\"useState\"])({\n    pageNum: 1,\n    pageSize: 20\n  }),\n      _useState4 = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_22__[/* default */ \"a\"])(_useState3, 2),\n      pageData = _useState4[0],\n      setPageData = _useState4[1]; // 分页信息\n\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_25__[\"useState\"])([]),\n      _useState6 = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_22__[/* default */ \"a\"])(_useState5, 2),\n      selectedRowKeys = _useState6[0],\n      setSelectedRowKeys = _useState6[1]; // 选中行\n\n\n  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_25__[\"useState\"])(false),\n      _useState8 = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_22__[/* default */ \"a\"])(_useState7, 2),\n      batchUploadModalFlag = _useState8[0],\n      setBatchUploadModalFlag = _useState8[1]; // 批量维护产品打新信息框\n\n\n  var _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_25__[\"useState\"])([]),\n      _useState10 = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_22__[/* default */ \"a\"])(_useState9, 2),\n      channelManagerList = _useState10[0],\n      setChannelManagerList = _useState10[1]; // 承销商list\n  // 查询数据\n\n\n  var getListData = function getListData() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_19__[/* default */ \"a\"])({}, pageData);\n    dispatch({\n      type: 'CHANNEL/getListData',\n      payload: Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_19__[/* default */ \"a\"])(Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_19__[/* default */ \"a\"])({}, Object(_utils_utils__WEBPACK_IMPORTED_MODULE_27__[/* objStringAttributeTrim */ \"C\"])(params)), {}, {\n        sortFiled: 'createTime',\n        sortType: 'desc'\n      }),\n      callback: function callback(_ref) {\n        var code = _ref.code,\n            data = _ref.data,\n            message = _ref.message;\n\n        if (code === 1008) {\n          setListData(data);\n        } else {\n          var txt = message || data || '查询失败';\n          openNotification('error', '提醒', txt);\n        }\n      }\n    });\n  }; // 获取渠道维护人list\n\n\n  var getChannelManagerList = function getChannelManagerList() {\n    dispatch({\n      type: 'global/getManagerList',\n      payload: {\n        pageSize: 99999,\n        pageNum: 1\n      },\n      callback: function callback(_ref2) {\n        var code = _ref2.code,\n            _ref2$data = _ref2.data,\n            data = _ref2$data === void 0 ? {} : _ref2$data,\n            message = _ref2.message;\n\n        if (code === 1008) {\n          setChannelManagerList(data.list || []);\n        } else {\n          var txt = message || data || '获取渠道维护人失败！';\n          openNotification('error', '提醒', txt);\n        }\n      }\n    });\n  };\n\n  Object(react__WEBPACK_IMPORTED_MODULE_25__[\"useEffect\"])(getChannelManagerList, []);\n  Object(react__WEBPACK_IMPORTED_MODULE_25__[\"useEffect\"])(getListData, []);\n  /**\n   * @description 更新渠道商\n   */\n\n  var updateChannel = function updateChannel(values) {\n    dispatch({\n      type: 'CHANNEL/updateChannel',\n      payload: {},\n      callback: function callback(_ref3) {\n        var code = _ref3.code,\n            data = _ref3.data,\n            message = _ref3.message;\n\n        if (code === 1008) {\n          // getListData();\n          openNotification('success', '提醒', '更新成功');\n        } else {\n          var txt = message || data || '更新失败！';\n          openNotification('error', '提醒', txt);\n        }\n      }\n    });\n  };\n  /**\n   * @description 重置\n   */\n\n\n  var reset = function reset() {\n    form.resetFields();\n    setSelectedRowKeys([]);\n    getListData(Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_19__[/* default */ \"a\"])(Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_19__[/* default */ \"a\"])({}, pageData), {}, {\n      pageNum: 1\n    }));\n    setPageData(Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_19__[/* default */ \"a\"])(Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_19__[/* default */ \"a\"])({}, pageData), {}, {\n      pageNum: 1\n    }));\n  };\n  /**\n  * @description: 表格变化\n  */\n\n\n  var _tableChange = function _tableChange(p, e, s) {\n    var pageData = {\n      pageNum: p.current,\n      pageSize: p.pageSize\n    };\n    setPageData(pageData);\n    setSelectedRowKeys([]);\n    getListData(Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_19__[/* default */ \"a\"])(Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_19__[/* default */ \"a\"])({}, form.getFieldsValue()), pageData));\n  }; // 下载文档\n\n\n  var _batchDownload = function _batchDownload() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    Object(_utils_utils__WEBPACK_IMPORTED_MODULE_27__[/* fileExport */ \"g\"])({\n      method: 'post',\n      url: '/manager/channel/export',\n      data: Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_19__[/* default */ \"a\"])({}, params),\n      callback: function callback(_ref4) {\n        var status = _ref4.status,\n            _ref4$message = _ref4.message,\n            message = _ref4$message === void 0 ? '导出失败！' : _ref4$message;\n\n        if (status === 'success') {\n          openNotification('success', '提醒', '导出成功');\n        }\n\n        if (status === 'error') {\n          openNotification('error', '提醒', message);\n        }\n      }\n    });\n  }; // 表头\n\n\n  var columns = [{\n    title: '渠道名称',\n    dataIndex: 'channelName',\n    width: 120,\n    fixed: 'left',\n    render: function render(val, record) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(umi__WEBPACK_IMPORTED_MODULE_33__[/* Link */ \"a\"], {\n        to: \"/channel/list/detail/\".concat(record.channelId, \"?channelName=\").concat(record.channelName)\n      }, val);\n    }\n  }, {\n    title: '渠道类型',\n    dataIndex: 'channelType',\n    width: 100,\n    render: function render(val) {\n      return Object(_utils_utils__WEBPACK_IMPORTED_MODULE_27__[/* listToMap */ \"x\"])(_utils_publicData__WEBPACK_IMPORTED_MODULE_32__[/* CHANNELTYPE */ \"k\"])[val];\n    }\n  }, {\n    title: '渠道维护人',\n    dataIndex: 'channelMaintenance',\n    width: 150,\n    ellipsis: true,\n    render: function render(arr) {\n      if (Array.isArray(channelManagerList) && Array.isArray(arr)) {\n        var strArr = [];\n        channelManagerList.map(function (item) {\n          if (arr.includes(item.managerUserId)) {\n            strArr.push(item.userName);\n          }\n        });\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(\"p\", {\n          title: strArr.join(',')\n        }, strArr.join(','));\n      } else {\n        return '--';\n      }\n    }\n  }, {\n    title: '渠道编码',\n    dataIndex: 'encodingRules',\n    width: 200,\n    render: function render(val) {\n      return val ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(\"p\", {\n        title: val\n      }, val) : '--';\n    }\n  }, {\n    title: '创建时间',\n    dataIndex: 'createTime',\n    width: 200,\n    render: function render(val) {\n      return val ? moment__WEBPACK_IMPORTED_MODULE_31___default()(val).format(date_format) : '--';\n    }\n  }, {\n    title: '修改时间',\n    dataIndex: 'updateTime',\n    width: 200,\n    render: function render(val) {\n      return val ? moment__WEBPACK_IMPORTED_MODULE_31___default()(val).format(date_format) : '--';\n    }\n  }, // {\n  //     title: '历史合作产品总数',\n  //     dataIndex: 'createTime',\n  //     width: 150,\n  //     render: (val: number) => isNumber(val) || '--'\n  // },\n  // {\n  //     title: '最新份额总计(万)',\n  //     dataIndex: 'title',\n  //     width: 200,\n  //     render: (val: number) => numTransform2(val)\n  // },\n  // {\n  //     title: '最新市值总计(万)',\n  //     dataIndex: 'title',\n  //     width: 200,\n  //     render: (val: number) => numTransform2(val)\n  // },\n  // {\n  //     title: '市值占比',\n  //     dataIndex: 'currentActivityNumber',\n  //     width: 100\n  // },\n  {\n    title: '备注',\n    dataIndex: 'note',\n    width: 200 // ellipsis: true\n\n  }, {\n    title: '操作',\n    width: 200,\n    render: function render(record) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_space__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"b\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(\"a\", {\n        onClick: function onClick() {\n          return umi__WEBPACK_IMPORTED_MODULE_34__[/* history */ \"c\"].push(\"/channel/list/detail/\".concat(record.channelId, \"?channelName=\").concat(record.channelName));\n        }\n      }, \"\\u7F16\\u8F91\"));\n    }\n  }];\n  var rowSelection = {\n    selectedRowKeys: selectedRowKeys,\n    onChange: setSelectedRowKeys\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(_ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_26__[/* PageHeaderWrapper */ \"a\"], {\n    title: \"\\u6E20\\u9053\\u7BA1\\u7406\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(\"div\", {\n    style: {\n      backgroundColor: 'white',\n      padding: 15\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_21__[/* default */ \"a\"], Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])({\n    form: form\n  }, formItemLayout, {\n    onFinish: function onFinish(values) {\n      getListData(Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_19__[/* default */ \"a\"])(Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_19__[/* default */ \"a\"])(Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_19__[/* default */ \"a\"])({}, values), pageData), {}, {\n        pageNum: 1\n      }));\n      setPageData(Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_19__[/* default */ \"a\"])(Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_19__[/* default */ \"a\"])({}, pageData), {}, {\n        pageNum: 1\n      }));\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_row__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"], {\n    gutter: [8, 0]\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_col__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"], {\n    span: 8\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_21__[/* default */ \"a\"].Item, {\n    label: \"\\u6E20\\u9053\\u540D\\u79F0\",\n    name: \"channelName\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_input__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"], {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\",\n    allowClear: true\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_col__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"], {\n    span: 8\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_21__[/* default */ \"a\"].Item, {\n    label: \"\\u6E20\\u9053\\u7C7B\\u578B\",\n    name: \"channelType\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_select__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"], {\n    placeholder: \"\\u8BF7\\u9009\\u62E9\",\n    allowClear: true\n  }, _utils_publicData__WEBPACK_IMPORTED_MODULE_32__[/* CHANNELTYPE */ \"k\"].map(function (item) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_select__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"].Option, {\n      key: item.value,\n      value: item.value\n    }, item.label);\n  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_col__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"], {\n    span: 8\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_21__[/* default */ \"a\"].Item, {\n    label: \"\\u6E20\\u9053\\u7EF4\\u62A4\\u4EBA\",\n    name: \"channelMaintenance\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_select__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"], {\n    placeholder: \"\\u8BF7\\u9009\\u62E9\",\n    allowClear: true,\n    showSearch: true,\n    mode: \"multiple\",\n    filterOption: function filterOption(input, option) {\n      return option.children && option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n    }\n  }, channelManagerList.map(function (item) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_select__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"].Option, {\n      key: item.managerUserId,\n      value: item.managerUserId\n    }, item.userName);\n  })))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_col__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"], {\n    span: 8\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_21__[/* default */ \"a\"].Item, {\n    label: \"\\u5907\\u6CE8\",\n    name: \"note\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_input__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"], {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\",\n    allowClear: true\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_col__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"], {\n    span: 8,\n    offset: 8,\n    style: {\n      textAlign: 'end'\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_space__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"b\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], {\n    type: \"primary\",\n    htmlType: \"submit\"\n  }, \"\\u67E5\\u8BE2\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], {\n    htmlType: \"reset\",\n    onClick: reset\n  }, \"\\u91CD\\u7F6E\"))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_row__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_space__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"b\"], null, authEdit && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], {\n    type: \"primary\",\n    onClick: function onClick() {\n      return umi__WEBPACK_IMPORTED_MODULE_34__[/* history */ \"c\"].push('/channel/list/detail/0');\n    }\n  }, \"\\u65B0\\u5EFA\"), authExport && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_dropdown__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], {\n    overlay: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_menu__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_menu__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].Item, {\n      key: \"1\",\n      disabled: selectedRowKeys.length === 0,\n      onClick: function onClick() {\n        return _batchDownload({\n          channelIds: selectedRowKeys\n        });\n      }\n    }, \"\\u5BFC\\u51FA\\u9009\\u4E2D\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_menu__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"].Item, {\n      key: \"0\",\n      onClick: function onClick() {\n        return _batchDownload(Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_19__[/* default */ \"a\"])({}, form.getFieldsValue()));\n      }\n    }, \"\\u5BFC\\u51FA\\u5168\\u90E8\"))\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], null, \"\\xA0\\xA0\\u6279\\u91CF\\u5BFC\\u51FA\", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(_ant_design_icons__WEBPACK_IMPORTED_MODULE_28__[/* default */ \"a\"], null))), authEdit && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_tooltip__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"], {\n    title: \"\\u672C\\u64CD\\u4F5C\\u9700\\u8981\\u91CD\\u65B0\\u5C06\\u6240\\u6709\\u4EA4\\u6613\\u8BB0\\u5F55\\u8FDB\\u884C\\u5339\\u914D\\uFF0C\\u8F83\\u6162\\uFF0C\\u6210\\u529F\\u540E\\u4F1A\\u901A\\u8FC7\\u77ED\\u4FE1\\u63D0\\u9192\\u544A\\u77E5\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], {\n    loading: updateChannelLoading,\n    type: \"primary\",\n    onClick: updateChannel\n  }, \"\\u5237\\u65B0\\u5339\\u914D\\uFF08\\u8BF7\\u52A1\\u5FC5\\u5728\\u65B0\\u589E\\u6216\\u5173\\u8054\\u6E20\\u9053\\u540E\\u70B9\\u51FB\\u672C\\u6309\\u94AE\\uFF01\\uFF09\")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(_pages_components_MXTable__WEBPACK_IMPORTED_MODULE_29__[/* default */ \"a\"], {\n    loading: loading,\n    rowSelection: rowSelection,\n    columns: columns,\n    dataSource: listData.list || [],\n    rowKey: \"channelId\",\n    scroll: {\n      x: '100%',\n      scrollToFirstRowOnChange: true\n    },\n    sticky: true,\n    total: listData.total,\n    pageNum: pageData.pageNum,\n    onChange: _tableChange\n  }), batchUploadModalFlag && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_25___default.a.createElement(_pages_components_batchUpload__WEBPACK_IMPORTED_MODULE_30__[/* default */ \"a\"], {\n    accept: '.xlsx, .xls',\n    modalFlag: batchUploadModalFlag,\n    closeModal: function closeModal() {\n      return setBatchUploadModalFlag(false);\n    },\n    templateUrl: \"/manager/channel/downloadTemplate?&tokenId=\".concat(Object(_utils_utils__WEBPACK_IMPORTED_MODULE_27__[/* getCookie */ \"l\"])('vipAdminToken')),\n    templateMsg: \"\\u4E0B\\u8F7D\\u6A21\\u677F\" // params={{ productId: productId ? Number(productId) : undefined }}\n    ,\n    onOk: function onOk() {\n      getListData(Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_19__[/* default */ \"a\"])(Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_19__[/* default */ \"a\"])({}, pageData), {}, {\n        pageNum: 1\n      }));\n      setBatchUploadModalFlag(false);\n      setPageData(Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_19__[/* default */ \"a\"])(Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_19__[/* default */ \"a\"])({}, pageData), {}, {\n        pageNum: 1\n      }));\n    },\n    url: \"/manager/channel/upload\"\n  })));\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(umi__WEBPACK_IMPORTED_MODULE_34__[/* connect */ \"b\"])(function (_ref5) {\n  var CHANNEL = _ref5.CHANNEL,\n      loading = _ref5.loading;\n  return {\n    loading: loading.effects['CHANNEL/getListData'],\n    updateChannelLoading: loading.effects['CHANNEL/updateChannel']\n  };\n})(channelList));\nchannelList.defaultProps = {\n  loading: false,\n  authEdit: true,\n  authExport: true,\n  updateChannelLoading: false\n};\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["E:/公司代码/MRP报表/vip-manager/src/pages/channel/list/index.tsx"],"names":["date_format","openNotification","type","message","description","placement","duration","formItemLayout","labelCol","xs","span","sm","wrapperCol","channelList","props","authEdit","authExport","loading","dispatch","updateChannelLoading","useForm","form","useState","list","total","listData","setListData","pageNum","pageSize","pageData","setPageData","selectedRowKeys","setSelectedRowKeys","batchUploadModalFlag","setBatchUploadModalFlag","channelManagerList","setChannelManagerList","getListData","params","payload","objStringAttributeTrim","sortFiled","sortType","callback","code","data","txt","getChannelManagerList","useEffect","updateChannel","values","reset","resetFields","_tableChange","p","e","s","current","getFieldsValue","_batchDownload","fileExport","method","url","status","columns","title","dataIndex","width","fixed","render","val","record","channelId","channelName","listToMap","CHANNELTYPE","ellipsis","arr","Array","isArray","strArr","map","item","includes","managerUserId","push","userName","join","moment","format","history","rowSelection","onChange","backgroundColor","padding","value","label","input","option","children","toLowerCase","indexOf","textAlign","length","channelIds","x","scrollToFirstRowOnChange","getCookie","connect","CHANNEL","effects","defaultProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAMA,WAAW,GAAG,kBAApB;;AAEA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,IAAD,EAAOC,OAAP,EAAgBC,WAAhB,EAA6BC,SAA7B,EAA0D;AAAA,MAAjBC,QAAiB,uEAAN,CAAM;;AAC/E,gEAAaJ,IAAI,IAAI,MAArB,EAA6B;AACzBC,WAAO,EAAPA,OADyB;AAEzBC,eAAW,EAAXA,WAFyB;AAGzBC,aAAS,EAATA,SAHyB;AAIzBC,YAAQ,EAAEA,QAAQ,IAAI;AAJG,GAA7B;AAMH,CAPD;;AAUA,IAAMC,cAAc,GAAG;AACnBC,UAAQ,EAAE;AACNC,MAAE,EAAE;AAAEC,UAAI,EAAE;AAAR,KADE;AAENC,MAAE,EAAE;AAAED,UAAI,EAAE;AAAR;AAFE,GADS;AAKnBE,YAAU,EAAE;AACRH,MAAE,EAAE;AAAEC,UAAI,EAAE;AAAR,KADI;AAERC,MAAE,EAAE;AAAED,UAAI,EAAE;AAAR;AAFI;AALO,CAAvB;;AAWA,IAAMG,WAAoB,GAAG,SAAvBA,WAAuB,CAACC,KAAD,EAAW;AACpC,MAAQC,QAAR,GAA0ED,KAA1E,CAAQC,QAAR;AAAA,MAAkBC,UAAlB,GAA0EF,KAA1E,CAAkBE,UAAlB;AAAA,MAA8BC,OAA9B,GAA0EH,KAA1E,CAA8BG,OAA9B;AAAA,MAAuCC,QAAvC,GAA0EJ,KAA1E,CAAuCI,QAAvC;AAAA,MAAiDC,oBAAjD,GAA0EL,KAA1E,CAAiDK,oBAAjD;;AACA,sBAAe,8DAAKC,OAAL,EAAf;AAAA;AAAA,MAAOC,IAAP;;AACA,kBAAgCC,uDAAQ,CAAM;AAAEC,QAAI,EAAE,EAAR;AAAYC,SAAK,EAAE;AAAnB,GAAN,CAAxC;AAAA;AAAA,MAAOC,QAAP;AAAA,MAAiBC,WAAjB,iBAHoC,CAGqD;;;AACzF,mBAAgCJ,uDAAQ,CAAM;AAAEK,WAAO,EAAE,CAAX;AAAcC,YAAQ,EAAE;AAAxB,GAAN,CAAxC;AAAA;AAAA,MAAOC,QAAP;AAAA,MAAiBC,WAAjB,iBAJoC,CAIqD;;;AACzF,mBAA8CR,uDAAQ,CAAW,EAAX,CAAtD;AAAA;AAAA,MAAOS,eAAP;AAAA,MAAwBC,kBAAxB,iBALoC,CAKqD;;;AACzF,mBAAwDV,uDAAQ,CAAU,KAAV,CAAhE;AAAA;AAAA,MAAOW,oBAAP;AAAA,MAA6BC,uBAA7B,iBANoC,CAMqD;;;AACzF,mBAAoDZ,uDAAQ,CAAQ,EAAR,CAA5D;AAAA;AAAA,MAAOa,kBAAP;AAAA,MAA2BC,qBAA3B,kBAPoC,CAO+D;AAEnG;;;AACA,MAAMC,WAAW,GAAG,SAAdA,WAAc,GAA8B;AAAA,QAA7BC,MAA6B,+OAAfT,QAAe;AAC9CX,YAAQ,CAAC;AACLhB,UAAI,EAAE,qBADD;AAELqC,aAAO,EAAE,4UACFC,oFAAsB,CAACF,MAAD,CADtB;AAEHG,iBAAS,EAAE,YAFR;AAGHC,gBAAQ,EAAE;AAHP,QAFF;AAOLC,cAAQ,EAAE,wBAA6B;AAAA,YAA1BC,IAA0B,QAA1BA,IAA0B;AAAA,YAApBC,IAAoB,QAApBA,IAAoB;AAAA,YAAd1C,OAAc,QAAdA,OAAc;;AACnC,YAAIyC,IAAI,KAAK,IAAb,EAAmB;AACflB,qBAAW,CAACmB,IAAD,CAAX;AACH,SAFD,MAEO;AACH,cAAMC,GAAG,GAAG3C,OAAO,IAAI0C,IAAX,IAAmB,MAA/B;AACA5C,0BAAgB,CAAC,OAAD,EAAU,IAAV,EAAgB6C,GAAhB,CAAhB;AACH;AACJ;AAdI,KAAD,CAAR;AAgBH,GAjBD,CAVoC,CA6BpC;;;AACA,MAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAM;AAChC7B,YAAQ,CAAC;AACLhB,UAAI,EAAE,uBADD;AAELqC,aAAO,EAAE;AAAEX,gBAAQ,EAAE,KAAZ;AAAmBD,eAAO,EAAE;AAA5B,OAFJ;AAGLgB,cAAQ,EAAE,yBAAuC;AAAA,YAApCC,IAAoC,SAApCA,IAAoC;AAAA,+BAA9BC,IAA8B;AAAA,YAA9BA,IAA8B,2BAAvB,EAAuB;AAAA,YAAnB1C,OAAmB,SAAnBA,OAAmB;;AAC7C,YAAIyC,IAAI,KAAK,IAAb,EAAmB;AACfR,+BAAqB,CAACS,IAAI,CAACtB,IAAL,IAAa,EAAd,CAArB;AACH,SAFD,MAEO;AACH,cAAMuB,GAAG,GAAG3C,OAAO,IAAI0C,IAAX,IAAmB,YAA/B;AACA5C,0BAAgB,CAAC,OAAD,EAAU,IAAV,EAAgB6C,GAAhB,CAAhB;AACH;AACJ;AAVI,KAAD,CAAR;AAYH,GAbD;;AAeAE,0DAAS,CAACD,qBAAD,EAAwB,EAAxB,CAAT;AACAC,0DAAS,CAACX,WAAD,EAAc,EAAd,CAAT;AAEA;AACJ;AACA;;AACI,MAAMY,aAAa,GAAG,SAAhBA,aAAgB,CAACC,MAAD,EAAY;AAC9BhC,YAAQ,CAAC;AACLhB,UAAI,EAAE,uBADD;AAELqC,aAAO,EAAE,EAFJ;AAGLI,cAAQ,EAAE,yBAAkC;AAAA,YAA/BC,IAA+B,SAA/BA,IAA+B;AAAA,YAAzBC,IAAyB,SAAzBA,IAAyB;AAAA,YAAnB1C,OAAmB,SAAnBA,OAAmB;;AACxC,YAAIyC,IAAI,KAAK,IAAb,EAAmB;AACf;AACA3C,0BAAgB,CAAC,SAAD,EAAY,IAAZ,EAAkB,MAAlB,CAAhB;AACH,SAHD,MAGO;AACH,cAAM6C,GAAG,GAAG3C,OAAO,IAAI0C,IAAX,IAAmB,OAA/B;AACA5C,0BAAgB,CAAC,OAAD,EAAU,IAAV,EAAgB6C,GAAhB,CAAhB;AACH;AACJ;AAXI,KAAD,CAAR;AAaH,GAdD;AAiBA;AACJ;AACA;;;AACI,MAAMK,KAAK,GAAG,SAARA,KAAQ,GAAM;AAChB9B,QAAI,CAAC+B,WAAL;AACApB,sBAAkB,CAAC,EAAD,CAAlB;AACAK,eAAW,CAAC,4UAAKR,QAAN;AAAgBF,aAAO,EAAE;AAAzB,OAAX;AACAG,eAAW,CAAC,4UAAKD,QAAN;AAAgBF,aAAO,EAAE;AAAzB,OAAX;AACH,GALD;AAOA;AACJ;AACA;;;AACI,MAAM0B,YAAY,GAAG,SAAfA,YAAe,CAACC,CAAD,EAAIC,CAAJ,EAAOC,CAAP,EAAa;AAC9B,QAAM3B,QAAQ,GAAG;AACbF,aAAO,EAAE2B,CAAC,CAACG,OADE;AAEb7B,cAAQ,EAAE0B,CAAC,CAAC1B;AAFC,KAAjB;AAIAE,eAAW,CAACD,QAAD,CAAX;AACAG,sBAAkB,CAAC,EAAD,CAAlB;AACAK,eAAW,CAAC,4UAAKhB,IAAI,CAACqC,cAAL,EAAN,GAAgC7B,QAAhC,EAAX;AACH,GARD,CAjFoC,CA4FpC;;;AACA,MAAM8B,cAAc,GAAG,SAAjBA,cAAiB,GAAiB;AAAA,QAAhBrB,MAAgB,uEAAP,EAAO;AACpCsB,4EAAU,CAAC;AACPC,YAAM,EAAE,MADD;AAEPC,SAAG,EAAE,yBAFE;AAGPjB,UAAI,EAAE,wKACCP,MADH,CAHG;AAMPK,cAAQ,EAAE,yBAAmC;AAAA,YAAhCoB,MAAgC,SAAhCA,MAAgC;AAAA,kCAAxB5D,OAAwB;AAAA,YAAxBA,OAAwB,8BAAd,OAAc;;AACzC,YAAI4D,MAAM,KAAK,SAAf,EAA0B;AACtB9D,0BAAgB,CAAC,SAAD,EAAY,IAAZ,EAAkB,MAAlB,CAAhB;AACH;;AACD,YAAI8D,MAAM,KAAK,OAAf,EAAwB;AACpB9D,0BAAgB,CAAC,OAAD,EAAU,IAAV,EAAgBE,OAAhB,CAAhB;AACH;AACJ;AAbM,KAAD,CAAV;AAeH,GAhBD,CA7FoC,CAgHpC;;;AACA,MAAM6D,OAAO,GAAG,CACZ;AACIC,SAAK,EAAE,MADX;AAEIC,aAAS,EAAE,aAFf;AAGIC,SAAK,EAAE,GAHX;AAIIC,SAAK,EAAE,MAJX;AAKIC,UAAM,EAAE,gBAACC,GAAD,EAAMC,MAAN;AAAA,0BAAiB,4DAAC,iDAAD;AAAM,UAAE,iCAA0BA,MAAM,CAACC,SAAjC,0BAA0DD,MAAM,CAACE,WAAjE;AAAR,SAAyFH,GAAzF,CAAjB;AAAA;AALZ,GADY,EAQZ;AACIL,SAAK,EAAE,MADX;AAEIC,aAAS,EAAE,aAFf;AAGIC,SAAK,EAAE,GAHX;AAIIE,UAAM,EAAE,gBAACC,GAAD;AAAA,aAASI,uEAAS,CAACC,sEAAD,CAAT,CAAuBL,GAAvB,CAAT;AAAA;AAJZ,GARY,EAcZ;AACIL,SAAK,EAAE,OADX;AAEIC,aAAS,EAAE,oBAFf;AAGIC,SAAK,EAAE,GAHX;AAIIS,YAAQ,EAAE,IAJd;AAKIP,UAAM,EAAE,gBAACQ,GAAD,EAAgB;AACpB,UAAIC,KAAK,CAACC,OAAN,CAAc5C,kBAAd,KAAqC2C,KAAK,CAACC,OAAN,CAAcF,GAAd,CAAzC,EAA6D;AACzD,YAAIG,MAAM,GAAG,EAAb;AACA7C,0BAAkB,CAAC8C,GAAnB,CAAuB,UAACC,IAAD,EAAU;AAC7B,cAAIL,GAAG,CAACM,QAAJ,CAAaD,IAAI,CAACE,aAAlB,CAAJ,EAAsC;AAClCJ,kBAAM,CAACK,IAAP,CAAYH,IAAI,CAACI,QAAjB;AACH;AACJ,SAJD;AAKA,4BAAO;AAAG,eAAK,EAAEN,MAAM,CAACO,IAAP,CAAY,GAAZ;AAAV,WAA6BP,MAAM,CAACO,IAAP,CAAY,GAAZ,CAA7B,CAAP;AACH,OARD,MAQO;AACH,eAAO,IAAP;AACH;AACJ;AAjBL,GAdY,EAiCZ;AACItB,SAAK,EAAE,MADX;AAEIC,aAAS,EAAE,eAFf;AAGIC,SAAK,EAAE,GAHX;AAIIE,UAAM,EAAE,gBAACC,GAAD;AAAA,aAASA,GAAG,gBAAG;AAAG,aAAK,EAAEA;AAAV,SAAgBA,GAAhB,CAAH,GAA8B,IAA1C;AAAA;AAJZ,GAjCY,EAuCZ;AACIL,SAAK,EAAE,MADX;AAEIC,aAAS,EAAE,YAFf;AAGIC,SAAK,EAAE,GAHX;AAIIE,UAAM,EAAE,gBAACC,GAAD;AAAA,aAASA,GAAG,GAAGkB,8CAAM,CAAClB,GAAD,CAAN,CAAYmB,MAAZ,CAAmBzF,WAAnB,CAAH,GAAqC,IAAjD;AAAA;AAJZ,GAvCY,EA6CZ;AACIiE,SAAK,EAAE,MADX;AAEIC,aAAS,EAAE,YAFf;AAGIC,SAAK,EAAE,GAHX;AAIIE,UAAM,EAAE,gBAACC,GAAD;AAAA,aAASA,GAAG,GAAGkB,8CAAM,CAAClB,GAAD,CAAN,CAAYmB,MAAZ,CAAmBzF,WAAnB,CAAH,GAAqC,IAAjD;AAAA;AAJZ,GA7CY,EAmDZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIiE,SAAK,EAAE,IADX;AAEIC,aAAS,EAAE,MAFf;AAGIC,SAAK,EAAE,GAHX,CAII;;AAJJ,GA1EY,EAgFZ;AACIF,SAAK,EAAE,IADX;AAEIE,SAAK,EAAE,GAFX;AAGIE,UAAM,EAAE,gBAACE,MAAD;AAAA,0BACJ,+IACI;AAAG,eAAO,EAAE;AAAA,iBAAMmB,oDAAO,CAACL,IAAR,gCAAqCd,MAAM,CAACC,SAA5C,0BAAqED,MAAM,CAACE,WAA5E,EAAN;AAAA;AAAZ,wBADJ,CADI;AAAA;AAHZ,GAhFY,CAAhB;AA2FA,MAAMkB,YAAY,GAAG;AACjB5D,mBAAe,EAAfA,eADiB;AAEjB6D,YAAQ,EAAE5D;AAFO,GAArB;AAKA,sBACI,4DAAC,iFAAD;AACI,SAAK,EAAC;AADV,kBAGI;AAAK,SAAK,EAAE;AAAE6D,qBAAe,EAAE,OAAnB;AAA4BC,aAAO,EAAE;AAArC;AAAZ,kBACI;AACI,QAAI,EAAEzE;AADV,KAEQd,cAFR;AAGI,YAAQ,EAAE,kBAAC2C,MAAD,EAAY;AAAEb,iBAAW,CAAC,gfAAKa,MAAN,GAAiBrB,QAAjB;AAA2BF,eAAO,EAAE;AAApC,SAAX;AAAqDG,iBAAW,CAAC,4UAAKD,QAAN;AAAgBF,eAAO,EAAE;AAAzB,SAAX;AAA2C;AAH5H,mBAKI;AAAK,UAAM,EAAE,CAAC,CAAD,EAAI,CAAJ;AAAb,kBACI;AAAK,QAAI,EAAE;AAAX,kBACI,0HAAM,IAAN;AAAW,SAAK,EAAC,0BAAjB;AAAwB,QAAI,EAAC;AAA7B,kBACI;AAAO,eAAW,EAAC,oBAAnB;AAAyB,cAAU;AAAnC,IADJ,CADJ,CADJ,eAMI;AAAK,QAAI,EAAE;AAAX,kBACI,0HAAM,IAAN;AAAW,SAAK,EAAC,0BAAjB;AAAwB,QAAI,EAAC;AAA7B,kBACI;AAAQ,eAAW,EAAC,oBAApB;AAA0B,cAAU;AAApC,KACKgD,sEAAW,CAACM,GAAZ,CAAgB,UAACC,IAAD,EAAU;AACvB,wBACI,4HAAQ,MAAR;AAAe,SAAG,EAAEA,IAAI,CAACa,KAAzB;AAAgC,WAAK,EAAEb,IAAI,CAACa;AAA5C,OACKb,IAAI,CAACc,KADV,CADJ;AAKH,GANA,CADL,CADJ,CADJ,CANJ,eAmBI;AAAK,QAAI,EAAE;AAAX,kBACI,0HAAM,IAAN;AAAW,SAAK,EAAC,gCAAjB;AAAyB,QAAI,EAAC;AAA9B,kBACI;AACI,eAAW,EAAC,oBADhB;AAEI,cAAU,MAFd;AAGI,cAAU,MAHd;AAII,QAAI,EAAC,UAJT;AAKI,gBAAY,EAAE,sBAACC,KAAD,EAAQC,MAAR;AAAA,aACVA,MAAM,CAACC,QAAP,IAAmBD,MAAM,CAACC,QAAP,CACdC,WADc,GAEdC,OAFc,CAENJ,KAAK,CAACG,WAAN,EAFM,KAEkB,CAH3B;AAAA;AALlB,KAYQjE,kBAAkB,CAAC8C,GAAnB,CAAuB,UAACC,IAAD,EAAU;AAC7B,wBAAO,4HAAQ,MAAR;AAAe,SAAG,EAAEA,IAAI,CAACE,aAAzB;AAAwC,WAAK,EAAEF,IAAI,CAACE;AAApD,OAAoEF,IAAI,CAACI,QAAzE,CAAP;AACH,GAFD,CAZR,CADJ,CADJ,CAnBJ,eAwCI;AAAK,QAAI,EAAE;AAAX,kBACI,0HAAM,IAAN;AAAW,SAAK,EAAC,cAAjB;AAAsB,QAAI,EAAC;AAA3B,kBACI;AAAO,eAAW,EAAC,oBAAnB;AAAyB,cAAU;AAAnC,IADJ,CADJ,CAxCJ,eA8CI;AAAK,QAAI,EAAE,CAAX;AAAc,UAAM,EAAE,CAAtB;AAAyB,SAAK,EAAE;AAAEgB,eAAS,EAAE;AAAb;AAAhC,kBACI,+IACI;AAAQ,QAAI,EAAC,SAAb;AAAuB,YAAQ,EAAC;AAAhC,oBADJ,eAII;AAAQ,YAAQ,EAAC,OAAjB;AAAyB,WAAO,EAAEnD;AAAlC,oBAJJ,CADJ,CA9CJ,CALJ,CADJ,eA+DI,4IACI,kIACKpC,QAAQ,iBACL;AAAQ,QAAI,EAAC,SAAb;AAAuB,WAAO,EAAE;AAAA,aAAM2E,oDAAO,CAACL,IAAR,CAAa,wBAAb,CAAN;AAAA;AAAhC,oBAFR,EAWKrE,UAAU,iBACP;AACI,WAAO,eAAE,6IACL,yHAAM,IAAN;AACI,SAAG,EAAC,GADR;AAEI,cAAQ,EAAEe,eAAe,CAACwE,MAAhB,KAA2B,CAFzC;AAGI,aAAO,EAAE;AAAA,eAAM5C,cAAc,CAAC;AAAE6C,oBAAU,EAAEzE;AAAd,SAAD,CAApB;AAAA;AAHb,kCADK,eAQL,yHAAM,IAAN;AACI,SAAG,EAAC,GADR;AAEI,aAAO,EAAE;AAAA,eAAM4B,cAAc,CAAC,wKAAKtC,IAAI,CAACqC,cAAL,EAAN,EAApB;AAAA;AAFb,kCARK;AADb,kBAiBI,oLAEI,4DAAC,kEAAD,OAFJ,CAjBJ,CAZR,EAmCK3C,QAAQ,iBACL;AAAS,SAAK,EAAC;AAAf,kBACI;AAAQ,WAAO,EAAEI,oBAAjB;AAAuC,QAAI,EAAC,SAA5C;AAAsD,WAAO,EAAE8B;AAA/D,wJADJ,CApCR,CADJ,CA/DJ,eA4GI,4DAAC,0EAAD;AACI,WAAO,EAAEhC,OADb;AAEI,gBAAY,EAAE0E,YAFlB;AAGI,WAAO,EAAE3B,OAHb;AAII,cAAU,EAAEvC,QAAQ,CAACF,IAAT,IAAiB,EAJjC;AAKI,UAAM,EAAC,WALX;AAMI,UAAM,EAAE;AAAEkF,OAAC,EAAE,MAAL;AAAaC,8BAAwB,EAAE;AAAvC,KANZ;AAOI,UAAM,MAPV;AAQI,SAAK,EAAEjF,QAAQ,CAACD,KARpB;AASI,WAAO,EAAEK,QAAQ,CAACF,OATtB;AAUI,YAAQ,EAAE0B;AAVd,IA5GJ,EA0HKpB,oBAAoB,iBACjB,4DAAC,8EAAD;AACI,UAAM,EAAE,aADZ;AAEI,aAAS,EAAEA,oBAFf;AAGI,cAAU,EAAE;AAAA,aAAMC,uBAAuB,CAAC,KAAD,CAA7B;AAAA,KAHhB;AAII,eAAW,uDAAgDyE,uEAAS,CAAC,eAAD,CAAzD,CAJf;AAKI,eAAW,EAAC,0BALhB,CAMI;AANJ;AAOI,QAAI,EAAE,gBAAM;AACRtE,iBAAW,CAAC,4UAAKR,QAAN;AAAgBF,eAAO,EAAE;AAAzB,SAAX;AACAO,6BAAuB,CAAC,KAAD,CAAvB;AACAJ,iBAAW,CAAC,4UAAKD,QAAN;AAAgBF,eAAO,EAAE;AAAzB,SAAX;AACH,KAXL;AAYI,OAAG,EAAC;AAZR,IA3HR,CAHJ,CADJ;AAiJH,CAlWD;;AAoWeiF,2HAAO,CAAC;AAAA,MAAGC,OAAH,SAAGA,OAAH;AAAA,MAAY5F,OAAZ,SAAYA,OAAZ;AAAA,SAA2B;AAC9CA,WAAO,EAAEA,OAAO,CAAC6F,OAAR,CAAgB,qBAAhB,CADqC;AAE9C3F,wBAAoB,EAAEF,OAAO,CAAC6F,OAAR,CAAgB,uBAAhB;AAFwB,GAA3B;AAAA,CAAD,CAAP,CAGXjG,WAHW,CAAf;AAKAA,WAAW,CAACkG,YAAZ,GAA2B;AACvB9F,SAAO,EAAE,KADc;AAEvBF,UAAQ,EAAE,IAFa;AAGvBC,YAAU,EAAE,IAHW;AAIvBG,sBAAoB,EAAE;AAJC,CAA3B,C","file":"x","sourcesContent":["/*\n * @Descripttion:渠道管理\n * @version:\n * @Author: yezi\n * @Date: 2021-06-03 14:24:26\n * @LastEditTime: 2021-09-08 13:25:44\n */\n\nimport React, { useState, useEffect } from 'react';\nimport type { FC } from 'react';\nimport { Row, Space, Button, message, notification, Modal, Col, Form, Input, Select, Tooltip, Dropdown, Menu } from 'antd';\nimport { PageHeaderWrapper } from '@ant-design/pro-layout';\nimport _styles from './index.less';\nimport { getPermission, isNumber, listToMap, objStringAttributeTrim, fileExport, getCookie } from '@/utils/utils';\nimport { DownOutlined } from '@ant-design/icons';\nimport MXTable from '@/pages/components/MXTable';\nimport BatchUpload from '@/pages/components/batchUpload';\nimport moment from 'moment';\nimport { CHANNELTYPE } from '@/utils/publicData';\nimport { connect, history, Link } from 'umi';\n\nconst date_format = 'YYYY-MM-DD HH:mm';\n\nconst openNotification = (type, message, description, placement?, duration = 3) => {\n    notification[type || 'info']({\n        message,\n        description,\n        placement,\n        duration: duration || 3\n    });\n};\n\n\nconst formItemLayout = {\n    labelCol: {\n        xs: { span: 8 },\n        sm: { span: 8 }\n    },\n    wrapperCol: {\n        xs: { span: 16 },\n        sm: { span: 16 }\n    }\n};\n\nconst channelList: FC<any> = (props) => {\n    const { authEdit, authExport, loading, dispatch, updateChannelLoading } = props;\n    const [form] = Form.useForm();\n    const [listData, setListData] = useState<any>({ list: [], total: 0 });                   // list data\n    const [pageData, setPageData] = useState<any>({ pageNum: 1, pageSize: 20 });             // 分页信息\n    const [selectedRowKeys, setSelectedRowKeys] = useState<number[]>([]);                    // 选中行\n    const [batchUploadModalFlag, setBatchUploadModalFlag] = useState<boolean>(false);        // 批量维护产品打新信息框\n    const [channelManagerList, setChannelManagerList] = useState<any[]>([]);                           // 承销商list\n\n    // 查询数据\n    const getListData = (params = { ...pageData }) => {\n        dispatch({\n            type: 'CHANNEL/getListData',\n            payload: {\n                ...objStringAttributeTrim(params),\n                sortFiled: 'createTime',\n                sortType: 'desc'\n            },\n            callback: ({ code, data, message }) => {\n                if (code === 1008) {\n                    setListData(data);\n                } else {\n                    const txt = message || data || '查询失败';\n                    openNotification('error', '提醒', txt);\n                }\n            }\n        });\n    };\n\n    // 获取渠道维护人list\n    const getChannelManagerList = () => {\n        dispatch({\n            type: 'global/getManagerList',\n            payload: { pageSize: 99999, pageNum: 1 },\n            callback: ({ code, data = {}, message }: any) => {\n                if (code === 1008) {\n                    setChannelManagerList(data.list || []);\n                } else {\n                    const txt = message || data || '获取渠道维护人失败！';\n                    openNotification('error', '提醒', txt);\n                }\n            }\n        });\n    };\n\n    useEffect(getChannelManagerList, []);\n    useEffect(getListData, []);\n\n    /**\n     * @description 更新渠道商\n     */\n    const updateChannel = (values) => {\n        dispatch({\n            type: 'CHANNEL/updateChannel',\n            payload: {},\n            callback: ({ code, data, message }: any) => {\n                if (code === 1008) {\n                    // getListData();\n                    openNotification('success', '提醒', '更新成功');\n                } else {\n                    const txt = message || data || '更新失败！';\n                    openNotification('error', '提醒', txt);\n                }\n            }\n        });\n    };\n\n\n    /**\n     * @description 重置\n     */\n    const reset = () => {\n        form.resetFields();\n        setSelectedRowKeys([]);\n        getListData({ ...pageData, pageNum: 1 });\n        setPageData({ ...pageData, pageNum: 1 });\n    };\n\n    /**\n    * @description: 表格变化\n    */\n    const _tableChange = (p, e, s) => {\n        const pageData = {\n            pageNum: p.current,\n            pageSize: p.pageSize\n        };\n        setPageData(pageData);\n        setSelectedRowKeys([]);\n        getListData({ ...form.getFieldsValue(), ...pageData });\n    };\n\n\n    // 下载文档\n    const _batchDownload = (params = {}) => {\n        fileExport({\n            method: 'post',\n            url: '/manager/channel/export',\n            data: {\n                ...params\n            },\n            callback: ({ status, message = '导出失败！' }) => {\n                if (status === 'success') {\n                    openNotification('success', '提醒', '导出成功');\n                }\n                if (status === 'error') {\n                    openNotification('error', '提醒', message);\n                }\n            }\n        });\n    };\n\n\n    // 表头\n    const columns = [\n        {\n            title: '渠道名称',\n            dataIndex: 'channelName',\n            width: 120,\n            fixed: 'left',\n            render: (val, record) => <Link to={`/channel/list/detail/${record.channelId}?channelName=${record.channelName}`}>{val}</Link>\n        },\n        {\n            title: '渠道类型',\n            dataIndex: 'channelType',\n            width: 100,\n            render: (val) => listToMap(CHANNELTYPE)[val]\n        },\n        {\n            title: '渠道维护人',\n            dataIndex: 'channelMaintenance',\n            width: 150,\n            ellipsis: true,\n            render: (arr: any[]) => {\n                if (Array.isArray(channelManagerList) && Array.isArray(arr)) {\n                    let strArr = [];\n                    channelManagerList.map((item) => {\n                        if (arr.includes(item.managerUserId)) {\n                            strArr.push(item.userName);\n                        }\n                    });\n                    return <p title={strArr.join(',')}>{strArr.join(',')}</p>;\n                } else {\n                    return '--';\n                }\n            }\n        },\n        {\n            title: '渠道编码',\n            dataIndex: 'encodingRules',\n            width: 200,\n            render: (val) => val ? <p title={val}>{val}</p> : '--'\n        },\n        {\n            title: '创建时间',\n            dataIndex: 'createTime',\n            width: 200,\n            render: (val) => val ? moment(val).format(date_format) : '--'\n        },\n        {\n            title: '修改时间',\n            dataIndex: 'updateTime',\n            width: 200,\n            render: (val) => val ? moment(val).format(date_format) : '--'\n        },\n        // {\n        //     title: '历史合作产品总数',\n        //     dataIndex: 'createTime',\n        //     width: 150,\n        //     render: (val: number) => isNumber(val) || '--'\n        // },\n        // {\n        //     title: '最新份额总计(万)',\n        //     dataIndex: 'title',\n        //     width: 200,\n        //     render: (val: number) => numTransform2(val)\n        // },\n        // {\n        //     title: '最新市值总计(万)',\n        //     dataIndex: 'title',\n        //     width: 200,\n        //     render: (val: number) => numTransform2(val)\n        // },\n        // {\n        //     title: '市值占比',\n        //     dataIndex: 'currentActivityNumber',\n        //     width: 100\n        // },\n        {\n            title: '备注',\n            dataIndex: 'note',\n            width: 200\n            // ellipsis: true\n        },\n        {\n            title: '操作',\n            width: 200,\n            render: (record) => (\n                <Space>\n                    <a onClick={() => history.push(`/channel/list/detail/${record.channelId}?channelName=${record.channelName}`)} >编辑</a>\n                </Space>\n            )\n        }\n    ];\n\n    const rowSelection = {\n        selectedRowKeys,\n        onChange: setSelectedRowKeys\n    };\n\n    return (\n        <PageHeaderWrapper\n            title=\"渠道管理\"\n        >\n            <div style={{ backgroundColor: 'white', padding: 15 }}>\n                <Form\n                    form={form}\n                    {...formItemLayout}\n                    onFinish={(values) => { getListData({ ...values, ...pageData, pageNum: 1 }); setPageData({ ...pageData, pageNum: 1 }); }}\n                >\n                    <Row gutter={[8, 0]}>\n                        <Col span={8}>\n                            <Form.Item label=\"渠道名称\" name=\"channelName\">\n                                <Input placeholder=\"请输入\" allowClear />\n                            </Form.Item>\n                        </Col>\n                        <Col span={8}>\n                            <Form.Item label=\"渠道类型\" name=\"channelType\">\n                                <Select placeholder=\"请选择\" allowClear>\n                                    {CHANNELTYPE.map((item) => {\n                                        return (\n                                            <Select.Option key={item.value} value={item.value}>\n                                                {item.label}\n                                            </Select.Option>\n                                        );\n                                    })}\n                                </Select>\n                            </Form.Item>\n                        </Col>\n                        <Col span={8}>\n                            <Form.Item label=\"渠道维护人\" name=\"channelMaintenance\">\n                                <Select\n                                    placeholder=\"请选择\"\n                                    allowClear\n                                    showSearch\n                                    mode=\"multiple\"\n                                    filterOption={(input, option) =>\n                                        option.children && option.children\n                                            .toLowerCase()\n                                            .indexOf(input.toLowerCase()) >= 0\n                                    }\n                                >\n                                    {\n                                        channelManagerList.map((item) => {\n                                            return <Select.Option key={item.managerUserId} value={item.managerUserId}>{item.userName}</Select.Option>;\n                                        })\n                                    }\n                                </Select>\n                            </Form.Item>\n                        </Col>\n                        <Col span={8}>\n                            <Form.Item label=\"备注\" name=\"note\">\n                                <Input placeholder=\"请输入\" allowClear />\n                            </Form.Item>\n                        </Col>\n\n                        <Col span={8} offset={8} style={{ textAlign: 'end' }}>\n                            <Space>\n                                <Button type=\"primary\" htmlType=\"submit\">\n                                    查询\n                                </Button>\n                                <Button htmlType=\"reset\" onClick={reset}>重置</Button>\n                            </Space>\n                        </Col>\n\n                    </Row>\n                </Form>\n                <Row>\n                    <Space>\n                        {authEdit &&\n                            <Button type=\"primary\" onClick={() => history.push('/channel/list/detail/0')}>\n                                新建\n                            </Button>\n                        }\n                        {/* {authEdit &&\n                            <Button type=\"primary\" onClick={() => setBatchUploadModalFlag(true)}>\n                                批量导入\n                            </Button>\n                        } */}\n                        {authExport &&\n                            <Dropdown\n                                overlay={<Menu>\n                                    <Menu.Item\n                                        key=\"1\"\n                                        disabled={selectedRowKeys.length === 0}\n                                        onClick={() => _batchDownload({ channelIds: selectedRowKeys })}\n                                    >\n                                        导出选中\n                                    </Menu.Item>\n                                    <Menu.Item\n                                        key=\"0\"\n                                        onClick={() => _batchDownload({ ...form.getFieldsValue() })}\n                                    >\n                                        导出全部\n                                    </Menu.Item>\n                                </Menu>}\n                            >\n                                <Button >\n                                    &nbsp;&nbsp;批量导出\n                                    <DownOutlined />\n                                </Button>\n                            </Dropdown>\n                        }\n                        {authEdit &&\n                            <Tooltip title=\"本操作需要重新将所有交易记录进行匹配，较慢，成功后会通过短信提醒告知\">\n                                <Button loading={updateChannelLoading} type=\"primary\" onClick={updateChannel}>\n                                    刷新匹配（请务必在新增或关联渠道后点击本按钮！）\n                                </Button>\n                            </Tooltip>\n                        }\n                    </Space>\n                </Row>\n                <MXTable\n                    loading={loading}\n                    rowSelection={rowSelection}\n                    columns={columns}\n                    dataSource={listData.list || []}\n                    rowKey=\"channelId\"\n                    scroll={{ x: '100%', scrollToFirstRowOnChange: true }}\n                    sticky\n                    total={listData.total}\n                    pageNum={pageData.pageNum}\n                    onChange={_tableChange}\n                />\n\n                {/* 批量导入 */}\n                {batchUploadModalFlag && (\n                    <BatchUpload\n                        accept={'.xlsx, .xls'}\n                        modalFlag={batchUploadModalFlag}\n                        closeModal={() => setBatchUploadModalFlag(false)}\n                        templateUrl={`/manager/channel/downloadTemplate?&tokenId=${getCookie('vipAdminToken',)}`}\n                        templateMsg=\"下载模板\"\n                        // params={{ productId: productId ? Number(productId) : undefined }}\n                        onOk={() => {\n                            getListData({ ...pageData, pageNum: 1 });\n                            setBatchUploadModalFlag(false);\n                            setPageData({ ...pageData, pageNum: 1 });\n                        }}\n                        url=\"/manager/channel/upload\"\n                    />\n                )}\n            </div>\n        </PageHeaderWrapper>\n    );\n};\n\nexport default connect(({ CHANNEL, loading }) => ({\n    loading: loading.effects['CHANNEL/getListData'],\n    updateChannelLoading: loading.effects['CHANNEL/updateChannel']\n}))(channelList);\n\nchannelList.defaultProps = {\n    loading: false,\n    authEdit: true,\n    authExport: true,\n    updateChannelLoading: false\n};\n"]}}