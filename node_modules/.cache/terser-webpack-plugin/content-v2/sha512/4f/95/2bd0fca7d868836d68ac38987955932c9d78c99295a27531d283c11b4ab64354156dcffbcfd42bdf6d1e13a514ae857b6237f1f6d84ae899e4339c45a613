{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[22],{VFRD:function(e,t,a){\"use strict\";a.r(t);a(\"IzEo\");var n=a(\"bx4M\"),r=(a(\"g9YV\"),a(\"wCAj\")),o=(a(\"DYRE\"),a(\"zeV3\")),i=(a(\"+L6B\"),a(\"2/Rp\")),l=a(\"k1fw\"),c=a(\"fWQN\"),s=a(\"mtLc\"),u=a(\"yKVA\"),d=a(\"879j\"),p=(a(\"/xke\"),a(\"TeRw\")),m=(a(\"OaEy\"),a(\"2fM7\")),g=(a(\"y8nQ\"),a(\"Vl3Y\")),f=a(\"q1tI\"),b=a.n(f),y=a(\"55Ip\"),h=a(\"9kvl\"),E=a(\"Hx5s\"),D=a(\"FRQA\"),R=a(\"nT/m\"),S=a(\"xvlK\"),I=a(\"sVoS\"),O=a.n(I),w=(a(\"LvDl\"),a(\"+n12\")),C=a(\"wd/R\"),_=a.n(C),v=(g[\"a\"].Item,m[\"a\"].Option,function(e,t,a,n,r){p[\"default\"][e||\"info\"]({message:t,description:a,placement:n,duration:r||3})}),N=function(e){Object(u[\"a\"])(a,e);var t=Object(d[\"a\"])(a);function a(){var e;Object(c[\"a\"])(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),e.state={pageData:{pageNum:1,pageSize:20},dataSource:{}},e.formRef=b.a.createRef(),e.columns=[{title:\"\\u53cc\\u5f55\\u7c7b\\u578b\",dataIndex:\"doubleType\",render:function(e){return e?Object(w[\"x\"])(R[\"p\"])[e]:\"--\"}},{title:\"\\u7cfb\\u7edf\\u53cc\\u5f55\\u7248\\u672c\\u53f7\",dataIndex:\"versionNumber\",width:130},{title:\"\\u6a21\\u677f\\u540d\\u79f0\",dataIndex:\"templateName\"},{title:\"\\u6a21\\u677f\\u72b6\\u6001\",dataIndex:\"isLatestVersion\",render:function(e,t){return 1===e&&1===t.publishStatus?\"\\u6709\\u6548\":\"\\u5931\\u6548\"}},{title:\"\\u521b\\u5efa\\u65f6\\u95f4\",dataIndex:\"createTime\",render:function(e){return e?_()(e).format(\"YYYY/MM/DD HH:mm\"):\"--\"}},{title:\"\\u521b\\u5efa\\u4eba\",dataIndex:\"userName\",render:function(e){return e||\"--\"}},{title:\"\\u53d1\\u5e03\\u72b6\\u6001\",dataIndex:\"publishStatus\",render:function(e){return 0===e?\"\\u7f16\\u8f91\\u4e2d\":\"\\u5df2\\u53d1\\u5e03\"}},{title:\"\\u64cd\\u4f5c\",render:function(e,t){return b.a.createElement(f[\"Fragment\"],null,2===t.doubleType?b.a.createElement(y[\"a\"],{to:\"/raisingInfo/doubleRecordConfig/aiMindDetails/\".concat(t.sysWordId)},1===t.publishStatus?\"\\u67e5\\u770b\":\"\\u7f16\\u8f91\"):b.a.createElement(y[\"a\"],{to:\"/raisingInfo/doubleRecordConfig/generalDoubleDetails/\".concat(t.sysWordId)},1===t.publishStatus?\"\\u67e5\\u770b\":\"\\u7f16\\u8f91\"))}}],e._onFinish=function(){e.setState({selectedRowKeys:[],pageData:Object(l[\"a\"])(Object(l[\"a\"])({},e.state.pageData),{},{pageNum:1})},(function(){e._search()}))},e._search=function(){var t=e.state.pageData,a=e.props.dispatch;a({type:\"DOUBLE_RECORD/templateList\",payload:Object(l[\"a\"])(Object(l[\"a\"])({},t),{},{sortFiled:\"updateTime\",sortType:\"desc\"}),callback:function(t){if(1008===t.code)e.setState({dataSource:t.data||{}});else{var a=t.message||t.data||\"\\u67e5\\u8be2\\u5931\\u8d25\\uff01\";v(\"warning\",\"\\u63d0\\u793a\\uff08\\u4ee3\\u7801\\uff1a\".concat(t.code,\"\\uff09\"),a,\"topRight\")}}})},e._reset=function(){e.formRef.current.resetFields(),e.state.pageData.pageNum=1,e.setState({selectedRowKeys:[]}),e._search()},e._tableChange=function(t,a,n){e.state.pageData.pageNum=t.current,e.state.pageData.pageSize=t.pageSize,e._search()},e._onAdd=function(e){1===e&&h[\"c\"].push({pathname:\"/raisingInfo/doubleRecordConfig/generalDoubleDetails/\".concat(0)}),2===e&&h[\"c\"].push({pathname:\"/raisingInfo/doubleRecordConfig/aiMindDetails/\".concat(0)})},e.rowClassName=function(e){return 1===e.isLatestVersion&&1===e.publishStatus?O.a.rowStyle:null},e}return Object(s[\"a\"])(a,[{key:\"componentDidMount\",value:function(){this._search()}},{key:\"render\",value:function(){var e=this,t=this.state,a=t.pageData,l=t.dataSource,c=this.props.loading,s=sessionStorage.getItem(\"defaultDoubleCheckType\"),u=sessionStorage.getItem(\"PERMISSION\")&&JSON.parse(sessionStorage.getItem(\"PERMISSION\"))[\"60200\"]||{},d=u.authEdit;return b.a.createElement(E[\"a\"],{title:\"\\u53cc\\u5f55\\u6a21\\u677f\\u914d\\u7f6e\\u5217\\u8868\"},b.a.createElement(D[\"a\"],null,b.a.createElement(n[\"a\"],{extra:b.a.createElement(i[\"a\"],{type:\"primary\",onClick:this._search},\"\\u5237\\u65b0\\u9875\\u9762\")},b.a.createElement(\"div\",{className:O.a.container},b.a.createElement(\"div\",{className:O.a.dataTable},b.a.createElement(\"div\",{className:O.a.operationBtn},\"1\"===s&&d&&b.a.createElement(i[\"a\"],{type:\"primary\",icon:b.a.createElement(S[\"a\"],null),onClick:function(){return e._onAdd(1)}},\"\\u65b0\\u5efa\\u666e\\u901a\\u53cc\\u5f55\"),\"2\"===s&&d&&b.a.createElement(i[\"a\"],{type:\"primary\",icon:b.a.createElement(S[\"a\"],null),onClick:function(){return e._onAdd(2)}},\"\\u65b0\\u5efaAI\\u53cc\\u5f55\"),\"3\"===s&&d&&b.a.createElement(o[\"b\"],null,b.a.createElement(i[\"a\"],{type:\"primary\",icon:b.a.createElement(S[\"a\"],null),onClick:function(){return e._onAdd(1)}},\"\\u65b0\\u5efa\\u666e\\u901a\\u53cc\\u5f55\"),b.a.createElement(i[\"a\"],{type:\"primary\",icon:b.a.createElement(S[\"a\"],null),onClick:function(){return e._onAdd(2)}},\"\\u65b0\\u5efaAI\\u53cc\\u5f55\")),b.a.createElement(\"span\",{className:O.a.note},\"\\u6ce8\\uff1a\\u540c\\u4e00\\u65f6\\u95f4\\u4ec5\\u6709\\u4e00\\u4e2a\\u8bdd\\u672f\\u751f\\u6548\")),b.a.createElement(r[\"a\"],{loading:c,columns:this.columns,rowKey:\"sysWordId\",dataSource:l.list||[],scroll:{x:\"100%\",scrollToFirstRowOnChange:!0},pagination:Object(R[\"Rb\"])(l.total,a.pageNum),onChange:function(t,a,n){return e._tableChange(t,a,n)}}))))))}}]),a}(f[\"PureComponent\"]);t[\"default\"]=Object(h[\"b\"])((function(e){var t=e.DOUBLE_RECORD,a=e.loading;return{DOUBLE_RECORD:t,loading:a.effects[\"DOUBLE_RECORD/templateList\"]}}))(N)},sVoS:function(e,t,a){e.exports={container:\"antd-pro-pages-double-record-config-list-style-container\",filter:\"antd-pro-pages-double-record-config-list-style-filter\",btnGroup:\"antd-pro-pages-double-record-config-list-style-btnGroup\",dataTable:\"antd-pro-pages-double-record-config-list-style-dataTable\",rowStyle:\"antd-pro-pages-double-record-config-list-style-rowStyle\",operationBtn:\"antd-pro-pages-double-record-config-list-style-operationBtn\",note:\"antd-pro-pages-double-record-config-list-style-note\"}}}]);","name":"p__doubleRecordConfig__list.async.js?v=1647342498084","map":{"version":3,"sources":["p__doubleRecordConfig__list.async.js?v=1647342498084"],"names":["window","push","VFRD","module","__webpack_exports__","__webpack_require__","r","antd_es_card__WEBPACK_IMPORTED_MODULE_1__","antd_es_table__WEBPACK_IMPORTED_MODULE_3__","antd_es_space__WEBPACK_IMPORTED_MODULE_5__","antd_es_button__WEBPACK_IMPORTED_MODULE_7__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_8__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_9__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_10__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_11__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_12__","antd_es_notification__WEBPACK_IMPORTED_MODULE_14__","antd_es_select__WEBPACK_IMPORTED_MODULE_16__","antd_es_form__WEBPACK_IMPORTED_MODULE_18__","react__WEBPACK_IMPORTED_MODULE_19__","react__WEBPACK_IMPORTED_MODULE_19___default","n","umi__WEBPACK_IMPORTED_MODULE_20__","umi__WEBPACK_IMPORTED_MODULE_21__","_ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_22__","_ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_23__","_utils_publicData__WEBPACK_IMPORTED_MODULE_24__","_ant_design_icons__WEBPACK_IMPORTED_MODULE_25__","_style_less_modules__WEBPACK_IMPORTED_MODULE_26__","_style_less_modules__WEBPACK_IMPORTED_MODULE_26___default","_utils_utils__WEBPACK_IMPORTED_MODULE_28__","moment__WEBPACK_IMPORTED_MODULE_29__","moment__WEBPACK_IMPORTED_MODULE_29___default","openNotification","Item","Option","type","message","description","placement","duration","List","_PureComponent","Object","_super","_this","this","_len","arguments","length","args","Array","_key","call","apply","concat","state","pageData","pageNum","pageSize","dataSource","formRef","a","createRef","columns","title","dataIndex","render","val","width","record","publishStatus","time","format","_","createElement","doubleType","to","sysWordId","_onFinish","setState","selectedRowKeys","_search","dispatch","props","payload","sortFiled","sortType","callback","res","code","data","warningText","_reset","current","resetFields","_tableChange","p","e","s","_onAdd","pathname","rowClassName","isLatestVersion","rowStyle","key","value","_this2","_this$state","loading","defaultDoubleCheckType","sessionStorage","getItem","_ref","JSON","parse","authEdit","extra","onClick","className","container","dataTable","operationBtn","icon","note","rowKey","list","scroll","x","scrollToFirstRowOnChange","pagination","total","onChange","_ref2","DOUBLE_RECORD","effects","sVoS","exports","filter","btnGroup"],"mappings":"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"},"input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[22],{\n\n/***/ \"VFRD\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var antd_es_card_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"IzEo\");\n/* harmony import */ var antd_es_card__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"bx4M\");\n/* harmony import */ var antd_es_table_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"g9YV\");\n/* harmony import */ var antd_es_table__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"wCAj\");\n/* harmony import */ var antd_es_space_style__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"DYRE\");\n/* harmony import */ var antd_es_space__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"zeV3\");\n/* harmony import */ var antd_es_button_style__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"+L6B\");\n/* harmony import */ var antd_es_button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"2/Rp\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"k1fw\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"fWQN\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"mtLc\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"yKVA\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"879j\");\n/* harmony import */ var antd_es_notification_style__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"/xke\");\n/* harmony import */ var antd_es_notification__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"TeRw\");\n/* harmony import */ var antd_es_select_style__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"OaEy\");\n/* harmony import */ var antd_es_select__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"2fM7\");\n/* harmony import */ var antd_es_form_style__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"y8nQ\");\n/* harmony import */ var antd_es_form__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"Vl3Y\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony import */ var umi__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(\"55Ip\");\n/* harmony import */ var umi__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(\"9kvl\");\n/* harmony import */ var _ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(\"Hx5s\");\n/* harmony import */ var _ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(\"FRQA\");\n/* harmony import */ var _utils_publicData__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(\"nT/m\");\n/* harmony import */ var _ant_design_icons__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(\"xvlK\");\n/* harmony import */ var _style_less_modules__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(\"sVoS\");\n/* harmony import */ var _style_less_modules__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(_style_less_modules__WEBPACK_IMPORTED_MODULE_26__);\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(\"LvDl\");\n/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_27__);\n/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(\"+n12\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(\"wd/R\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_29___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_29__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*\n * @description: 智能双录列表\n * @Author: tangsc\n * @Date: 2020-12-01 15:35:06\n */\n\n\n\n\n\n\n\n\n // 设置日期格式\n\nvar dateFormat = 'YYYY/MM/DD';\nvar FormItem = antd_es_form__WEBPACK_IMPORTED_MODULE_18__[/* default */ \"a\"].Item;\nvar Option = antd_es_select__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"].Option; // 提示信息\n\nvar openNotification = function openNotification(type, message, description, placement, duration) {\n  antd_es_notification__WEBPACK_IMPORTED_MODULE_14__[\"default\"][type || 'info']({\n    message: message,\n    description: description,\n    placement: placement,\n    duration: duration || 3\n  });\n};\n\nvar List = /*#__PURE__*/function (_PureComponent) {\n  Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"])(List, _PureComponent);\n\n  var _super = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"])(List);\n\n  function List() {\n    var _this;\n\n    Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"])(this, List);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      pageData: {\n        // 当前的分页数据\n        pageNum: 1,\n        pageSize: 20\n      },\n      dataSource: {}\n    };\n    _this.formRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default.a.createRef();\n    _this.columns = [{\n      title: '双录类型',\n      dataIndex: 'doubleType',\n      render: function render(val) {\n        return val ? Object(_utils_utils__WEBPACK_IMPORTED_MODULE_28__[/* listToMap */ \"x\"])(_utils_publicData__WEBPACK_IMPORTED_MODULE_24__[/* DOUBLE_RECORD_TYPE */ \"p\"])[val] : '--';\n      }\n    }, {\n      title: '系统双录版本号',\n      dataIndex: 'versionNumber',\n      width: 130\n    }, {\n      title: '模板名称',\n      dataIndex: 'templateName'\n    }, {\n      title: '模板状态',\n      dataIndex: 'isLatestVersion',\n      render: function render(val, record) {\n        return val === 1 && record.publishStatus === 1 ? '有效' : '失效';\n      }\n    }, {\n      title: '创建时间',\n      dataIndex: 'createTime',\n      // sorter: true,\n      render: function render(time) {\n        return time ? moment__WEBPACK_IMPORTED_MODULE_29___default()(time).format('YYYY/MM/DD HH:mm') : '--';\n      }\n    }, {\n      title: '创建人',\n      dataIndex: 'userName',\n      render: function render(val) {\n        return val || '--';\n      }\n    }, {\n      title: '发布状态',\n      dataIndex: 'publishStatus',\n      render: function render(val) {\n        return val === 0 ? '编辑中' : '已发布';\n      }\n    }, {\n      title: '操作',\n      render: function render(_, record) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_19__[\"Fragment\"], null, record.doubleType === 2 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(umi__WEBPACK_IMPORTED_MODULE_20__[/* Link */ \"a\"], {\n          to: \"/raisingInfo/doubleRecordConfig/aiMindDetails/\".concat(record.sysWordId)\n        }, record.publishStatus === 1 ? '查看' : '编辑') : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(umi__WEBPACK_IMPORTED_MODULE_20__[/* Link */ \"a\"], {\n          to: \"/raisingInfo/doubleRecordConfig/generalDoubleDetails/\".concat(record.sysWordId)\n        }, record.publishStatus === 1 ? '查看' : '编辑'));\n      }\n    }];\n\n    _this._onFinish = function () {\n      _this.setState({\n        selectedRowKeys: [],\n        pageData: Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"])(Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"])({}, _this.state.pageData), {}, {\n          pageNum: 1 // pageSize: 20\n\n        })\n      }, function () {\n        _this._search();\n      }); // console.log('test');\n\n    };\n\n    _this._search = function () {\n      // const formData = this.formRef.current.getFieldsValue();\n      var pageData = _this.state.pageData;\n      var dispatch = _this.props.dispatch;\n      dispatch({\n        type: 'DOUBLE_RECORD/templateList',\n        payload: Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"])(Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"])({}, pageData), {}, {\n          sortFiled: 'updateTime',\n          sortType: 'desc'\n        }),\n        callback: function callback(res) {\n          if (res.code === 1008) {\n            _this.setState({\n              dataSource: res.data || {}\n            });\n          } else {\n            var warningText = res.message || res.data || '查询失败！';\n            openNotification('warning', \"\\u63D0\\u793A\\uFF08\\u4EE3\\u7801\\uFF1A\".concat(res.code, \"\\uFF09\"), warningText, 'topRight');\n          }\n        }\n      });\n    };\n\n    _this._reset = function () {\n      _this.formRef.current.resetFields(); // eslint-disable-next-line react/no-direct-mutation-state\n\n\n      _this.state.pageData.pageNum = 1;\n\n      _this.setState({\n        selectedRowKeys: []\n      });\n\n      _this._search();\n    };\n\n    _this._tableChange = function (p, e, s) {\n      // eslint-disable-next-line react/no-direct-mutation-state\n      _this.state.pageData.pageNum = p.current; // eslint-disable-next-line react/no-direct-mutation-state\n\n      _this.state.pageData.pageSize = p.pageSize;\n\n      _this._search();\n    };\n\n    _this._onAdd = function (type) {\n      if (type === 1) {\n        umi__WEBPACK_IMPORTED_MODULE_21__[/* history */ \"c\"].push({\n          pathname: \"/raisingInfo/doubleRecordConfig/generalDoubleDetails/\".concat(0)\n        });\n      }\n\n      if (type === 2) {\n        umi__WEBPACK_IMPORTED_MODULE_21__[/* history */ \"c\"].push({\n          pathname: \"/raisingInfo/doubleRecordConfig/aiMindDetails/\".concat(0)\n        });\n      }\n    };\n\n    _this.rowClassName = function (record) {\n      if (record.isLatestVersion === 1 && record.publishStatus === 1) return _style_less_modules__WEBPACK_IMPORTED_MODULE_26___default.a.rowStyle;\n      return null;\n    };\n\n    return _this;\n  }\n\n  Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"])(List, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._search();\n    } // 表单实例对象\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          pageData = _this$state.pageData,\n          dataSource = _this$state.dataSource;\n      var loading = this.props.loading; // eslint-disable-next-line no-undef\n\n      var defaultDoubleCheckType = sessionStorage.getItem('defaultDoubleCheckType'); // eslint-disable-next-line no-undef\n\n      var _ref = sessionStorage.getItem('PERMISSION') && JSON.parse(sessionStorage.getItem('PERMISSION'))['60200'] || {},\n          authEdit = _ref.authEdit;\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(_ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_22__[/* PageHeaderWrapper */ \"a\"], {\n        title: \"\\u53CC\\u5F55\\u6A21\\u677F\\u914D\\u7F6E\\u5217\\u8868\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(_ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_23__[/* default */ \"a\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_card__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"], {\n        extra: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n          type: \"primary\",\n          onClick: this._search\n        }, \"\\u5237\\u65B0\\u9875\\u9762\")\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(\"div\", {\n        className: _style_less_modules__WEBPACK_IMPORTED_MODULE_26___default.a.container\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(\"div\", {\n        className: _style_less_modules__WEBPACK_IMPORTED_MODULE_26___default.a.dataTable\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(\"div\", {\n        className: _style_less_modules__WEBPACK_IMPORTED_MODULE_26___default.a.operationBtn\n      }, defaultDoubleCheckType === '1' && authEdit && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n        type: \"primary\",\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(_ant_design_icons__WEBPACK_IMPORTED_MODULE_25__[/* default */ \"a\"], null),\n        onClick: function onClick() {\n          return _this2._onAdd(1);\n        }\n      }, \"\\u65B0\\u5EFA\\u666E\\u901A\\u53CC\\u5F55\"), defaultDoubleCheckType === '2' && authEdit && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n        type: \"primary\",\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(_ant_design_icons__WEBPACK_IMPORTED_MODULE_25__[/* default */ \"a\"], null),\n        onClick: function onClick() {\n          return _this2._onAdd(2);\n        }\n      }, \"\\u65B0\\u5EFAAI\\u53CC\\u5F55\"), defaultDoubleCheckType === '3' && authEdit && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_space__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"b\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n        type: \"primary\",\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(_ant_design_icons__WEBPACK_IMPORTED_MODULE_25__[/* default */ \"a\"], null),\n        onClick: function onClick() {\n          return _this2._onAdd(1);\n        }\n      }, \"\\u65B0\\u5EFA\\u666E\\u901A\\u53CC\\u5F55\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n        type: \"primary\",\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(_ant_design_icons__WEBPACK_IMPORTED_MODULE_25__[/* default */ \"a\"], null),\n        onClick: function onClick() {\n          return _this2._onAdd(2);\n        }\n      }, \"\\u65B0\\u5EFAAI\\u53CC\\u5F55\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(\"span\", {\n        className: _style_less_modules__WEBPACK_IMPORTED_MODULE_26___default.a.note\n      }, \"\\u6CE8\\uFF1A\\u540C\\u4E00\\u65F6\\u95F4\\u4EC5\\u6709\\u4E00\\u4E2A\\u8BDD\\u672F\\u751F\\u6548\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_table__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], {\n        loading: loading,\n        columns: this.columns,\n        rowKey: \"sysWordId\",\n        dataSource: dataSource.list || [],\n        scroll: {\n          x: '100%',\n          scrollToFirstRowOnChange: true\n        },\n        pagination: Object(_utils_publicData__WEBPACK_IMPORTED_MODULE_24__[/* paginationPropsback */ \"Rb\"])(dataSource.total, pageData.pageNum),\n        onChange: function onChange(p, e, s) {\n          return _this2._tableChange(p, e, s);\n        } // rowClassName={this.rowClassName}\n\n      }))))));\n    }\n  }]);\n\n  return List;\n}(react__WEBPACK_IMPORTED_MODULE_19__[\"PureComponent\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(umi__WEBPACK_IMPORTED_MODULE_21__[/* connect */ \"b\"])(function (_ref2) {\n  var DOUBLE_RECORD = _ref2.DOUBLE_RECORD,\n      loading = _ref2.loading;\n  return {\n    DOUBLE_RECORD: DOUBLE_RECORD,\n    loading: loading.effects['DOUBLE_RECORD/templateList']\n  };\n})(List));\n\n/***/ }),\n\n/***/ \"sVoS\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"antd-pro-pages-double-record-config-list-style-container\",\"filter\":\"antd-pro-pages-double-record-config-list-style-filter\",\"btnGroup\":\"antd-pro-pages-double-record-config-list-style-btnGroup\",\"dataTable\":\"antd-pro-pages-double-record-config-list-style-dataTable\",\"rowStyle\":\"antd-pro-pages-double-record-config-list-style-rowStyle\",\"operationBtn\":\"antd-pro-pages-double-record-config-list-style-operationBtn\",\"note\":\"antd-pro-pages-double-record-config-list-style-note\"};\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["E:/公司代码/MRP报表/vip-manager/src/pages/doubleRecordConfig/list/index.jsx","E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\bundler-webpack\\lib\\webpack\\plugins\\mini-css-extract-plugin\\src\\loader.js??ref--13-oneOf-0-0!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\css-loader\\cjs.js??ref--13-oneOf-0-1!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\postcss-loader\\src\\index.js??postcss!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\less-loader\\cjs.js??ref--13-oneOf-0-3!E:\\公司代码\\MRP报表\\vip-manager\\src\\pages\\doubleRecordConfig\\list\\style.less?modules"],"names":["dateFormat","FormItem","Item","Option","openNotification","type","message","description","placement","duration","List","state","pageData","pageNum","pageSize","dataSource","formRef","React","createRef","columns","title","dataIndex","render","val","listToMap","DOUBLE_RECORD_TYPE","width","record","publishStatus","time","moment","format","_","doubleType","sysWordId","_onFinish","setState","selectedRowKeys","_search","dispatch","props","payload","sortFiled","sortType","callback","res","code","data","warningText","_reset","current","resetFields","_tableChange","p","e","s","_onAdd","history","push","pathname","rowClassName","isLatestVersion","styles","rowStyle","loading","defaultDoubleCheckType","sessionStorage","getItem","JSON","parse","authEdit","container","dataTable","operationBtn","note","list","x","scrollToFirstRowOnChange","paginationPropsback","total","PureComponent","connect","DOUBLE_RECORD","effects"],"mappings":"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","file":"x","sourcesContent":["/*\n * @description: 智能双录列表\n * @Author: tangsc\n * @Date: 2020-12-01 15:35:06\n */\nimport React, { PureComponent, Fragment } from 'react';\nimport { history, connect, Link } from 'umi';\nimport { Button, Row, Col, Form, Space, Table, notification, Select, Card } from 'antd';\nimport { GridContent, PageHeaderWrapper } from '@ant-design/pro-layout';\nimport {\n    DOUBLE_RECORD_TYPE,\n    paginationPropsback\n} from '@/utils/publicData';\nimport { PlusOutlined } from '@ant-design/icons';\nimport styles from './style.less';\nimport { isEmpty } from 'lodash';\nimport { listToMap, getCookie } from '@/utils/utils';\nimport moment from 'moment';\n\n// 设置日期格式\nconst dateFormat = 'YYYY/MM/DD';\n\nconst FormItem = Form.Item;\nconst { Option } = Select;\n\n\n// 提示信息\nconst openNotification = (type, message, description, placement, duration) => {\n    notification[type || 'info']({\n        message,\n        description,\n        placement,\n        duration: duration || 3\n    });\n};\n\n\nclass List extends PureComponent {\n    state = {\n        pageData: {\n            // 当前的分页数据\n            pageNum: 1,\n            pageSize: 20\n        },\n        dataSource: {}\n    };\n\n\n    componentDidMount() {\n        this._search();\n    }\n\n    // 表单实例对象\n    formRef = React.createRef();\n\n    // Table的列\n    columns = [\n        {\n            title: '双录类型',\n            dataIndex: 'doubleType',\n            render: (val) => (val ? listToMap(DOUBLE_RECORD_TYPE)[val] : '--')\n        },\n        {\n            title: '系统双录版本号',\n            dataIndex: 'versionNumber',\n            width:130\n        },\n        {\n            title: '模板名称',\n            dataIndex: 'templateName'\n        },\n        {\n            title: '模板状态',\n            dataIndex: 'isLatestVersion',\n            render: (val, record) => (val === 1 && record.publishStatus === 1) ? '有效' : '失效'\n        },\n        {\n            title: '创建时间',\n            dataIndex: 'createTime',\n            // sorter: true,\n            render: (time) => time ? moment(time).format('YYYY/MM/DD HH:mm') : '--'\n        },\n        {\n            title: '创建人',\n            dataIndex: 'userName',\n            render: (val) => (val || '--')\n        },\n        {\n            title: '发布状态',\n            dataIndex: 'publishStatus',\n            render: (val) => val === 0 ? '编辑中' : '已发布'\n        },\n        {\n            title: '操作',\n            render: (_, record) => (\n\n                <Fragment>\n                    {/* <Link to={`/raisingInfo/doubleRecordConfig/generalDoubleDetails/${record.sysWordId}`}>{(record.isLatestVersion === 1 && record.publishStatus === 1) ? '查看' : '编辑'}</Link> */}\n                    {\n                        record.doubleType === 2 ?\n                            <Link to={`/raisingInfo/doubleRecordConfig/aiMindDetails/${record.sysWordId}`}>{(record.publishStatus === 1) ? '查看' : '编辑'}</Link>\n                            :\n                            <Link to={`/raisingInfo/doubleRecordConfig/generalDoubleDetails/${record.sysWordId}`}>{(record.publishStatus === 1) ? '查看' : '编辑'}</Link>\n                    }\n                </Fragment>\n\n\n            )\n        }\n    ];\n\n    /**\n     * @description: 表单提交事件\n     * @param {Object} values\n     */\n    _onFinish = () => {\n        this.setState({\n            selectedRowKeys:[],\n            pageData: {\n                // 当前的分页数据\n                ...this.state.pageData,\n                pageNum: 1,\n                // pageSize: 20\n            }\n        }, ()=>{\n            this._search();\n        });\n\n        // console.log('test');\n    };\n\n\n    /**\n     * @description: 列表查询\n     */\n    _search = () => {\n\n        // const formData = this.formRef.current.getFieldsValue();\n        const { pageData } = this.state;\n        const { dispatch } = this.props;\n\n        dispatch({\n            type: 'DOUBLE_RECORD/templateList',\n            payload: {\n                // ...formData,\n                ...pageData,\n                sortFiled: 'updateTime',\n                sortType: 'desc'\n            },\n            callback: (res) => {\n                if (res.code === 1008) {\n                    this.setState({\n                        dataSource: res.data || {}\n                    });\n                } else {\n                    const warningText = res.message || res.data || '查询失败！';\n                    openNotification('warning', `提示（代码：${res.code}）`, warningText, 'topRight');\n                }\n            }\n        });\n    }\n\n    /**\n     * @description:重置过滤条件\n     */\n    _reset = () => {\n        this.formRef.current.resetFields();\n        // eslint-disable-next-line react/no-direct-mutation-state\n        this.state.pageData.pageNum = 1;\n        this.setState({\n            selectedRowKeys:[],\n        })\n        this._search();\n    };\n\n\n    /**\n     * @description: 表格变化\n     */\n    _tableChange = (p, e, s) => {\n        // eslint-disable-next-line react/no-direct-mutation-state\n        this.state.pageData.pageNum = p.current;\n        // eslint-disable-next-line react/no-direct-mutation-state\n        this.state.pageData.pageSize = p.pageSize;\n        this._search();\n    }\n\n\n    /**\n     * @description: 新建AI智能双录\n     */\n    _onAdd = (type) => {\n        if (type === 1) {\n            history.push({\n                pathname: `/raisingInfo/doubleRecordConfig/generalDoubleDetails/${0}`\n            });\n        }\n\n        if (type === 2) {\n            history.push({\n                pathname: `/raisingInfo/doubleRecordConfig/aiMindDetails/${0}`\n            });\n        }\n\n    };\n\n    rowClassName = (record) => {\n        if (record.isLatestVersion === 1 && record.publishStatus === 1) return styles.rowStyle;\n        return null;\n    }\n\n\n    render() {\n        const { pageData, dataSource } = this.state;\n        const { loading } = this.props;\n        // eslint-disable-next-line no-undef\n        const defaultDoubleCheckType = sessionStorage.getItem('defaultDoubleCheckType');\n        // eslint-disable-next-line no-undef\n        const { authEdit } = sessionStorage.getItem('PERMISSION') && JSON.parse(sessionStorage.getItem('PERMISSION'))['60200'] || {};\n\n        return (\n            <PageHeaderWrapper title=\"双录模板配置列表\" >\n                <GridContent>\n                    <Card extra={<Button type=\"primary\" onClick={this._search}>刷新页面</Button>}>\n                        <div className={styles.container}>\n                            {/* <div className={styles.filter}>\n                                <Form name=\"basic\" onFinish={this._onFinish} ref={this.formRef} labelCol={{ span: 8 }}>\n                                    <Row gutter={[8, 0]}>\n                                        <Col span={8}>\n                                            <FormItem label=\"双录类型\" name=\"doubleType\">\n                                                <Select allowClear placeholder=\"请选择双录类型\">\n                                                    {\n                                                        DOUBLE_RECORD_TYPE.map((item, index) => (<Select.Option key={index} value={item.value}>{item.label}</Select.Option>))\n                                                    }\n                                                </Select>\n                                            </FormItem>\n                                        </Col>\n                                        <Col span={16} className={styles.btnGroup}>\n                                            <Button type=\"primary\" htmlType=\"submit\">\n                                                查询\n                                            </Button>\n                                            <Button onClick={this._reset}>重置</Button>\n                                        </Col>\n                                    </Row>\n                                </Form>\n                            </div> */}\n                            <div className={styles.dataTable}>\n                                <div className={styles.operationBtn}>\n                                    {(defaultDoubleCheckType === '1' && authEdit) &&\n                                        <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => this._onAdd(1)}>\n                                            新建普通双录\n                                        </Button>\n                                    }\n\n                                    {\n                                        (defaultDoubleCheckType === '2' && authEdit) &&\n                                        <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => this._onAdd(2)}>\n                                            新建AI双录\n                                        </Button>\n                                    }\n\n                                    {\n                                        (defaultDoubleCheckType === '3' && authEdit) &&\n                                        <Space>\n                                            <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => this._onAdd(1)}>\n                                                新建普通双录\n                                            </Button>\n                                            <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => this._onAdd(2)}>\n                                                新建AI双录\n                                            </Button>\n                                        </Space>\n                                    }\n\n                                    <span className={styles.note}>注：同一时间仅有一个话术生效</span>\n                                </div>\n                                <Table\n                                    loading={loading}\n                                    columns={this.columns}\n                                    rowKey=\"sysWordId\"\n                                    dataSource={dataSource.list || []}\n                                    scroll={{ x: '100%', scrollToFirstRowOnChange:true }}\n                                    pagination={paginationPropsback(\n                                        dataSource.total,\n                                        pageData.pageNum\n                                    )}\n                                    onChange={(p, e, s) => this._tableChange(p, e, s)}\n                                // rowClassName={this.rowClassName}\n                                />\n                            </div>\n                        </div>\n                    </Card>\n                </GridContent>\n            </PageHeaderWrapper>\n\n        );\n    }\n}\n\n\nexport default connect(({ DOUBLE_RECORD, loading }) => ({\n    DOUBLE_RECORD,\n    loading: loading.effects['DOUBLE_RECORD/templateList']\n}))(List);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"antd-pro-pages-double-record-config-list-style-container\",\"filter\":\"antd-pro-pages-double-record-config-list-style-filter\",\"btnGroup\":\"antd-pro-pages-double-record-config-list-style-btnGroup\",\"dataTable\":\"antd-pro-pages-double-record-config-list-style-dataTable\",\"rowStyle\":\"antd-pro-pages-double-record-config-list-style-rowStyle\",\"operationBtn\":\"antd-pro-pages-double-record-config-list-style-operationBtn\",\"note\":\"antd-pro-pages-double-record-config-list-style-note\"};"]}}