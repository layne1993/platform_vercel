{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[12],{Xff7:function(e,t,n){\"use strict\";n.r(t);n(\"T2oS\");var a=n(\"W9HT\"),s=n(\"9og8\"),o=n(\"fWQN\"),r=n(\"mtLc\"),i=n(\"tS8v\"),c=n(\"yKVA\"),u=n(\"879j\"),l=n(\"WmNS\"),m=n.n(l),p=n(\"Hx5s\"),h=n(\"FRQA\"),w=n(\"q1tI\"),d=n.n(w),f=n(\"b4+V\"),g=n.n(f),S=n(\"AEkp\"),y=n(\"T96l\"),v=n(\"oHI1\"),b=function(e){Object(c[\"a\"])(n,e);var t=Object(u[\"a\"])(n);function n(e){var a;return Object(o[\"a\"])(this,n),a=t.call(this,e),a.cancel=function(){var e=Object(i[\"a\"])(a);e.setState({show:!1,isShow:!1},(function(){setTimeout((function(){e.setState({show:!0})}),100)}))},a.showInsert=function(e){var t=Object(i[\"a\"])(a);t.setState({show:!1,isShow:!0,currentComponent:e},(function(){setTimeout((function(){t.setState({show:!0})}),100)}))},a.deleteComponent=function(){var e=Object(s[\"a\"])(m.a.mark((function e(t){var n,s;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={moduleTypes:[t],roleType:\"marketmanager\"},e.next=3,S[\"a\"].postJSON(\"/mrp_analysis/simuAnalysisModule/deleteModules\",n);case 3:s=e.sent,console.log(s),a.getAllComponent();case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getAllComponent=Object(s[\"a\"])(m.a.mark((function e(){var t,n,s,o,r;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.setState({loading:!0}),t={roleType:\"marketmanager\"},e.next=4,S[\"a\"].postJSON(\"/mrp_analysis/simuAnalysisModule/getRoleModules\",t);case 4:if(n=e.sent,s=[],\"\\u6210\\u529f\"==n.message){for(o=0;o<n.data.length;o++)s.push(n.data[o].moduletype);r=Object(i[\"a\"])(a),r.setState({show:!1,com:s,loading:!1},(function(){setTimeout((function(){r.setState({show:!0})}),100)}))}case 7:case\"end\":return e.stop()}}),e)}))),a.insertNow=function(){var e=Object(s[\"a\"])(m.a.mark((function e(t){var n,s;return m.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.setState({isShow:!1,loading:!0}),n={moduleTypes:t,roleType:\"marketmanager\"},console.log(n),e.next=5,S[\"a\"].postJSON(\"/mrp_analysis/simuAnalysisModule/addModules\",n);case 5:s=e.sent,\"\\u6210\\u529f\"==s.message&&(a.getAllComponent(),a.setState({loading:!1}));case 7:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={com:[\"YWFX_0001\",\"YWFX_0002\",\"YWFX_0003\",\"YWFX_0004\",\"YWFX_0005\",\"YWFX_0007\",\"YWFX_0011\",\"YWFX_0013\",\"YWFX_0014\"],isShow:!1,currentComponent:\"\",loading:!1,show:!1},a}return Object(r[\"a\"])(n,[{key:\"componentDidMount\",value:function(){this.getAllComponent()}},{key:\"render\",value:function(){return d.a.createElement(p[\"a\"],{title:\"\\u5e02\\u573a\\u7ecf\\u7406\\u62a5\\u544a\"},d.a.createElement(h[\"a\"],{className:g.a.tabsCard},d.a.createElement(a[\"a\"],{spinning:this.state.loading},this.state.show?d.a.createElement(v[\"a\"],{com:this.state.com,showInsert:this.showInsert,delete:this.deleteComponent}):\"\",d.a.createElement(y[\"a\"],{isShow:this.state.isShow,cancel:this.cancel,allComponents:this.state.com,insertNow:this.insertNow,currentComponent:this.state.currentComponent}))))}}]),n}(w[\"Component\"]);t[\"default\"]=b},\"b4+V\":function(e,t,n){}}]);","name":"p__businessAnalysis__marketManager.async.js?v=1646125392535","map":{"version":3,"sources":["p__businessAnalysis__marketManager.async.js?v=1646125392535"],"names":["window","push","Xff7","module","__webpack_exports__","__webpack_require__","r","antd_es_spin__WEBPACK_IMPORTED_MODULE_1__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_7__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default","n","_ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_9__","_ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_10__","react__WEBPACK_IMPORTED_MODULE_11__","react__WEBPACK_IMPORTED_MODULE_11___default","_style_less_modules__WEBPACK_IMPORTED_MODULE_12__","_style_less_modules__WEBPACK_IMPORTED_MODULE_12___default","_utils_rest__WEBPACK_IMPORTED_MODULE_13__","_components_insert_InsertIndex__WEBPACK_IMPORTED_MODULE_14__","_components_pageConponents_index__WEBPACK_IMPORTED_MODULE_15__","MarketManage","_Component","Object","_super","props","_this","this","call","cancel","that","setState","show","isShow","setTimeout","showInsert","value","currentComponent","deleteComponent","_ref","a","mark","_callee","e","post","res","wrap","_context","prev","next","moduleTypes","roleType","postJSON","sent","console","log","getAllComponent","stop","_x","apply","arguments","_callee2","arr","i","_context2","loading","message","data","length","moduletype","com","insertNow","_ref3","_callee3","_context3","_x2","state","key","createElement","title","className","tabsCard","spinning","delete","allComponents","b4+V","exports"],"mappings":"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"},"input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[12],{\n\n/***/ \"Xff7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var antd_es_spin_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"T2oS\");\n/* harmony import */ var antd_es_spin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"W9HT\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"9og8\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"fWQN\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"mtLc\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"tS8v\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"yKVA\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"879j\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"WmNS\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"Hx5s\");\n/* harmony import */ var _ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"FRQA\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _style_less_modules__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"b4+V\");\n/* harmony import */ var _style_less_modules__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_style_less_modules__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _utils_rest__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"AEkp\");\n/* harmony import */ var _components_insert_InsertIndex__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"T96l\");\n/* harmony import */ var _components_pageConponents_index__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"oHI1\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar MarketManage = /*#__PURE__*/function (_Component) {\n  Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])(MarketManage, _Component);\n\n  var _super = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"])(MarketManage);\n\n  function MarketManage(props) {\n    var _this;\n\n    Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(this, MarketManage);\n\n    _this = _super.call(this, props);\n\n    _this.cancel = function () {\n      var that = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(_this);\n\n      that.setState({\n        show: false,\n        isShow: false\n      }, function () {\n        setTimeout(function () {\n          that.setState({\n            show: true\n          });\n        }, 100);\n      });\n    };\n\n    _this.showInsert = function (value) {\n      //value为子组件的标识名字\n      var that = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(_this);\n\n      that.setState({\n        show: false,\n        isShow: true,\n        currentComponent: value\n      }, function () {\n        setTimeout(function () {\n          that.setState({\n            show: true\n          });\n        }, 100);\n      });\n    };\n\n    _this.deleteComponent = /*#__PURE__*/function () {\n      var _ref = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee(e) {\n        var post, res;\n        return E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                post = {\n                  moduleTypes: [e],\n                  roleType: \"marketmanager\"\n                };\n                _context.next = 3;\n                return _utils_rest__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"].postJSON('/mrp_analysis/simuAnalysisModule/deleteModules', post);\n\n              case 3:\n                res = _context.sent;\n                console.log(res);\n\n                _this.getAllComponent();\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.getAllComponent = /*#__PURE__*/Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee2() {\n      var post, res, arr, i, that;\n      return E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this.setState({\n                loading: true\n              });\n\n              post = {\n                roleType: \"marketmanager\"\n              };\n              _context2.next = 4;\n              return _utils_rest__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"].postJSON('/mrp_analysis/simuAnalysisModule/getRoleModules', post);\n\n            case 4:\n              res = _context2.sent;\n              arr = [];\n\n              if (res.message == \"成功\") {\n                for (i = 0; i < res.data.length; i++) {\n                  arr.push(res.data[i].moduletype);\n                }\n\n                that = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(_this);\n                that.setState({\n                  show: false,\n                  com: arr,\n                  loading: false\n                }, function () {\n                  setTimeout(function () {\n                    that.setState({\n                      show: true\n                    });\n                  }, 100);\n                });\n              }\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    _this.insertNow = /*#__PURE__*/function () {\n      var _ref3 = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee3(e) {\n        var post, res;\n        return E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _this.setState({\n                  isShow: false,\n                  loading: true\n                });\n\n                post = {\n                  moduleTypes: e,\n                  roleType: \"marketmanager\"\n                };\n                console.log(post);\n                _context3.next = 5;\n                return _utils_rest__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"].postJSON('/mrp_analysis/simuAnalysisModule/addModules', post);\n\n              case 5:\n                res = _context3.sent;\n\n                if (res.message == \"成功\") {\n                  _this.getAllComponent();\n\n                  _this.setState({\n                    loading: false\n                  });\n                }\n\n              case 7:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      com: [\"YWFX_0001\", \"YWFX_0002\", \"YWFX_0003\", \"YWFX_0004\", \"YWFX_0005\", \"YWFX_0007\", \"YWFX_0011\", \"YWFX_0013\", \"YWFX_0014\"],\n      isShow: false,\n      currentComponent: '',\n      loading: false,\n      show: false //对图表进行重新渲染，否则会有刷新背景图填充的bug\n\n    };\n    return _this;\n  }\n\n  Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(MarketManage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getAllComponent();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_9__[/* PageHeaderWrapper */ \"a\"], {\n        title: \"\\u5E02\\u573A\\u7ECF\\u7406\\u62A5\\u544A\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], {\n        className: _style_less_modules__WEBPACK_IMPORTED_MODULE_12___default.a.tabsCard\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(antd_es_spin__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"], {\n        spinning: this.state.loading\n      }, this.state.show ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_components_pageConponents_index__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"], {\n        com: this.state.com,\n        showInsert: this.showInsert,\n        delete: this.deleteComponent\n      }) : '', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_components_insert_InsertIndex__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"], {\n        isShow: this.state.isShow,\n        cancel: this.cancel,\n        allComponents: this.state.com,\n        insertNow: this.insertNow,\n        currentComponent: this.state.currentComponent\n      }))));\n    }\n  }]);\n\n  return MarketManage;\n}(react__WEBPACK_IMPORTED_MODULE_11__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (MarketManage);\n\n/***/ }),\n\n/***/ \"b4+V\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["E:/公司代码/MRP报表/vip-manager/src/pages/businessAnalysis/marketManager/index.jsx","E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\bundler-webpack\\lib\\webpack\\plugins\\mini-css-extract-plugin\\src\\loader.js??ref--13-oneOf-0-0!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\css-loader\\cjs.js??ref--13-oneOf-0-1!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\postcss-loader\\src\\index.js??postcss!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\less-loader\\cjs.js??ref--13-oneOf-0-3!E:\\公司代码\\MRP报表\\vip-manager\\src\\pages\\businessAnalysis\\marketManager\\style.less?modules"],"names":["MarketManage","props","cancel","that","setState","show","isShow","setTimeout","showInsert","value","currentComponent","deleteComponent","e","post","moduleTypes","roleType","request","postJSON","res","console","log","getAllComponent","loading","arr","message","i","data","length","push","moduletype","com","insertNow","state","styles","tabsCard","Component"],"mappings":"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","file":"x","sourcesContent":["import { Spin } from 'antd';\nimport { GridContent, PageHeaderWrapper } from '@ant-design/pro-layout';\nimport React, { Component } from 'react';\nimport { connect } from 'umi';\nimport styles from './style.less';\nimport request from '@/utils/rest';\nimport Insert from '../components/insert/InsertIndex'\nimport PageConponents from '../components/pageConponents/index'\n\nclass MarketManage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            com:[\"YWFX_0001\",\"YWFX_0002\",\"YWFX_0003\",\"YWFX_0004\",\"YWFX_0005\",\"YWFX_0007\",\"YWFX_0011\",\"YWFX_0013\",\"YWFX_0014\"],\n            isShow:false,\n            currentComponent:'',\n            loading:false,\n            show:false//对图表进行重新渲染，否则会有刷新背景图填充的bug\n        };\n    }\n\n    componentDidMount() {\n        this.getAllComponent()\n    }\n    cancel =()=>{\n      let that = this\n      that.setState({\n            show:false,\n            isShow:false\n      },function(){\n            setTimeout(function(){\n               that.setState({\n                  show:true\n               })\n            },100)\n      })\n     \n    }\n     showInsert = (value) =>{\n         //value为子组件的标识名字\n         let that = this\n         that.setState({\n            show:false,\n            isShow:true,\n            currentComponent:value\n         },function(){\n            setTimeout(function(){\n               that.setState({\n                     show:true\n               })\n            },100)\n         })\n      }\n    //删除组件接口\n    deleteComponent =async(e)=>{\n        let post={\n           moduleTypes:[e],\n           roleType:\"marketmanager\"\n       }\n      let res = await request.postJSON('/mrp_analysis/simuAnalysisModule/deleteModules',post);\n      console.log(res);\n      this.getAllComponent()\n     }\n     //获取当前组件信息\n     getAllComponent =async()=>{\n        this.setState({\n              loading:true\n        })\n        let post={\n              roleType:\"marketmanager\"\n        }\n        let res = await request.postJSON('/mrp_analysis/simuAnalysisModule/getRoleModules',post);\n        let arr=[]\n        if(res.message==\"成功\"){\n           for(let i=0;i<res.data.length;i++){\n                 arr.push(res.data[i].moduletype)\n           }\n           let that = this\n            that.setState({\n               show:false,\n               com:arr,\n                 loading:false\n            },function(){\n               setTimeout(function(){\n                  that.setState({\n                        show:true\n                  })\n               },100)\n            })\n        }\n     }\n     insertNow=async(e)=>{\n        this.setState({\n              isShow:false,\n              loading:true\n           })\n        let post={\n              moduleTypes:e,\n              roleType:\"marketmanager\"\n        }\n        console.log(post);\n        let res = await request.postJSON('/mrp_analysis/simuAnalysisModule/addModules',post);\n        if(res.message==\"成功\"){\n              this.getAllComponent()\n              this.setState({\n                 loading:false\n              })\n        }\n        \n     }\n\n\n    render() {\n \n        return (\n            <PageHeaderWrapper title=\"市场经理报告\">\n               <GridContent className={styles.tabsCard}>\n               <Spin spinning={this.state.loading}>\n                  {\n                     this.state.show?<PageConponents com={this.state.com} showInsert={this.showInsert} delete={this.deleteComponent}></PageConponents>:''\n                  }\n                  <Insert \n                        isShow={this.state.isShow} \n                        cancel={this.cancel} \n                        allComponents={this.state.com}\n                        insertNow = {this.insertNow}\n                        currentComponent={this.state.currentComponent}/>\n                        </Spin>\n                </GridContent>\n            </PageHeaderWrapper>\n        );\n    }\n}\n\nexport default MarketManage;\n","// extracted by mini-css-extract-plugin"]}}