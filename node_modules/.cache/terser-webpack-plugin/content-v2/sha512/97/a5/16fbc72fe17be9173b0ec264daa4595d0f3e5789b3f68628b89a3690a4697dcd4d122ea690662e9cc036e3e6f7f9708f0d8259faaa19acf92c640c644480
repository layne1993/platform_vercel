{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[17],{\"5Mu4\":function(e,t,n){e.exports={commonQuestion:\"antd-pro-pages-consulte-question-components-common-question-styles-commonQuestion\",questionType:\"antd-pro-pages-consulte-question-components-common-question-styles-questionType\",operationBox:\"antd-pro-pages-consulte-question-components-common-question-styles-operationBox\",btns:\"antd-pro-pages-consulte-question-components-common-question-styles-btns\",questionTypeModal:\"antd-pro-pages-consulte-question-components-common-question-styles-questionTypeModal\"}},AFsk:function(e,t,n){e.exports={editQuestion:\"antd-pro-pages-consulte-question-components-common-question-edit-styles-editQuestion\"}},V4xW:function(e,t,n){e.exports={newBuildSubject:\"antd-pro-pages-consulte-question-components-common-question-subject-model-index-newBuildSubject\",conlumnSortModel:\"antd-pro-pages-consulte-question-components-common-question-subject-model-index-conlumnSortModel\",consulteQestionModalLoading:\"antd-pro-pages-consulte-question-components-common-question-subject-model-index-consulteQestionModalLoading\"}},\"aO+Y\":function(e,t,n){\"use strict\";function a(e){if(null==e)throw new TypeError(\"Cannot destructure undefined\")}n.r(t);n(\"IzEo\");var o=n(\"bx4M\"),l=(n(\"Znn+\"),n(\"ZTPi\")),i=n(\"q1tI\"),c=n.n(i),s=n(\"9kvl\"),r=n(\"Hx5s\"),u=n(\"FRQA\"),d=n(\"0Owb\"),p=(n(\"+L6B\"),n(\"2/Rp\")),m=(n(\"14J3\"),n(\"BMrR\")),f=(n(\"jCWc\"),n(\"kPKH\")),g=(n(\"5NDa\"),n(\"5rEg\")),b=n(\"k1fw\"),h=(n(\"y8nQ\"),n(\"Vl3Y\")),v=n(\"tJVT\"),y=(n(\"P2fV\"),n(\"NJEC\")),E=(n(\"/xke\"),n(\"TeRw\")),I=(n(\"2qtc\"),n(\"kLXV\")),C=(n(\"OaEy\"),n(\"2fM7\")),S=n(\"RCxd\"),x=n(\"xvlK\"),T=n(\"tQHx\"),O=n(\"Qnru\"),w=n(\"+n12\"),j=(n(\"T2oS\"),n(\"W9HT\")),k=(n(\"5Dmo\"),n(\"3S7+\")),Q=(n(\"+BJd\"),n(\"mr32\")),V=n(\"oBTY\"),q=n(\"fWQN\"),L=n(\"mtLc\"),M=n(\"yKVA\"),D=n(\"879j\"),R=n(\"ngQI\"),N=n(\"2BaD\"),F=n(\"V4xW\"),A=n.n(F),B=8,P=function(e,t){return Object(b[\"a\"])({userSelect:\"none\",padding:2*B,background:e?\"lightgreen\":\"white\"},t)},z=function(e){return{background:e?\"lightblue\":\"lightgrey\",width:\"100%\"}},U=function(e,t,n,a,o){E[\"default\"][e||\"info\"]({top:165,message:t,description:n,placement:a,duration:o||3})},H=function(e){Object(M[\"a\"])(n,e);var t=Object(D[\"a\"])(n);function n(){var e;Object(q[\"a\"])(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),e.state={selectedRowKeys:\"\",showModal:!1,datasources:{data:{homeShowCount:null,articleCount:null,subjectCount:null,list:[]}},selectedRow:[],topInfo:{},userList:[],saleUserNameList:[],customerId:\"\",current:1,pageNum:1,pageSize:20,tabeData:[],powerInfo:{},showExcalVip:!1,vipLevel:\"\",articleColumnModel:!1,specialCustActStatus:\"\",tags:[],inputVisible:!1,inputValue:\"\",editInputIndex:-1,editInputValue:\"\",checkoutFrontPage:!1,showModalDel:!1,deleteSubjectId:null,removedTag:\"\",canConfirm:!0},e.modalhandleOk=function(t){var n=e.state.selectedRowKeys;t?e.setState({showExcal:!1}):(e.determine(n),e.setState({showModal:!1}))},e.modalhandleCancelDel=function(){e.setState({showModalDel:!1})},e.modalhandleOkDel=function(){var t=e.state.removedTag,n=e.state.tags.filter((function(e){return e!==t}));e.setState({tags:n,showModalDel:!1})},e.setArticleColumn=function(){var t=e.props.consulteQuestion.questionTypes;e.setState({tags:t,articleColumnModel:!0})},e.customerhandleCancel=function(){e.setState({articleColumnModel:!1,editInputIndex:null,inputVisible:!1})},e.articleColumnSaveOk=function(){if(e.state.canConfirm){var t=e.state.tags;e.setState({editInputIndex:null}),e.saveSubjectColumn(t)}else U(\"warning\",\"\\u7c7b\\u578b\\u540d\\u79f0\\u672a\\u586b\\u5199\\u6216\\u586b\\u5199\\u9519\\u8bef\",\"\",\"topRight\")},e.handleClose=function(t,n){t.preventDefault();var a=n.id;e.setState({removedTag:n,deleteSubjectId:a}),e.setState({showModalDel:!0})},e.showInput=function(){e.setState({inputVisible:!0},(function(){return e.input.focus()}))},e.handleInputChange=function(t){e.setState({inputValue:t.target.value})},e.handleInputConfirm=function(){var t=e.state,n=t.inputValue,a=t.tags;if(!n.replace(/\\s+/g,\"\"))return U(\"warning\",\"\\u7c7b\\u578b\\u540d\\u79f0\\u4e0d\\u80fd\\u4e3a\\u7a7a\",\"\",\"topRight\"),void e.setState({canConfirm:!1});var o=a,l=a.some((function(t){return t.codeText?t.codeText.replace(/\\s+/g,\"\")===n.replace(/\\s+/g,\"\")?(U(\"warning\",\"\\u8bf7\\u8bbe\\u7f6e\\u4e0d\\u540c\\u7684\\u7c7b\\u578b\\u540d\\u79f0\",\"\",\"topRight\"),e.setState({canConfirm:!1}),!0):void 0:(U(\"warning\",\"\\u7c7b\\u578b\\u540d\\u79f0\\u4e0d\\u80fd\\u4e3a\\u7a7a\",\"\",\"topRight\"),e.setState({canConfirm:!1}),!0)}));l||(n&&!l&&(o=[].concat(Object(V[\"a\"])(a),[{codeText:n}])),e.setState({tags:o,inputVisible:!1,inputValue:\"\",canConfirm:!0}))},e.handleEditInputChange=function(t){e.setState({editInputValue:t.target.value})},e.handleEditInputConfirm=function(){var t=e.state,n=t.editInputValue,a=t.tags;if(!n.replace(/\\s+/g,\"\"))return U(\"warning\",\"\\u7c7b\\u578b\\u540d\\u79f0\\u4e0d\\u80fd\\u4e3a\\u7a7a\",\"\",\"topRight\"),void e.setState({canConfirm:!1,editInputIndex:null});var o=a.some((function(t,a){return a!==e.state.editInputIndex&&(t.codeText.replace(/\\s+/g,\"\")===n.replace(/\\s+/g,\"\")?(e.setState({canConfirm:!1}),U(\"warning\",\"\\u8bf7\\u8bbe\\u7f6e\\u4e0d\\u540c\\u7684\\u7c7b\\u578b\\u540d\\u79f0\",\"\",\"topRight\"),!0):void 0)}));o||e.setState((function(e){var t=e.tags,n=e.editInputIndex,a=e.editInputValue,o=Object(V[\"a\"])(t);return o[n].codeText=a,{tags:o,editInputIndex:-1,editInputValue:\"\",canConfirm:!0}}))},e.saveInputRef=function(t){e.input=t},e.saveEditInputRef=function(t){e.editInput=t},e.saveSubjectColumn=function(t){var n=e.props,a=n.dispatch,o=n.getQuestionType;a({type:\"consulteQuestion/addQuestionType\",payload:{sysCodelistList:t},callback:function(t){if(1008===t.code)o(),e.setState({articleColumnModel:!1}),U(\"success\",\"\\u63d0\\u793a\",t.message||\"\\u4fdd\\u5b58\\u6210\\u529f\",\"topRight\",5);else{var n=t.message||t.data||\"\\u4fdd\\u5b58\\u5931\\u8d25\\uff0c\\u8bf7\\u7a0d\\u540e\\u518d\\u8bd5\\uff01\";U(\"warning\",\"\\u63d0\\u793a\\uff08\\u4ee3\\u7801\\uff1a\".concat(t.code,\"\\uff09\"),n,\"topRight\")}}})},e.reOrder=function(e,t,n){var a=Array.from(e),o=a.splice(t,1),l=Object(v[\"a\"])(o,1),i=l[0];return a.splice(n,0,i),a},e.onDragEnd=function(t){if(t.destination){var n=e.reOrder(e.state.tags,t.source.index,t.destination.index);e.setState({tags:n})}},e}return Object(L[\"a\"])(n,[{key:\"componentDidMount\",value:function(){var e=this.props.consulteQuestion.questionTypes;this.setState({tags:e})}},{key:\"UNSAFE_componentWillReceiveProps\",value:function(e){var t=e||{},n=t.consulteQuestion.questionTypes,a=t.saveLoading,o=t.questionTypeLoading,l=this.state.tags;Object.is(n,l)||a||o||this.setState({tags:n})}},{key:\"renderTags\",value:function(){var e=this,t=this.state,n=t.tags,a=t.inputVisible,o=t.inputValue,l=t.editInputIndex,i=t.editInputValue;t.showModalDel;return c.a.createElement(c.a.Fragment,null,c.a.createElement(R[\"a\"],{onDragEnd:this.onDragEnd},c.a.createElement(R[\"c\"],{droppableId:\"droppable\",direction:\"vertical\"},(function(t,s){return c.a.createElement(\"div\",Object(d[\"a\"])({ref:t.innerRef,style:z(s.isDraggingOver)},t.droppableProps),n.map((function(t,n){if(l===n)return c.a.createElement(g[\"a\"],{ref:e.saveEditInputRef,key:t.codeText,size:\"small\",className:\"tag-input\",value:i,onChange:e.handleEditInputChange,onBlur:e.handleEditInputConfirm,onPressEnter:e.handleEditInputConfirm});var a=t.codeText.length>20,o=c.a.createElement(Q[\"a\"],{className:\"edit-tag\",key:t.codeText,closable:0!==n,onClose:function(n){return e.handleClose(n,t)}},c.a.createElement(\"span\",{onDoubleClick:function(a){e.setState({editInputIndex:n,editInputValue:t.codeText},(function(){e.editInput.focus()})),a.preventDefault()}},a?\"\".concat(t.codeText.slice(0,20),\"...\"):t.codeText));return a?c.a.createElement(k[\"a\"],{title:t.codeText,key:t.codeText},o):c.a.createElement(R[\"b\"],{key:t.codeText,draggableId:t.codeText,index:n},(function(e,t){return c.a.createElement(\"div\",Object(d[\"a\"])({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{style:P(t.isDragging,e.draggableProps.style)}),o)}))})),a&&c.a.createElement(g[\"a\"],{ref:e.saveInputRef,type:\"text\",size:\"small\",className:\"tag-input\",value:o,onChange:e.handleInputChange,onBlur:e.handleInputConfirm,onPressEnter:e.handleInputConfirm}))}))),!a&&c.a.createElement(Q[\"a\"],{className:\"site-tag-plus\",onClick:this.showInput},c.a.createElement(x[\"a\"],null),\" \\u7c7b\\u578b\"))}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.saveLoading,a=t.questionTypeLoading,o=this.state,l=o.articleColumnModel,i=o.showModalDel;return c.a.createElement(\"div\",null,c.a.createElement(I[\"a\"],{visible:i,closable:!1,footer:c.a.createElement(c.a.Fragment,null,c.a.createElement(p[\"a\"],{onClick:function(){return e.modalhandleOkDel(0)},type:\"primary\"},\"\\u662f\"),c.a.createElement(p[\"a\"],{onClick:this.modalhandleCancelDel},\"\\u5426\"))},c.a.createElement(\"div\",{className:A.a.CloseICon},c.a.createElement(\"p\",null,c.a.createElement(N[\"a\"],{style:{color:\"red\",fontSize:18}}),\" \\u8bf7\\u60a8\\u786e\\u8ba4\\u662f\\u5426\\u5220\\u9664\\u8be5\\u7c7b\\u578b\"),c.a.createElement(\"p\",{style:{marginTop:10}},\"\\u5220\\u9664\\u8be5\\u680f\\u76ee\\u540e\\uff0c\\u8be5\\u7c7b\\u578b\\u4e0b\\u7684\\u6240\\u6709\\u7684\\u201c\\u95ee\\u9898\\u4fe1\\u606f\\u201d\\u7684\\u7c7b\\u578b\\u90fd\\u5c06\\u4e3a\\u7a7a\\uff0c\\u9700\\u8981\\u91cd\\u65b0\\u8bbe\\u7f6e\\uff0c\\u786e\\u5b9a\\u4fdd\\u5b58\\u540e\\u751f\\u6548\"))),c.a.createElement(I[\"a\"],{className:A.a.conlumnSortModel,title:\"\\u8bf7\\u8bbe\\u7f6e\\u95ee\\u9898\\u7c7b\\u578b\",visible:l,closable:!1,mask:!1,maskClosable:!1,footer:c.a.createElement(c.a.Fragment,null,c.a.createElement(p[\"a\"],{onClick:this.articleColumnSaveOk,type:\"primary\"},\"\\u786e\\u5b9a\"),c.a.createElement(p[\"a\"],{onClick:this.customerhandleCancel},\"\\u53d6\\u6d88\"))},c.a.createElement(\"div\",{className:A.a.modalContentBox,style:{textAlign:\"center\"}},this.renderTags(),(n||a)&&c.a.createElement(\"div\",{className:A.a.consulteQestionModalLoading},c.a.createElement(j[\"a\"],null)))),c.a.createElement(\"a\",{type:\"primary\",className:A.a.newBuildSubject,onClick:this.setArticleColumn},\"\\u6dfb\\u52a0\\u7c7b\\u578b\"))}}]),n}(i[\"Component\"]),K=Object(s[\"b\"])((function(e){var t=e.consulteQuestion,n=e.loading;return{consulteQuestion:t,saveLoading:n.effects[\"consulteQuestion/addQuestionType\"],questionTypeLoading:n.effects[\"consulteQuestion/getQuestionType\"]}}))(H),J=(n(\"7Kak\"),n(\"9yH6\")),W=(n(\"DZo9\"),n(\"8z0m\")),G=n(\"9og8\"),_=n(\"PpiC\"),Y=n(\"WmNS\"),Z=n.n(Y),X=n(\"VTBJ\"),$={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2zM304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z\"}}]},name:\"picture\",theme:\"outlined\"},ee=$,te=n(\"6VBw\"),ne=function(e,t){return i[\"createElement\"](te[\"a\"],Object(X[\"a\"])(Object(X[\"a\"])({},e),{},{ref:t,icon:ee}))};ne.displayName=\"PictureOutlined\";var ae=n(\"z7Xi\"),oe=n(\"AEkp\"),le=n(\"yEr3\"),ie=n.n(le),ce=n(\"Psm9\"),se=(n(\"Lzxq\"),n(\"AFsk\")),re=n.n(se),ue={labelCol:{span:4},wrapperCol:{span:20}},de=[\"bold\",\"italic\",\"underline\",\"text-color\",\"separator\",\"link\",\"separator\"],pe=function(e,t,n,a,o){E[\"default\"][e||\"info\"]({top:30,message:t,description:n,placement:a,duration:o||3})},me=C[\"a\"].Option;function fe(e){var t=e.consulteQuestion.questionTypes,n=e.loadingSubmit,a=e.loadingGetDetail,o=e.visible,l=e.setVisible,s=e.tableSearch,r=e.id,u=void 0===r?null:r,m=h[\"a\"].useForm(),f=Object(v[\"a\"])(m,1),y=f[0],E=Object(i[\"useState\"])(0),S=Object(v[\"a\"])(E,2),x=S[0],T=S[1],O=Object(i[\"useState\"])([]),k=Object(v[\"a\"])(O,2),Q=k[0],V=k[1],q=Object(i[\"useState\"])(!1),L=Object(v[\"a\"])(q,2),M=L[0],D=L[1];Object(i[\"useEffect\"])((function(){if(u){var n=e.dispatch;n({type:\"consulteQuestion/getQuestionDetail\",payload:{onlineServiceId:u},callback:function(e){if(1008===e.code){var n=e.data,a=void 0===n?{}:n,o=a.problem,l=a.problemId,i=a.contentType,c=a.content,s=a.attachment,r=void 0===s?[]:s,u=c&&ie.a.createEditorState(c)||null,d=t.some((function(e){return e.codeValue===l})),p=r&&[r].map((function(e){return{uid:e.attachmentsId,name:e.fileName,url:e.baseUrl,status:\"done\"}}))||[];y.setFieldsValue({problem:o,problemId:d?l:\"\",contentType:i,content:u,fileList:p}),T(i),V(p)}else pe(\"warning\",\"\\u63d0\\u793a\\uff08\\u4ee3\\u7801\\uff1a\".concat(e.code,\"\\uff09\"),\"\".concat(e.message?e.message:\"\\u83b7\\u53d6\\u6570\\u636e\\u5931\\u8d25!\"),\"topRight\")}})}}),[]);var R=function(){var t=y.validateFields;t().then((function(t){var n=e.dispatch,a=t.content,o=t.fileList,i=Object(_[\"a\"])(t,[\"content\",\"fileList\"]),c=a&&a.toHTML()||null,r=Array.isArray(o)&&o[0].uid||null;n({type:\"consulteQuestion/submitQuestionDetail\",payload:Object(b[\"a\"])(Object(b[\"a\"])({},i),{},{contentType:x,content:0===x?c:null,attachmentsId:1===x?r:null,onlineServiceId:u}),callback:function(e){var t=e.code,n=void 0===t?\"\":t,a=e.message,o=void 0===a?\"\":a;1008===n?(pe(\"success\",\"\\u63d0\\u793a\",\"\\u4fdd\\u5b58\\u6210\\u529f\"),s(),l(!1)):pe(\"warning\",\"\\u63d0\\u793a\\uff08\\u4ee3\\u7801\\uff1a\".concat(n,\"\\uff09\"),\"\".concat(o||\"\\u4fdd\\u5b58\\u5931\\u8d25\\uff01\"),\"topRight\")}})}))},N=function(){var e=Object(G[\"a\"])(Z.a.mark((function e(t){var n,a,o,l;return Z.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.file,a=t.fileList,\"uploading\"!==n.status&&\"removed\"!==n.status){e.next=4;break}return V(a),e.abrupt(\"return\");case 4:\"done\"===n.status&&(1008===n.response.code?(o=n.response.data||{},pe(\"success\",\"\\u63d0\\u9192\",\"\\u4e0a\\u4f20\\u6210\\u529f\"),l=[{uid:o.attachmentsId,name:o.fileName,url:o.baseUrl,status:\"done\"}],V(l),y.setFieldsValue({fileList:l})):pe(\"warning\",\"\\u63d0\\u9192\",\"\\u4e0a\\u4f20\\u5931\\u8d25\"));case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(G[\"a\"])(Z.a.mark((function e(t){var n,a,o;return Z.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oe[\"a\"].get(\"/attachments/deleteFile\",{attachmentsId:t.uid});case 2:n=e.sent,a=y.getFieldValue(\"fileList\")||[],o=[],1008===n.code&&(o=a.filter((function(e){return e.uid!==t.uid})),0===o.length?y.setFieldsValue({fileList:[]}):y.setFieldsValue({fileList:o}),V(o));case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(e){return Array.isArray(e)?e:e&&e.fileList},B=function(){var e=Object(G[\"a\"])(Z.a.mark((function e(t){var n,a,o;return Z.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.file,n){e.next=3;break}return e.abrupt(\"return\",!1);case 3:return D(!0),a=new FormData,a.append(\"file\",n),a.append(\"source\",\"17\"),a.append(\"sourceId\",\"\"),a.append(\"codeType\",154),e.next=11,oe[\"a\"].postMultipart(\"/attachments/uploadFile\",a);case 11:return o=e.sent,1008===o.code?y.setFieldsValue({content:ce[\"ContentUtils\"].insertMedias(y.getFieldValue(\"content\"),[{type:\"IMAGE\",url:o.data.baseUrl}])}):pe(\"warning\",\"\\u63d0\\u9192\",\"\\u4e0a\\u4f20\\u5931\\u8d25\"),D(!1),e.abrupt(\"return\",!1);case 15:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();W[\"a\"];return c.a.createElement(I[\"a\"],{visible:o,mask:!1,maskClosable:!1,onCancel:function(){return l(!1)},onOk:R,wrapClassName:re.a.editQuestion,title:\"\\u65b0\\u5efa\\u95ee\\u9898\\u8be6\\u60c5\"},c.a.createElement(h[\"a\"],Object(d[\"a\"])({},ue,{form:y,onFinish:R,initialValues:{contentType:x}}),c.a.createElement(h[\"a\"].Item,{label:\"\\u95ee\\u9898:\",name:\"problem\",rules:[{required:!0,message:\"\\u8bf7\\u8f93\\u5165\\u95ee\\u9898!\"},{max:70,message:\"\\u6700\\u591a\\u8f93\\u516570\\u4e2a\\u5b57\\u7b26\"}]},c.a.createElement(g[\"a\"],{placeholder:\"\\u8bf7\\u5728\\u8fd9\\u91cc\\u8f93\\u5165\\u6807\\u9898\\uff0c\\u6700\\u591a70\\u4e2a\\u5b57\\u7b26\",max:140})),c.a.createElement(h[\"a\"].Item,{label:\"\\u95ee\\u9898\\u7c7b\\u578b:\",name:\"problemId\",rules:[{required:!0,message:\"\\u8bf7\\u9009\\u62e9\\u95ee\\u9898\\u7c7b\\u578b!\"}]},c.a.createElement(C[\"a\"],{placeholder:\"\\u8bf7\\u9009\\u62e9\",allowClear:!0,loading:Boolean(e.questionTypeLoading)},t.map((function(e){return c.a.createElement(me,{value:e.codeValue,key:e.codeValue},e.codeText)})))),c.a.createElement(h[\"a\"].Item,{label:\"\\u56de\\u590d\\u5185\\u5bb9\",name:\"contentType\"},c.a.createElement(J[\"a\"].Group,{onChange:function(e){return T(e.target.value)}},c.a.createElement(J[\"a\"],{value:0},\"\\u6587\\u5b57\"),c.a.createElement(J[\"a\"],{value:1},\"\\u4e0a\\u4f20\\u6587\\u4ef6\\u6216\\u56fe\\u7247\"))),0===x&&c.a.createElement(h[\"a\"].Item,{label:\"\\u8bf7\\u8f93\\u5165\\u5185\\u5bb9\",name:\"content\",initialValue:ie.a.createEditorState(\"\"),rules:[{required:!0,message:\"\\u8bf7\\u8f93\\u5165\\u5185\\u5bb9!\"},function(){return{validator:function(e,t){return t.isEmpty()?Promise.reject(new Error(\"\\u8bf7\\u8f93\\u5165\\u5185\\u5bb9!\")):Promise.resolve()}}}]},c.a.createElement(ie.a,{style:{border:\"1px solid #d9d9d9\",width:\"100%\"},contentStyle:{height:\"300px\"},controls:de})),1===x&&c.a.createElement(h[\"a\"].Item,{label:\"\\u8bf7\\u4e0a\\u4f20\\u6587\\u4ef6\",name:\"fileList\",extra:\"\\u5efa\\u8baePDF\\u3001\\u56fe\\u7247\\u7b49\\u624b\\u673a\\u80fd\\u6253\\u5f00\\u7684\\u683c\\u5f0f\",rules:[{required:!0,message:\"\\u8bf7\\u4e0a\\u4f20\\u6587\\u4ef6!\",type:\"array\"}],getValueFromEvent:A},c.a.createElement(W[\"a\"],{action:\"\".concat({baseUrl:\"/hdmanager/\",adminUrl:\"/hd-manager\",ASSSET_DOMIAN:\"RESOURCE_PATH\",AI:{AI_type:0},isSaas:1}.adminUrl,\"/attachments/uploadFile\"),headers:{tokenId:Object(w[\"l\"])(\"vipAdminToken\")},accept:\".jpg,.png,.pdf,.jpeg\",data:{sourceId:\"\",source:17,codeType:154},fileList:Q,onChange:N,onRemove:F,maxCount:1},c.a.createElement(p[\"a\"],{disabled:Q.length,icon:c.a.createElement(ae[\"a\"],null),size:\"middle\"},\"\\u4e0a\\u4f20\")))),(n||a||M)&&c.a.createElement(\"div\",{className:\"consulteModalLoading\"},c.a.createElement(j[\"a\"],null)))}var ge=Object(s[\"b\"])((function(e){var t=e.consulteQuestion,n=e.loading;return{consulteQuestion:t,loadingSubmit:n.effects[\"consulteQuestion/submitQuestionDetail\"],loadingGetDetail:n.effects[\"consulteQuestion/getQuestionDetail\"],questionTypeLoading:n.effects[\"consulteQuestion/getQuestionType\"]}}))(fe),be=n(\"5Mu4\"),he=n.n(be),ve={labelCol:{span:6},wrapperCol:{span:18}},ye={pageNum:1,pageSize:20},Ee=[\"\\u6587\\u672c\",\"\\u6587\\u4ef6\\u6216\\u56fe\\u7247\"],Ie=C[\"a\"].Option,Ce=I[\"a\"].confirm,Se=function(e,t,n,a,o){E[\"default\"][e||\"info\"]({top:30,message:t,description:n,placement:a,duration:o||3})};function xe(e){var t=e.consulteQuestion.questionTypes,n=Object(w[\"o\"])(\"80100\"),a=n.authEdit,o=Object(i[\"useMemo\"])((function(){var e=new Map;return t.forEach((function(t){e.set(t.codeValue,t.codeText)})),e}),[t]),l=[{title:\"\\u95ee\\u9898\",dataIndex:\"problem\",width:700,render:function(e){return e||\"--\"}},{title:\"\\u95ee\\u9898\\u7c7b\\u578b\",dataIndex:\"problemId\",align:\"center\",width:420,render:function(e){return o.get(e)||\"\\u5168\\u90e8\\u95ee\\u9898\"}},{title:\"\\u5185\\u5bb9\\u7c7b\\u578b\",dataIndex:\"contentType\",width:120,align:\"center\",render:function(e){return Ee[e]||\"--\"}},{title:\"\\u64cd\\u4f5c\",align:\"center\",width:140,render:function(e){return a?c.a.createElement(\"div\",{className:he.a.operationBox},c.a.createElement(\"span\",{onClick:function(){return ee(e.onlineServiceId)}},\"\\u7f16\\u8f91\"),c.a.createElement(y[\"a\"],{placement:\"topLeft\",title:\"\\u60a8\\u786e\\u5b9a\\u5220\\u9664\\u8be5\\u6761\\u6570\\u636e\\u5417\\uff1f\",onConfirm:function(){return ae(e.onlineServiceId)}},c.a.createElement(\"span\",null,\"\\u5220\\u9664\"))):null}}],s=h[\"a\"].useForm(),r=Object(v[\"a\"])(s,1),u=r[0],E=Object(i[\"useState\"])({}),I=Object(v[\"a\"])(E,2),j=I[0],k=I[1],Q=Object(i[\"useState\"])(ye),V=Object(v[\"a\"])(Q,2),q=V[0],L=V[1],M=Object(i[\"useState\"])([]),D=Object(v[\"a\"])(M,2),R=D[0],N=D[1],F=Object(i[\"useState\"])(!1),A=Object(v[\"a\"])(F,2),B=A[0],P=A[1],z=Object(i[\"useState\"])(\"\"),U=Object(v[\"a\"])(z,2),H=U[0],J=U[1],W=Object(i[\"useState\"])(!1),G=Object(v[\"a\"])(W,2),_=G[0],Y=G[1],Z=function(e){N(e)},X={selectedRowKeys:R,onChange:Z},$=function(){J(\"\"),P(!0)},ee=function(e){J(e),P(!0)},te=function(){var t=e.dispatch,n=u.getFieldsValue();t({type:\"consulteQuestion/getQuestionSettingTableData\",payload:Object(b[\"a\"])(Object(b[\"a\"])({},n),q),callback:function(e){if(1008===e.code){var t=e.data||{},n=t.list,a=void 0===n?[]:n,o=t.total;k({list:a,total:o})}else Se(\"warning\",\"\\u63d0\\u793a\\uff08\\u4ee3\\u7801\\uff1a\".concat(e.code,\"\\uff09\"),\"\".concat(e.message?e.message:\"\\u83b7\\u53d6\\u6570\\u636e\\u5931\\u8d25!\"),\"topRight\")}})},ne=function(e,t,n){L(Object(b[\"a\"])(Object(b[\"a\"])({},q),{},{pageNum:e.current,pageSize:e.pageSize}))},ae=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=e.dispatch;a({type:\"consulteQuestion/deleteQuestionDetail\",payload:{onlineServiceId:t},callback:function(e){1008===e.code?(Se(\"success\",\"\\u63d0\\u793a\",\"\\u5220\\u9664\\u6210\\u529f\"),te(),n&&n()):Se(\"warning\",\"\\u63d0\\u793a\\uff08\\u4ee3\\u7801\\uff1a\".concat(e.code,\"\\uff09\"),\"\".concat(e.message?e.message:\"\\u5220\\u9664\\u5931\\u8d25\\uff01\"),\"topRight\")}})},oe=function(){Ce({title:\"\\u8bf7\\u60a8\\u786e\\u5b9a\\u662f\\u5426\\u5168\\u90e8\\u5220\\u9664\",icon:c.a.createElement(S[\"a\"],null),content:\"\\u5220\\u9664\\u540e\\u8be5\\u95ee\\u9898\\u4fe1\\u606f\\u4f1a\\u5220\\u9664\",okText:\"\\u786e\\u8ba4\",cancelText:\"\\u53d6\\u6d88\",onOk:function(){var e=R.join(\",\");ae(e,(function(){return N([])}))}})},le=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=e.dispatch;n({type:\"consulteQuestion/getQuestionType\",payload:{},callback:t})},ie=function(e){L(ye),te()},ce=function(){u.setFieldsValue({problem:\"\",problemId:null}),te()},se=function(){Y(!1),te()};return Object(i[\"useEffect\"])((function(){var t=e.consulteQuestion.questionTypes;te(),Array.isArray(t)&&t.length||le()}),[]),Object(i[\"useEffect\"])((function(){te()}),[q]),c.a.createElement(\"div\",{className:he.a.commonQuestion},_&&c.a.createElement(O[\"a\"],{modalFlag:_,closeModal:se,templateMsg:\"\\u62ab\\u9732\\u89c4\\u5219\\u6a21\\u677f\\u4e0b\\u8f7d\",templateUrl:\"/onlineService/import/template?tokenId=\".concat(Object(w[\"l\"])(\"vipAdminToken\")),onOk:se,url:\"/onlineService/import\"}),c.a.createElement(h[\"a\"],Object(d[\"a\"])({},ve,{form:u,onFinish:ie}),c.a.createElement(m[\"a\"],{gutter:24},c.a.createElement(f[\"a\"],{span:8},c.a.createElement(h[\"a\"].Item,{label:\"\\u95ee\\u9898:\",name:\"problem\"},c.a.createElement(g[\"a\"],{placeholder:\"\\u8bf7\\u8f93\\u5165\"}))),c.a.createElement(f[\"a\"],{span:8,className:he.a.questionType},c.a.createElement(h[\"a\"].Item,{label:\"\\u95ee\\u9898\\u7c7b\\u578b:\",name:\"problemId\"},c.a.createElement(C[\"a\"],{placeholder:\"\\u8bf7\\u9009\\u62e9\",showSearch:!0,loading:Boolean(e.questionTypeLoading),allowClear:!0,filterOption:function(e,t){return t.children.indexOf(e)>=0}},t.map((function(e){return c.a.createElement(Ie,{value:e.codeValue,key:e.codeValue},e.codeText)})))),a&&c.a.createElement(K,{getQuestionType:le}))),c.a.createElement(m[\"a\"],{gutter:24},c.a.createElement(f[\"a\"],{span:24},c.a.createElement(\"div\",{className:he.a.btns},c.a.createElement(p[\"a\"],{type:\"primary\",htmlType:\"submit\"},\"\\u67e5\\u8be2\"),c.a.createElement(p[\"a\"],{htmlType:\"button\",className:he.a.raestBtn,onClick:ce},\"\\u91cd\\u7f6e\"))))),c.a.createElement(\"div\",null,!!a&&c.a.createElement(\"div\",null,c.a.createElement(p[\"a\"],{type:\"primary\",style:{marginRight:\"5px\"},icon:c.a.createElement(x[\"a\"],null),onClick:$},\"\\u65b0\\u5efa\"),c.a.createElement(p[\"a\"],{onClick:oe,style:{marginLeft:\"10px\"}},\"\\u6279\\u91cf\\u5220\\u9664\"),c.a.createElement(p[\"a\"],{style:{marginLeft:\"10px\"},onClick:function(){return Y(!0)},type:\"primary\"},\"\\u6279\\u91cf\\u4e0a\\u4f20\")),c.a.createElement(T[\"a\"],{loading:Boolean(e.loading),columns:l,dataSource:j.list||[],total:j.total,pageNum:q.pageNum,scroll:{x:\"100%\"},sticky:!0,onChange:function(e,t,n){return ne(e,t,n)},rowSelection:X,rowKey:\"onlineServiceId\"})),B&&c.a.createElement(ge,{visible:B,setVisible:P,tableSearch:te,id:H}))}var Te=Object(s[\"b\"])((function(e){var t=e.consulteQuestion,n=e.loading;return{consulteQuestion:t,loading:n.effects[\"consulteQuestion/getQuestionSettingTableData\"],questionTypeLoading:n.effects[\"consulteQuestion/getQuestionType\"]}}))(xe),Oe=[{title:\"\\u5e38\\u89c1\\u95ee\\u9898\\u8bbe\\u7f6e\",key:\"1\"}],we=(n(\"o+Cm\"),l[\"a\"].TabPane);function je(e){return c.a.createElement(r[\"a\"],{title:\"\\u5e38\\u89c1\\u95ee\\u9898\\u7ba1\\u7406\"},c.a.createElement(u[\"a\"],null,c.a.createElement(o[\"a\"],null,c.a.createElement(l[\"a\"],null,Oe.map((function(e){return c.a.createElement(we,{tab:e.title,key:e.key},c.a.createElement(Te,null))}))))))}t[\"default\"]=Object(s[\"b\"])((function(e){return a(e),{}}))(je)},\"o+Cm\":function(e,t,n){}}]);","name":"p__consulte__question.async.js?v=1646123553782","map":{"version":3,"sources":["p__consulte__question.async.js?v=1646123553782"],"names":["window","push","5Mu4","module","exports","__webpack_require__","commonQuestion","questionType","operationBox","btns","questionTypeModal","AFsk","editQuestion","V4xW","newBuildSubject","conlumnSortModel","consulteQestionModalLoading","aO+Y","__webpack_exports__","_objectDestructuringEmpty","obj","TypeError","r","card","tabs","react","react_default","n","umiExports","es","GridContent","esm_extends","es_button","row","col","input","objectSpread2","es_form","slicedToArray","popconfirm","notification","modal","es_select","ExclamationCircleOutlined","PlusOutlined","MXTable","batchUpload","utils","spin","tooltip","es_tag","toConsumableArray","classCallCheck","createClass","inherits","createSuper","react_beautiful_dnd_esm","CloseCircleOutlined","subjectModelmodules","subjectModelmodules_default","grid","subjectModel_getItemStyle","isDragging","draggableStyle","Object","userSelect","padding","background","getListStyle","isDraggingOver","width","subjectModel_openNotification","type","message","description","placement","duration","top","subjectModel_SetSubjectModel","_Component","SetSubjectModel","_super","_this","this","_len","arguments","length","args","Array","_key","call","apply","concat","state","selectedRowKeys","showModal","datasources","data","homeShowCount","articleCount","subjectCount","list","selectedRow","topInfo","userList","saleUserNameList","customerId","current","pageNum","pageSize","tabeData","powerInfo","showExcalVip","vipLevel","articleColumnModel","specialCustActStatus","tags","inputVisible","inputValue","editInputIndex","editInputValue","checkoutFrontPage","showModalDel","deleteSubjectId","removedTag","canConfirm","modalhandleOk","e","setState","showExcal","determine","modalhandleCancelDel","modalhandleOkDel","filter","tag","setArticleColumn","questionTypes","props","consulteQuestion","customerhandleCancel","articleColumnSaveOk","saveSubjectColumn","handleClose","preventDefault","id","showInput","focus","handleInputChange","target","value","handleInputConfirm","_this$state","replace","t","result","some","item","codeText","handleEditInputChange","handleEditInputConfirm","_this$state2","index","_ref","newTags","saveInputRef","saveEditInputRef","editInput","params","_this$props","dispatch","getQuestionType","payload","sysCodelistList","callback","res","code","warningText","reOrder","startIndex","endIndex","from","_result$splice","splice","_result$splice2","removed","onDragEnd","destination","items","source","key","nextProps","_ref2","saveLoading","questionTypeLoading","is","_this2","_this$state3","a","createElement","Fragment","droppableId","direction","provided","snapshot","ref","innerRef","style","droppableProps","map","size","className","onChange","onBlur","onPressEnter","isLongTag","tagElem","closable","onClose","onDoubleClick","slice","title","draggableId","draggableProps","dragHandleProps","onClick","_this3","_this$props2","_this$state4","visible","footer","CloseICon","color","fontSize","marginTop","mask","maskClosable","modalContentBox","textAlign","renderTags","subjectModel","_ref3","loading","effects","es_radio","upload","asyncToGenerator","objectWithoutProperties","regenerator","regenerator_default","esm_objectSpread2","PictureOutlined_PictureOutlined","icon","attrs","viewBox","focusable","children","d","name","theme","asn_PictureOutlined","AntdIcon","icons_PictureOutlined_PictureOutlined","displayName","UploadOutlined","rest","dist","dist_default","braft_utils_dist","stylesmodules","stylesmodules_default","layout","labelCol","span","wrapperCol","controls","edit_openNotification","Option","EditQuestionList","loadingSubmit","loadingGetDetail","setVisible","tableSearch","_props$id","_Form$useForm","useForm","_Form$useForm2","form","_useState","_useState2","contentType","setContentType","_useState3","_useState4","fileList","setFileList","_useState5","_useState6","contentLoading","setContentLoading","onlineServiceId","_res$data","problem","problemId","_contentType","content","_data$attachment","attachment","contentToEditor","createEditorState","isReallyProblemId","codeValue","attachmentList","uid","attachmentsId","fileName","url","baseUrl","status","setFieldsValue","onFinish","validateFields","then","values","contentToString","toHTML","isArray","_res$code","_res$message","uploadFileChange","mark","_callee","file","flieObj","fl","wrap","_context","prev","next","abrupt","response","stop","_x","deleteFile","_callee2","arr","_context2","get","sent","getFieldValue","_x2","normFile","customRequest","_ref5","_callee3","_ref4","formData","_context3","FormData","append","postMultipart","insertMedias","_x3","onCancel","onOk","wrapClassName","initialValues","Item","label","rules","required","max","placeholder","allowClear","Boolean","Group","initialValue","validator","_","isEmpty","Promise","reject","Error","resolve","border","contentStyle","height","extra","getValueFromEvent","action","adminUrl","ASSSET_DOMIAN","AI","AI_type","isSaas","headers","tokenId","accept","sourceId","codeType","onRemove","maxCount","disabled","edit","_ref6","commonQuestion_stylesmodules","commonQuestion_stylesmodules_default","commonQuestion_layout","initPageData","contentTypeList","commonQuestion_Option","commonQuestion_confirm","confirm","commonQuestion_openNotification","CommonQuestion","_getPermission","authEdit","questionTypesMap","Map","forEach","set","columns","dataIndex","render","align","editClick","onConfirm","deleteQuestionDetail","dataSource","setDataSource","pageData","setPageData","setSelectRowKeys","_useState7","_useState8","editVisible","setEditVisible","_useState9","_useState10","questionDetailId","setQuestionDetailId","_useState11","_useState12","batchUploadModalFlag","setBatchUploadModalFlag","onSelectChange","rowSelection","newBuildClick","getFieldsValue","_ref$list","total","_tableChange","p","s","_callback","undefined","batchDelete","okText","cancelText","ids","join","onReset","closeModal","modalFlag","templateMsg","templateUrl","gutter","showSearch","filterOption","option","indexOf","htmlType","raestBtn","marginRight","marginLeft","scroll","x","sticky","rowKey","questionTabs","TabPane","Question","tab","o+Cm"],"mappings":"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"},"input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[17],{\n\n/***/ \"5Mu4\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"commonQuestion\":\"antd-pro-pages-consulte-question-components-common-question-styles-commonQuestion\",\"questionType\":\"antd-pro-pages-consulte-question-components-common-question-styles-questionType\",\"operationBox\":\"antd-pro-pages-consulte-question-components-common-question-styles-operationBox\",\"btns\":\"antd-pro-pages-consulte-question-components-common-question-styles-btns\",\"questionTypeModal\":\"antd-pro-pages-consulte-question-components-common-question-styles-questionTypeModal\"};\n\n/***/ }),\n\n/***/ \"AFsk\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"editQuestion\":\"antd-pro-pages-consulte-question-components-common-question-edit-styles-editQuestion\"};\n\n/***/ }),\n\n/***/ \"V4xW\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"newBuildSubject\":\"antd-pro-pages-consulte-question-components-common-question-subject-model-index-newBuildSubject\",\"conlumnSortModel\":\"antd-pro-pages-consulte-question-components-common-question-subject-model-index-conlumnSortModel\",\"consulteQestionModalLoading\":\"antd-pro-pages-consulte-question-components-common-question-subject-model-index-consulteQestionModalLoading\"};\n\n/***/ }),\n\n/***/ \"aO+Y\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js\nfunction _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n}\n// EXTERNAL MODULE: ./node_modules/antd/es/card/style/index.js\nvar style = __webpack_require__(\"IzEo\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/card/index.js + 2 modules\nvar card = __webpack_require__(\"bx4M\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/tabs/style/index.js\nvar tabs_style = __webpack_require__(\"Znn+\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/tabs/index.js + 40 modules\nvar tabs = __webpack_require__(\"ZTPi\");\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./src/.umi-production/core/umiExports.ts + 7 modules\nvar umiExports = __webpack_require__(\"9kvl\");\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/pro-layout/es/index.js + 82 modules\nvar es = __webpack_require__(\"Hx5s\");\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/pro-layout/es/components/GridContent/index.js\nvar GridContent = __webpack_require__(\"FRQA\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/extends.js\nvar esm_extends = __webpack_require__(\"0Owb\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/button/style/index.js\nvar button_style = __webpack_require__(\"+L6B\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/button/index.js\nvar es_button = __webpack_require__(\"2/Rp\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/row/style/index.js\nvar row_style = __webpack_require__(\"14J3\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/row/index.js\nvar row = __webpack_require__(\"BMrR\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/col/style/index.js\nvar col_style = __webpack_require__(\"jCWc\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/col/index.js\nvar col = __webpack_require__(\"kPKH\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/input/style/index.js\nvar input_style = __webpack_require__(\"5NDa\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/input/index.js + 3 modules\nvar input = __webpack_require__(\"5rEg\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(\"k1fw\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/form/style/index.js\nvar form_style = __webpack_require__(\"y8nQ\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/form/index.js + 14 modules\nvar es_form = __webpack_require__(\"Vl3Y\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(\"tJVT\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/popconfirm/style/index.js\nvar popconfirm_style = __webpack_require__(\"P2fV\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/popconfirm/index.js\nvar popconfirm = __webpack_require__(\"NJEC\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/notification/style/index.js\nvar notification_style = __webpack_require__(\"/xke\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/notification/index.js + 1 modules\nvar notification = __webpack_require__(\"TeRw\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/modal/style/index.js\nvar modal_style = __webpack_require__(\"2qtc\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/modal/index.js + 7 modules\nvar modal = __webpack_require__(\"kLXV\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/select/style/index.js\nvar select_style = __webpack_require__(\"OaEy\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/select/index.js + 7 modules\nvar es_select = __webpack_require__(\"2fM7\");\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/ExclamationCircleOutlined.js + 1 modules\nvar ExclamationCircleOutlined = __webpack_require__(\"RCxd\");\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/PlusOutlined.js + 1 modules\nvar PlusOutlined = __webpack_require__(\"xvlK\");\n\n// EXTERNAL MODULE: ./src/pages/components/MXTable/index.jsx\nvar MXTable = __webpack_require__(\"tQHx\");\n\n// EXTERNAL MODULE: ./src/pages/components/batchUpload/index.jsx\nvar batchUpload = __webpack_require__(\"Qnru\");\n\n// EXTERNAL MODULE: ./src/utils/utils.js\nvar utils = __webpack_require__(\"+n12\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/spin/style/index.js\nvar spin_style = __webpack_require__(\"T2oS\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/spin/index.js\nvar spin = __webpack_require__(\"W9HT\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/tooltip/style/index.js\nvar tooltip_style = __webpack_require__(\"5Dmo\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/tooltip/index.js + 1 modules\nvar tooltip = __webpack_require__(\"3S7+\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/tag/style/index.js\nvar tag_style = __webpack_require__(\"+BJd\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/tag/index.js + 1 modules\nvar es_tag = __webpack_require__(\"mr32\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(\"oBTY\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(\"fWQN\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(\"mtLc\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(\"yKVA\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/createSuper.js + 4 modules\nvar createSuper = __webpack_require__(\"879j\");\n\n// EXTERNAL MODULE: ./node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js + 28 modules\nvar react_beautiful_dnd_esm = __webpack_require__(\"ngQI\");\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/CloseCircleOutlined.js + 1 modules\nvar CloseCircleOutlined = __webpack_require__(\"2BaD\");\n\n// EXTERNAL MODULE: ./src/pages/consulte/question/components/commonQuestion/subjectModel/index.less?modules\nvar subjectModelmodules = __webpack_require__(\"V4xW\");\nvar subjectModelmodules_default = /*#__PURE__*/__webpack_require__.n(subjectModelmodules);\n\n// CONCATENATED MODULE: ./src/pages/consulte/question/components/commonQuestion/subjectModel/index.jsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n // 样式相关 代码\n\nvar grid = 8; // 水平样式\n\nvar subjectModel_getItemStyle = function getItemStyle(isDragging, draggableStyle) {\n  return Object(objectSpread2[\"a\" /* default */])({\n    // some basic styles to make the items look a bit nicer\n    userSelect: 'none',\n    padding: grid * 2,\n    // margin: `0 ${grid}px 0 0`,\n    // change background colour if dragging\n    background: isDragging ? 'lightgreen' : 'white'\n  }, draggableStyle);\n};\n\nvar getListStyle = function getListStyle(isDraggingOver) {\n  return {\n    background: isDraggingOver ? 'lightblue' : 'lightgrey',\n    width: '100%' // display: 'flex',\n    // padding: grid,\n    // overflow: 'auto',\n\n  };\n};\n\nvar subjectModel_openNotification = function openNotification(type, message, description, placement, duration) {\n  notification[\"default\"][type || 'info']({\n    top: 165,\n    message: message,\n    description: description,\n    placement: placement,\n    duration: duration || 3\n  });\n};\n\nvar subjectModel_SetSubjectModel = /*#__PURE__*/function (_Component) {\n  Object(inherits[\"a\" /* default */])(SetSubjectModel, _Component);\n\n  var _super = Object(createSuper[\"a\" /* default */])(SetSubjectModel);\n\n  function SetSubjectModel() {\n    var _this;\n\n    Object(classCallCheck[\"a\" /* default */])(this, SetSubjectModel);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      selectedRowKeys: '',\n      showModal: false,\n      datasources: {\n        data: {\n          homeShowCount: null,\n          articleCount: null,\n          subjectCount: null,\n          list: []\n        }\n      },\n      selectedRow: [],\n      topInfo: {},\n      userList: [],\n      saleUserNameList: [],\n      customerId: '',\n      current: 1,\n      pageNum: 1,\n      pageSize: 20,\n      tabeData: [],\n      powerInfo: {},\n      showExcalVip: false,\n      vipLevel: '',\n      articleColumnModel: false,\n      specialCustActStatus: '',\n      // 设置文章栏目\n      tags: [],\n      inputVisible: false,\n      inputValue: '',\n      editInputIndex: -1,\n      editInputValue: '',\n      checkoutFrontPage: false,\n      showModalDel: false,\n      deleteSubjectId: null,\n      removedTag: '',\n      canConfirm: true\n    };\n\n    _this.modalhandleOk = function (e) {\n      var selectedRowKeys = _this.state.selectedRowKeys;\n\n      if (e) {\n        _this.setState({\n          showExcal: false\n        });\n      } else {\n        _this.determine(selectedRowKeys);\n\n        _this.setState({\n          showModal: false\n        });\n      }\n    };\n\n    _this.modalhandleCancelDel = function () {\n      _this.setState({\n        showModalDel: false\n      });\n    };\n\n    _this.modalhandleOkDel = function () {\n      var removedTag = _this.state.removedTag;\n\n      var tags = _this.state.tags.filter(function (tag) {\n        return tag !== removedTag;\n      });\n\n      _this.setState({\n        tags: tags,\n        showModalDel: false\n      });\n    };\n\n    _this.setArticleColumn = function () {\n      var questionTypes = _this.props.consulteQuestion.questionTypes;\n\n      _this.setState({\n        tags: questionTypes,\n        articleColumnModel: true\n      });\n    };\n\n    _this.customerhandleCancel = function () {\n      _this.setState({\n        articleColumnModel: false,\n        editInputIndex: null,\n        inputVisible: false\n      });\n    };\n\n    _this.articleColumnSaveOk = function () {\n      if (!_this.state.canConfirm) {\n        subjectModel_openNotification('warning', '类型名称未填写或填写错误', '', 'topRight');\n        return;\n      }\n\n      var tags = _this.state.tags;\n\n      _this.setState({\n        editInputIndex: null\n      });\n\n      _this.saveSubjectColumn(tags);\n    };\n\n    _this.handleClose = function (e, removedTag) {\n      // const tags = this.state.tags.filter(tag => tag !== removedTag);\n      // this.setState({ tags });\n      e.preventDefault();\n      var id = removedTag.id;\n\n      _this.setState({\n        removedTag: removedTag,\n        deleteSubjectId: id\n      });\n\n      _this.setState({\n        showModalDel: true\n      });\n    };\n\n    _this.showInput = function () {\n      _this.setState({\n        inputVisible: true\n      }, function () {\n        return _this.input.focus();\n      });\n    };\n\n    _this.handleInputChange = function (e) {\n      _this.setState({\n        inputValue: e.target.value\n      });\n    };\n\n    _this.handleInputConfirm = function () {\n      var _this$state = _this.state,\n          inputValue = _this$state.inputValue,\n          tags = _this$state.tags; //   inputValue不能时空格  同时在判断问题类型是否相同时需要去掉中间空格\n\n      if (!inputValue.replace(/\\s+/g, '')) {\n        subjectModel_openNotification('warning', '类型名称不能为空', '', 'topRight');\n\n        _this.setState({\n          canConfirm: false\n        });\n\n        return;\n      }\n\n      var t = tags;\n      var result = tags.some(function (item) {\n        if (!item.codeText) {\n          subjectModel_openNotification('warning', '类型名称不能为空', '', 'topRight');\n\n          _this.setState({\n            canConfirm: false\n          });\n\n          return true;\n        }\n\n        if (item.codeText.replace(/\\s+/g, '') === inputValue.replace(/\\s+/g, '')) {\n          subjectModel_openNotification('warning', '请设置不同的类型名称', '', 'topRight');\n\n          _this.setState({\n            canConfirm: false\n          });\n\n          return true;\n        }\n      });\n\n      if (result) {\n        return;\n      }\n\n      if (inputValue && !result) {\n        t = [].concat(Object(toConsumableArray[\"a\" /* default */])(tags), [{\n          codeText: inputValue\n        }]);\n      }\n\n      _this.setState({\n        tags: t,\n        inputVisible: false,\n        inputValue: '',\n        canConfirm: true\n      });\n    };\n\n    _this.handleEditInputChange = function (e) {\n      _this.setState({\n        editInputValue: e.target.value\n      });\n    };\n\n    _this.handleEditInputConfirm = function () {\n      var _this$state2 = _this.state,\n          editInputValue = _this$state2.editInputValue,\n          tags = _this$state2.tags; //   inputValue不能时空格  同时在判断问题类型是否相同时需要去掉中间空格\n\n      if (!editInputValue.replace(/\\s+/g, '')) {\n        subjectModel_openNotification('warning', '类型名称不能为空', '', 'topRight');\n\n        _this.setState({\n          canConfirm: false,\n          editInputIndex: null\n        });\n\n        return;\n      }\n\n      var result = tags.some(function (item, index) {\n        if (index === _this.state.editInputIndex) {\n          // 不去与当前编辑的输入框做对比\n          return false;\n        }\n\n        if (item.codeText.replace(/\\s+/g, '') === editInputValue.replace(/\\s+/g, '')) {\n          _this.setState({\n            canConfirm: false\n          });\n\n          subjectModel_openNotification('warning', '请设置不同的类型名称', '', 'topRight');\n          return true;\n        }\n      });\n\n      if (result) {\n        return;\n      }\n\n      _this.setState(function (_ref) {\n        var tags = _ref.tags,\n            editInputIndex = _ref.editInputIndex,\n            editInputValue = _ref.editInputValue;\n\n        var newTags = Object(toConsumableArray[\"a\" /* default */])(tags);\n\n        newTags[editInputIndex].codeText = editInputValue;\n        return {\n          tags: newTags,\n          editInputIndex: -1,\n          editInputValue: '',\n          canConfirm: true\n        };\n      });\n    };\n\n    _this.saveInputRef = function (input) {\n      _this.input = input;\n    };\n\n    _this.saveEditInputRef = function (input) {\n      _this.editInput = input;\n    };\n\n    _this.saveSubjectColumn = function (params) {\n      var _this$props = _this.props,\n          dispatch = _this$props.dispatch,\n          getQuestionType = _this$props.getQuestionType;\n      dispatch({\n        type: 'consulteQuestion/addQuestionType',\n        payload: {\n          sysCodelistList: params\n        },\n        callback: function callback(res) {\n          if (res.code === 1008) {\n            getQuestionType();\n\n            _this.setState({\n              articleColumnModel: false\n            });\n\n            subjectModel_openNotification('success', '提示', res.message || '保存成功', 'topRight', 5);\n          } else {\n            var warningText = res.message || res.data || '保存失败，请稍后再试！';\n            subjectModel_openNotification('warning', \"\\u63D0\\u793A\\uFF08\\u4EE3\\u7801\\uFF1A\".concat(res.code, \"\\uFF09\"), warningText, 'topRight');\n          }\n        }\n      });\n    };\n\n    _this.reOrder = function (list, startIndex, endIndex) {\n      var result = Array.from(list);\n\n      var _result$splice = result.splice(startIndex, 1),\n          _result$splice2 = Object(slicedToArray[\"a\" /* default */])(_result$splice, 1),\n          removed = _result$splice2[0];\n\n      result.splice(endIndex, 0, removed);\n      return result;\n    };\n\n    _this.onDragEnd = function (result) {\n      // dropped outside the list\n      if (!result.destination) {\n        return;\n      }\n\n      var items = _this.reOrder(_this.state.tags, result.source.index, result.destination.index);\n\n      _this.setState({\n        tags: items\n      });\n    };\n\n    return _this;\n  }\n\n  Object(createClass[\"a\" /* default */])(SetSubjectModel, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var questionTypes = this.props.consulteQuestion.questionTypes;\n      this.setState({\n        tags: questionTypes\n      });\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var _ref2 = nextProps || {},\n          questionTypes = _ref2.consulteQuestion.questionTypes,\n          saveLoading = _ref2.saveLoading,\n          questionTypeLoading = _ref2.questionTypeLoading;\n\n      var tags = this.state.tags;\n      if (Object.is(questionTypes, tags)) return;\n      if (saveLoading || questionTypeLoading) return;\n      this.setState({\n        tags: questionTypes\n      });\n    }\n  }, {\n    key: \"renderTags\",\n    value: function renderTags() {\n      var _this2 = this;\n\n      var _this$state3 = this.state,\n          tags = _this$state3.tags,\n          inputVisible = _this$state3.inputVisible,\n          inputValue = _this$state3.inputValue,\n          editInputIndex = _this$state3.editInputIndex,\n          editInputValue = _this$state3.editInputValue,\n          showModalDel = _this$state3.showModalDel;\n      return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement(react_beautiful_dnd_esm[\"a\" /* DragDropContext */], {\n        onDragEnd: this.onDragEnd\n      }, /*#__PURE__*/react_default.a.createElement(react_beautiful_dnd_esm[\"c\" /* Droppable */], {\n        droppableId: \"droppable\",\n        direction: \"vertical\"\n      }, function (provided, snapshot) {\n        return /*#__PURE__*/react_default.a.createElement(\"div\", Object(esm_extends[\"a\" /* default */])({\n          ref: provided.innerRef,\n          style: getListStyle(snapshot.isDraggingOver)\n        }, provided.droppableProps), tags.map(function (tag, index) {\n          if (editInputIndex === index) {\n            return /*#__PURE__*/react_default.a.createElement(input[\"a\" /* default */], {\n              ref: _this2.saveEditInputRef,\n              key: tag.codeText,\n              size: \"small\",\n              className: \"tag-input\",\n              value: editInputValue,\n              onChange: _this2.handleEditInputChange,\n              onBlur: _this2.handleEditInputConfirm,\n              onPressEnter: _this2.handleEditInputConfirm\n            });\n          }\n\n          var isLongTag = tag.codeText.length > 20;\n          var tagElem = /*#__PURE__*/react_default.a.createElement(es_tag[\"a\" /* default */], {\n            className: \"edit-tag\",\n            key: tag.codeText,\n            closable: index !== 0,\n            onClose: function onClose(e) {\n              return _this2.handleClose(e, tag);\n            }\n          }, /*#__PURE__*/react_default.a.createElement(\"span\", {\n            onDoubleClick: function onDoubleClick(e) {\n              // if (index !== 0) {\n              _this2.setState({\n                editInputIndex: index,\n                editInputValue: tag.codeText\n              }, function () {\n                _this2.editInput.focus();\n              });\n\n              e.preventDefault(); // }\n            }\n          }, isLongTag ? \"\".concat(tag.codeText.slice(0, 20), \"...\") : tag.codeText));\n          return isLongTag ? /*#__PURE__*/react_default.a.createElement(tooltip[\"a\" /* default */], {\n            title: tag.codeText,\n            key: tag.codeText\n          }, tagElem) : /*#__PURE__*/react_default.a.createElement(react_beautiful_dnd_esm[\"b\" /* Draggable */], {\n            key: tag.codeText,\n            draggableId: tag.codeText,\n            index: index\n          }, function (provided, snapshot) {\n            return /*#__PURE__*/react_default.a.createElement(\"div\", Object(esm_extends[\"a\" /* default */])({\n              ref: provided.innerRef\n            }, provided.draggableProps, provided.dragHandleProps, {\n              style: subjectModel_getItemStyle(snapshot.isDragging, provided.draggableProps.style)\n            }), tagElem);\n          });\n        }), inputVisible && /*#__PURE__*/react_default.a.createElement(input[\"a\" /* default */], {\n          ref: _this2.saveInputRef,\n          type: \"text\",\n          size: \"small\",\n          className: \"tag-input\",\n          value: inputValue,\n          onChange: _this2.handleInputChange,\n          onBlur: _this2.handleInputConfirm,\n          onPressEnter: _this2.handleInputConfirm\n        }));\n      })), !inputVisible && /*#__PURE__*/react_default.a.createElement(es_tag[\"a\" /* default */], {\n        className: \"site-tag-plus\",\n        onClick: this.showInput\n      }, /*#__PURE__*/react_default.a.createElement(PlusOutlined[\"a\" /* default */], null), \" \\u7C7B\\u578B\"));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props2 = this.props,\n          saveLoading = _this$props2.saveLoading,\n          questionTypeLoading = _this$props2.questionTypeLoading;\n      var _this$state4 = this.state,\n          articleColumnModel = _this$state4.articleColumnModel,\n          showModalDel = _this$state4.showModalDel;\n      return /*#__PURE__*/react_default.a.createElement(\"div\", null, /*#__PURE__*/react_default.a.createElement(modal[\"a\" /* default */], {\n        // title=\"提示\"\n        visible: showModalDel,\n        closable: false,\n        footer: /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n          onClick: function onClick() {\n            return _this3.modalhandleOkDel(0);\n          },\n          type: \"primary\"\n        }, \"\\u662F\"), /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n          onClick: this.modalhandleCancelDel\n        }, \"\\u5426\"))\n      }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n        className: subjectModelmodules_default.a.CloseICon\n      }, /*#__PURE__*/react_default.a.createElement(\"p\", null, /*#__PURE__*/react_default.a.createElement(CloseCircleOutlined[\"a\" /* default */], {\n        style: {\n          color: 'red',\n          fontSize: 18\n        }\n      }), \" \\u8BF7\\u60A8\\u786E\\u8BA4\\u662F\\u5426\\u5220\\u9664\\u8BE5\\u7C7B\\u578B\"), /*#__PURE__*/react_default.a.createElement(\"p\", {\n        style: {\n          marginTop: 10\n        }\n      }, \"\\u5220\\u9664\\u8BE5\\u680F\\u76EE\\u540E\\uFF0C\\u8BE5\\u7C7B\\u578B\\u4E0B\\u7684\\u6240\\u6709\\u7684\\u201C\\u95EE\\u9898\\u4FE1\\u606F\\u201D\\u7684\\u7C7B\\u578B\\u90FD\\u5C06\\u4E3A\\u7A7A\\uFF0C\\u9700\\u8981\\u91CD\\u65B0\\u8BBE\\u7F6E\\uFF0C\\u786E\\u5B9A\\u4FDD\\u5B58\\u540E\\u751F\\u6548\"))), /*#__PURE__*/react_default.a.createElement(modal[\"a\" /* default */], {\n        className: subjectModelmodules_default.a.conlumnSortModel,\n        title: \"\\u8BF7\\u8BBE\\u7F6E\\u95EE\\u9898\\u7C7B\\u578B\",\n        visible: articleColumnModel,\n        closable: false,\n        mask: false,\n        maskClosable: false,\n        footer: /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n          onClick: this.articleColumnSaveOk,\n          type: \"primary\"\n        }, \"\\u786E\\u5B9A\"), /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n          onClick: this.customerhandleCancel\n        }, \"\\u53D6\\u6D88\"))\n      }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n        className: subjectModelmodules_default.a.modalContentBox,\n        style: {\n          textAlign: 'center'\n        }\n      }, this.renderTags(), (saveLoading || questionTypeLoading) && /*#__PURE__*/react_default.a.createElement(\"div\", {\n        className: subjectModelmodules_default.a.consulteQestionModalLoading\n      }, /*#__PURE__*/react_default.a.createElement(spin[\"a\" /* default */], null)))), /*#__PURE__*/react_default.a.createElement(\"a\", {\n        type: \"primary\",\n        className: subjectModelmodules_default.a.newBuildSubject,\n        onClick: this.setArticleColumn\n      }, \"\\u6DFB\\u52A0\\u7C7B\\u578B\"));\n    }\n  }]);\n\n  return SetSubjectModel;\n}(react[\"Component\"]);\n\n/* harmony default export */ var subjectModel = (Object(umiExports[\"b\" /* connect */])(function (_ref3) {\n  var consulteQuestion = _ref3.consulteQuestion,\n      loading = _ref3.loading;\n  return {\n    consulteQuestion: consulteQuestion,\n    saveLoading: loading.effects['consulteQuestion/addQuestionType'],\n    questionTypeLoading: loading.effects['consulteQuestion/getQuestionType']\n  };\n})(subjectModel_SetSubjectModel));\n// EXTERNAL MODULE: ./node_modules/antd/es/radio/style/index.js\nvar radio_style = __webpack_require__(\"7Kak\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/radio/index.js\nvar es_radio = __webpack_require__(\"9yH6\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/upload/style/index.js\nvar upload_style = __webpack_require__(\"DZo9\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/upload/index.js + 18 modules\nvar upload = __webpack_require__(\"8z0m\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"9og8\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(\"PpiC\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"WmNS\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar esm_objectSpread2 = __webpack_require__(\"VTBJ\");\n\n// CONCATENATED MODULE: ./node_modules/@ant-design/icons-svg/es/asn/PictureOutlined.js\n// This icon file is generated automatically.\nvar PictureOutlined_PictureOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2zM304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z\" } }] }, \"name\": \"picture\", \"theme\": \"outlined\" };\n/* harmony default export */ var asn_PictureOutlined = (PictureOutlined_PictureOutlined);\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/components/AntdIcon.js + 2 modules\nvar AntdIcon = __webpack_require__(\"6VBw\");\n\n// CONCATENATED MODULE: ./node_modules/@ant-design/icons/es/icons/PictureOutlined.js\n\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\n\n\n\nvar icons_PictureOutlined_PictureOutlined = function PictureOutlined(props, ref) {\n  return /*#__PURE__*/react[\"createElement\"](AntdIcon[\"a\" /* default */], Object(esm_objectSpread2[\"a\" /* default */])(Object(esm_objectSpread2[\"a\" /* default */])({}, props), {}, {\n    ref: ref,\n    icon: asn_PictureOutlined\n  }));\n};\n\nicons_PictureOutlined_PictureOutlined.displayName = 'PictureOutlined';\n/* harmony default export */ var icons_PictureOutlined = (/*#__PURE__*/react[\"forwardRef\"](icons_PictureOutlined_PictureOutlined));\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/UploadOutlined.js + 1 modules\nvar UploadOutlined = __webpack_require__(\"z7Xi\");\n\n// EXTERNAL MODULE: ./src/utils/rest.js\nvar rest = __webpack_require__(\"AEkp\");\n\n// EXTERNAL MODULE: ./node_modules/braft-editor/dist/index.js\nvar dist = __webpack_require__(\"yEr3\");\nvar dist_default = /*#__PURE__*/__webpack_require__.n(dist);\n\n// EXTERNAL MODULE: ./node_modules/braft-utils/dist/index.js\nvar braft_utils_dist = __webpack_require__(\"Psm9\");\n\n// EXTERNAL MODULE: ./node_modules/braft-editor/dist/index.css\nvar braft_editor_dist = __webpack_require__(\"Lzxq\");\n\n// EXTERNAL MODULE: ./src/pages/consulte/question/components/commonQuestion/edit/styles.less?modules\nvar stylesmodules = __webpack_require__(\"AFsk\");\nvar stylesmodules_default = /*#__PURE__*/__webpack_require__.n(stylesmodules);\n\n// CONCATENATED MODULE: ./src/pages/consulte/question/components/commonQuestion/edit/index.jsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n // 引入编辑器组件\n\n\n // 引入编辑器样式\n\n\n\nvar layout = {\n  labelCol: {\n    span: 4\n  },\n  wrapperCol: {\n    span: 20\n  }\n};\nvar controls = ['bold', 'italic', 'underline', 'text-color', 'separator', 'link', 'separator'];\n\nvar edit_openNotification = function openNotification(type, message, description, placement, duration) {\n  notification[\"default\"][type || 'info']({\n    top: 30,\n    message: message,\n    description: description,\n    placement: placement,\n    duration: duration || 3\n  });\n};\n\nvar Option = es_select[\"a\" /* default */].Option;\n\nfunction EditQuestionList(props) {\n  var questionTypes = props.consulteQuestion.questionTypes,\n      loadingSubmit = props.loadingSubmit,\n      loadingGetDetail = props.loadingGetDetail;\n  var visible = props.visible,\n      setVisible = props.setVisible,\n      tableSearch = props.tableSearch,\n      _props$id = props.id,\n      id = _props$id === void 0 ? null : _props$id;\n\n  var _Form$useForm = es_form[\"a\" /* default */].useForm(),\n      _Form$useForm2 = Object(slicedToArray[\"a\" /* default */])(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useState = Object(react[\"useState\"])(0),\n      _useState2 = Object(slicedToArray[\"a\" /* default */])(_useState, 2),\n      contentType = _useState2[0],\n      setContentType = _useState2[1]; // 问题内容选择\n\n\n  var _useState3 = Object(react[\"useState\"])([]),\n      _useState4 = Object(slicedToArray[\"a\" /* default */])(_useState3, 2),\n      fileList = _useState4[0],\n      setFileList = _useState4[1]; // 上传文件内容,仅限上传一个\n\n\n  var _useState5 = Object(react[\"useState\"])(false),\n      _useState6 = Object(slicedToArray[\"a\" /* default */])(_useState5, 2),\n      contentLoading = _useState6[0],\n      setContentLoading = _useState6[1]; // 编辑器loading\n  // 编辑时读取数据\n\n\n  Object(react[\"useEffect\"])(function () {\n    if (!id) return;\n    var dispatch = props.dispatch;\n    dispatch({\n      type: 'consulteQuestion/getQuestionDetail',\n      payload: {\n        onlineServiceId: id\n      },\n      callback: function callback(res) {\n        if (res.code === 1008) {\n          var _res$data = res.data,\n              data = _res$data === void 0 ? {} : _res$data;\n          var problem = data.problem,\n              problemId = data.problemId,\n              _contentType = data.contentType,\n              content = data.content,\n              _data$attachment = data.attachment,\n              attachment = _data$attachment === void 0 ? [] : _data$attachment;\n          var contentToEditor = content && dist_default.a.createEditorState(content) || null;\n          var isReallyProblemId = questionTypes.some(function (item) {\n            return item.codeValue === problemId;\n          });\n          var attachmentList = attachment && [attachment].map(function (item) {\n            return {\n              uid: item.attachmentsId,\n              name: item.fileName,\n              url: item.baseUrl,\n              status: 'done'\n            };\n          }) || [];\n          form.setFieldsValue({\n            problem: problem,\n            problemId: isReallyProblemId ? problemId : '',\n            contentType: _contentType,\n            content: contentToEditor,\n            fileList: attachmentList\n          });\n          setContentType(_contentType);\n          setFileList(attachmentList);\n        } else {\n          edit_openNotification('warning', \"\\u63D0\\u793A\\uFF08\\u4EE3\\u7801\\uFF1A\".concat(res.code, \"\\uFF09\"), \"\".concat(res.message ? res.message : '获取数据失败!'), 'topRight');\n        }\n      }\n    });\n  }, []);\n\n  var onFinish = function onFinish() {\n    var validateFields = form.validateFields;\n    validateFields().then(function (values) {\n      var dispatch = props.dispatch; // 将富文本编译器内容转换为html\n\n      var content = values.content,\n          fileList = values.fileList,\n          params = Object(objectWithoutProperties[\"a\" /* default */])(values, [\"content\", \"fileList\"]);\n\n      var contentToString = content && content.toHTML() || null;\n      var attachmentsId = Array.isArray(fileList) && fileList[0].uid || null;\n      dispatch({\n        type: 'consulteQuestion/submitQuestionDetail',\n        payload: Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({}, params), {}, {\n          contentType: contentType,\n          content: contentType === 0 ? contentToString : null,\n          attachmentsId: contentType === 1 ? attachmentsId : null,\n          onlineServiceId: id\n        }),\n        callback: function callback(res) {\n          var _res$code = res.code,\n              code = _res$code === void 0 ? '' : _res$code,\n              _res$message = res.message,\n              message = _res$message === void 0 ? '' : _res$message;\n\n          if (code === 1008) {\n            edit_openNotification('success', '提示', '保存成功');\n            tableSearch(); // 更新数据\n\n            setVisible(false);\n          } else {\n            edit_openNotification('warning', \"\\u63D0\\u793A\\uFF08\\u4EE3\\u7801\\uFF1A\".concat(code, \"\\uFF09\"), \"\".concat(message ? message : '保存失败！'), 'topRight');\n          }\n        }\n      });\n    });\n  }; // 上传图片方法\n\n\n  var uploadFileChange = /*#__PURE__*/function () {\n    var _ref2 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(_ref) {\n      var file, fileList, flieObj, fl;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              file = _ref.file, fileList = _ref.fileList;\n\n              if (!(file.status === 'uploading' || file.status === 'removed')) {\n                _context.next = 4;\n                break;\n              }\n\n              setFileList(fileList);\n              return _context.abrupt(\"return\");\n\n            case 4:\n              if (file.status === 'done') {\n                if (file.response.code === 1008) {\n                  flieObj = file.response.data || {};\n                  edit_openNotification('success', '提醒', '上传成功');\n                  fl = [{\n                    uid: flieObj.attachmentsId,\n                    name: flieObj.fileName,\n                    url: flieObj.baseUrl,\n                    status: 'done'\n                  }];\n                  setFileList(fl);\n                  form.setFieldsValue({\n                    fileList: fl\n                  });\n                } else {\n                  edit_openNotification('warning', '提醒', '上传失败');\n                }\n              }\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function uploadFileChange(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }(); // 删除文件\n\n\n  var deleteFile = /*#__PURE__*/function () {\n    var _ref3 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(e) {\n      var res, fileList, arr;\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return rest[\"a\" /* default */].get('/attachments/deleteFile', {\n                attachmentsId: e.uid\n              });\n\n            case 2:\n              res = _context2.sent;\n              fileList = form.getFieldValue('fileList') || [];\n              arr = [];\n\n              if (res.code === 1008) {\n                arr = fileList.filter(function (item) {\n                  return item.uid !== e.uid;\n                });\n\n                if (arr.length === 0) {\n                  form.setFieldsValue({\n                    fileList: []\n                  });\n                } else {\n                  form.setFieldsValue({\n                    fileList: arr\n                  });\n                }\n\n                setFileList(arr);\n              }\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function deleteFile(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }(); // 转换upload值\n\n\n  var normFile = function normFile(e) {\n    if (Array.isArray(e)) {\n      return e;\n    }\n\n    return e && e.fileList;\n  }; // 富文本编译器上传文件\n\n\n  var customRequest = /*#__PURE__*/function () {\n    var _ref5 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(_ref4) {\n      var file, formData, res;\n      return regenerator_default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              file = _ref4.file;\n\n              if (file) {\n                _context3.next = 3;\n                break;\n              }\n\n              return _context3.abrupt(\"return\", false);\n\n            case 3:\n              setContentLoading(true); // eslint-disable-next-line no-undef\n\n              formData = new FormData();\n              formData.append('file', file);\n              formData.append('source', '17');\n              formData.append('sourceId', '');\n              formData.append('codeType', 154);\n              _context3.next = 11;\n              return rest[\"a\" /* default */].postMultipart('/attachments/uploadFile', formData);\n\n            case 11:\n              res = _context3.sent;\n\n              if (res.code === 1008) {\n                form.setFieldsValue({\n                  content: braft_utils_dist[\"ContentUtils\"].insertMedias(form.getFieldValue('content'), [{\n                    type: 'IMAGE',\n                    url: res.data.baseUrl\n                  }])\n                });\n              } else {\n                edit_openNotification('warning', '提醒', '上传失败');\n              }\n\n              setContentLoading(false);\n              return _context3.abrupt(\"return\", false);\n\n            case 15:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function customRequest(_x3) {\n      return _ref5.apply(this, arguments);\n    };\n  }(); // 创建antd的upload\n\n\n  var extendControls = [{\n    key: 'antd-uploader',\n    type: 'component',\n    component: /*#__PURE__*/react_default.a.createElement(upload[\"a\" /* default */], {\n      accept: \"image/*\",\n      showUploadList: false,\n      customRequest: customRequest\n    }, /*#__PURE__*/react_default.a.createElement(\"button\", {\n      type: \"button\",\n      className: \"control-item button upload-button\",\n      \"data-title\": \"\\u63D2\\u5165\\u56FE\\u7247\"\n    }, /*#__PURE__*/react_default.a.createElement(icons_PictureOutlined, null)))\n  }];\n  return /*#__PURE__*/react_default.a.createElement(modal[\"a\" /* default */], {\n    visible: visible,\n    mask: false,\n    maskClosable: false,\n    onCancel: function onCancel() {\n      return setVisible(false);\n    },\n    onOk: onFinish,\n    wrapClassName: stylesmodules_default.a.editQuestion,\n    title: \"\\u65B0\\u5EFA\\u95EE\\u9898\\u8BE6\\u60C5\"\n  }, /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */], Object(esm_extends[\"a\" /* default */])({}, layout, {\n    form: form,\n    onFinish: onFinish,\n    initialValues: {\n      contentType: contentType\n    }\n  }), /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */].Item, {\n    label: \"\\u95EE\\u9898:\",\n    name: \"problem\",\n    rules: [{\n      required: true,\n      message: '请输入问题!'\n    }, {\n      max: 70,\n      message: '最多输入70个字符'\n    }]\n  }, /*#__PURE__*/react_default.a.createElement(input[\"a\" /* default */], {\n    placeholder: \"\\u8BF7\\u5728\\u8FD9\\u91CC\\u8F93\\u5165\\u6807\\u9898\\uFF0C\\u6700\\u591A70\\u4E2A\\u5B57\\u7B26\",\n    max: 140\n  })), /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */].Item, {\n    label: \"\\u95EE\\u9898\\u7C7B\\u578B:\",\n    name: \"problemId\",\n    rules: [{\n      required: true,\n      message: '请选择问题类型!'\n    }]\n  }, /*#__PURE__*/react_default.a.createElement(es_select[\"a\" /* default */], {\n    placeholder: \"\\u8BF7\\u9009\\u62E9\",\n    allowClear: true,\n    loading: Boolean(props.questionTypeLoading)\n  }, questionTypes.map(function (item) {\n    return /*#__PURE__*/react_default.a.createElement(Option, {\n      value: item.codeValue,\n      key: item.codeValue\n    }, item.codeText);\n  }))), /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */].Item, {\n    label: \"\\u56DE\\u590D\\u5185\\u5BB9\",\n    name: \"contentType\"\n  }, /*#__PURE__*/react_default.a.createElement(es_radio[\"a\" /* default */].Group, {\n    onChange: function onChange(e) {\n      return setContentType(e.target.value);\n    }\n  }, /*#__PURE__*/react_default.a.createElement(es_radio[\"a\" /* default */], {\n    value: 0\n  }, \"\\u6587\\u5B57\"), /*#__PURE__*/react_default.a.createElement(es_radio[\"a\" /* default */], {\n    value: 1\n  }, \"\\u4E0A\\u4F20\\u6587\\u4EF6\\u6216\\u56FE\\u7247\"))), contentType === 0 && /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */].Item, {\n    label: \"\\u8BF7\\u8F93\\u5165\\u5185\\u5BB9\",\n    name: \"content\",\n    initialValue: dist_default.a.createEditorState(''),\n    rules: [{\n      required: true,\n      message: '请输入内容!'\n    }, function () {\n      return {\n        validator: function validator(_, value) {\n          if (value.isEmpty()) {\n            return Promise.reject(new Error('请输入内容!'));\n          }\n\n          return Promise.resolve();\n        }\n      };\n    }]\n  }, /*#__PURE__*/react_default.a.createElement(dist_default.a, {\n    style: {\n      border: '1px solid #d9d9d9',\n      width: '100%'\n    },\n    contentStyle: {\n      height: '300px'\n    },\n    controls: controls // extendControls={extendControls}\n\n  })), contentType === 1 && /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */].Item, {\n    label: \"\\u8BF7\\u4E0A\\u4F20\\u6587\\u4EF6\",\n    name: \"fileList\",\n    extra: \"\\u5EFA\\u8BAEPDF\\u3001\\u56FE\\u7247\\u7B49\\u624B\\u673A\\u80FD\\u6253\\u5F00\\u7684\\u683C\\u5F0F\",\n    rules: [{\n      required: true,\n      message: '请上传文件!',\n      type: 'array'\n    }],\n    getValueFromEvent: normFile\n  }, /*#__PURE__*/react_default.a.createElement(upload[\"a\" /* default */], {\n    action: \"\".concat({\"baseUrl\":\"/hdmanager/\",\"adminUrl\":\"/hd-manager\",\"ASSSET_DOMIAN\":\"RESOURCE_PATH\",\"AI\":{\"AI_type\":0},\"isSaas\":1}.adminUrl, \"/attachments/uploadFile\"),\n    headers: {\n      tokenId: Object(utils[\"l\" /* getCookie */])('vipAdminToken')\n    },\n    accept: \".jpg,.png,.pdf,.jpeg\",\n    data: {\n      sourceId: '',\n      source: 17,\n      codeType: 154\n    },\n    fileList: fileList,\n    onChange: uploadFileChange,\n    onRemove: deleteFile,\n    maxCount: 1\n  }, /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n    disabled: fileList.length,\n    icon: /*#__PURE__*/react_default.a.createElement(UploadOutlined[\"a\" /* default */], null),\n    size: \"middle\"\n  }, \"\\u4E0A\\u4F20\")))), (loadingSubmit || loadingGetDetail || contentLoading) && /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: \"consulteModalLoading\"\n  }, /*#__PURE__*/react_default.a.createElement(spin[\"a\" /* default */], null)));\n}\n\n/* harmony default export */ var edit = (Object(umiExports[\"b\" /* connect */])(function (_ref6) {\n  var consulteQuestion = _ref6.consulteQuestion,\n      loading = _ref6.loading;\n  return {\n    consulteQuestion: consulteQuestion,\n    loadingSubmit: loading.effects['consulteQuestion/submitQuestionDetail'],\n    loadingGetDetail: loading.effects['consulteQuestion/getQuestionDetail'],\n    questionTypeLoading: loading.effects['consulteQuestion/getQuestionType']\n  };\n})(EditQuestionList));\n// EXTERNAL MODULE: ./src/pages/consulte/question/components/commonQuestion/styles.less?modules\nvar commonQuestion_stylesmodules = __webpack_require__(\"5Mu4\");\nvar commonQuestion_stylesmodules_default = /*#__PURE__*/__webpack_require__.n(commonQuestion_stylesmodules);\n\n// CONCATENATED MODULE: ./src/pages/consulte/question/components/commonQuestion/index.jsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar commonQuestion_layout = {\n  labelCol: {\n    span: 6\n  },\n  wrapperCol: {\n    span: 18\n  }\n};\nvar initPageData = {\n  pageNum: 1,\n  pageSize: 20\n};\nvar contentTypeList = ['文本', '文件或图片'];\nvar commonQuestion_Option = es_select[\"a\" /* default */].Option;\nvar commonQuestion_confirm = modal[\"a\" /* default */].confirm;\n\nvar commonQuestion_openNotification = function openNotification(type, message, description, placement, duration) {\n  notification[\"default\"][type || 'info']({\n    top: 30,\n    message: message,\n    description: description,\n    placement: placement,\n    duration: duration || 3\n  });\n};\n\nfunction CommonQuestion(props) {\n  var questionTypes = props.consulteQuestion.questionTypes;\n\n  var _getPermission = Object(utils[\"o\" /* getPermission */])('80100'),\n      authEdit = _getPermission.authEdit;\n\n  var questionTypesMap = Object(react[\"useMemo\"])(function () {\n    var map = new Map();\n    questionTypes.forEach(function (item) {\n      map.set(item.codeValue, item.codeText);\n    });\n    return map;\n  }, [questionTypes]);\n  var columns = [{\n    title: '问题',\n    dataIndex: 'problem',\n    // align:'center',\n    width: 700,\n    render: function render(data) {\n      return data || '--';\n    }\n  }, {\n    title: '问题类型',\n    dataIndex: 'problemId',\n    align: 'center',\n    width: 420,\n    render: function render(data) {\n      return questionTypesMap.get(data) || '全部问题';\n    }\n  }, {\n    title: '内容类型',\n    dataIndex: 'contentType',\n    width: 120,\n    align: 'center',\n    render: function render(data) {\n      return contentTypeList[data] || '--';\n    }\n  }, // {\n  //   title:'关键字',\n  //   dataIndex:'keywords',\n  //   width:120,\n  //   align:'center',\n  //   render(data){\n  //     return data || '--'\n  //   }\n  // },\n  {\n    title: '操作',\n    align: 'center',\n    width: 140,\n    render: function render(data) {\n      if (!authEdit) {\n        return null;\n      }\n\n      return /*#__PURE__*/react_default.a.createElement(\"div\", {\n        className: commonQuestion_stylesmodules_default.a.operationBox\n      }, /*#__PURE__*/react_default.a.createElement(\"span\", {\n        onClick: function onClick() {\n          return editClick(data.onlineServiceId);\n        }\n      }, \"\\u7F16\\u8F91\"), /*#__PURE__*/react_default.a.createElement(popconfirm[\"a\" /* default */], {\n        placement: \"topLeft\",\n        title: '您确定删除该条数据吗？',\n        onConfirm: function onConfirm() {\n          return deleteQuestionDetail(data.onlineServiceId);\n        }\n      }, /*#__PURE__*/react_default.a.createElement(\"span\", null, \"\\u5220\\u9664\")));\n    }\n  }];\n\n  var _Form$useForm = es_form[\"a\" /* default */].useForm(),\n      _Form$useForm2 = Object(slicedToArray[\"a\" /* default */])(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useState = Object(react[\"useState\"])({}),\n      _useState2 = Object(slicedToArray[\"a\" /* default */])(_useState, 2),\n      dataSource = _useState2[0],\n      setDataSource = _useState2[1]; // 表格数据\n\n\n  var _useState3 = Object(react[\"useState\"])(initPageData),\n      _useState4 = Object(slicedToArray[\"a\" /* default */])(_useState3, 2),\n      pageData = _useState4[0],\n      setPageData = _useState4[1]; // 表格page及pageSize\n\n\n  var _useState5 = Object(react[\"useState\"])([]),\n      _useState6 = Object(slicedToArray[\"a\" /* default */])(_useState5, 2),\n      selectedRowKeys = _useState6[0],\n      setSelectRowKeys = _useState6[1]; // 当前选中的表格数据\n\n\n  var _useState7 = Object(react[\"useState\"])(false),\n      _useState8 = Object(slicedToArray[\"a\" /* default */])(_useState7, 2),\n      editVisible = _useState8[0],\n      setEditVisible = _useState8[1]; // 新建修改框\n\n\n  var _useState9 = Object(react[\"useState\"])(''),\n      _useState10 = Object(slicedToArray[\"a\" /* default */])(_useState9, 2),\n      questionDetailId = _useState10[0],\n      setQuestionDetailId = _useState10[1]; // 问题详情数据id\n\n\n  var _useState11 = Object(react[\"useState\"])(false),\n      _useState12 = Object(slicedToArray[\"a\" /* default */])(_useState11, 2),\n      batchUploadModalFlag = _useState12[0],\n      setBatchUploadModalFlag = _useState12[1]; // 批量上传展示\n\n\n  var onSelectChange = function onSelectChange(selectedRowKeys) {\n    setSelectRowKeys(selectedRowKeys);\n  };\n\n  var rowSelection = {\n    selectedRowKeys: selectedRowKeys,\n    onChange: onSelectChange\n  }; // 新建数据\n\n  var newBuildClick = function newBuildClick() {\n    setQuestionDetailId('');\n    setEditVisible(true);\n  }; // 编辑数据\n\n\n  var editClick = function editClick(id) {\n    setQuestionDetailId(id);\n    setEditVisible(true);\n  }; // 获取表格数据\n\n\n  var tableSearch = function tableSearch() {\n    var dispatch = props.dispatch;\n    var values = form.getFieldsValue();\n    dispatch({\n      type: 'consulteQuestion/getQuestionSettingTableData',\n      payload: Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({}, values), pageData),\n      callback: function callback(res) {\n        if (res.code === 1008) {\n          var _ref = res.data || {},\n              _ref$list = _ref.list,\n              list = _ref$list === void 0 ? [] : _ref$list,\n              total = _ref.total;\n\n          setDataSource({\n            list: list,\n            total: total\n          });\n        } else {\n          commonQuestion_openNotification('warning', \"\\u63D0\\u793A\\uFF08\\u4EE3\\u7801\\uFF1A\".concat(res.code, \"\\uFF09\"), \"\".concat(res.message ? res.message : '获取数据失败!'), 'topRight');\n        }\n      }\n    });\n  }; // 分页排序等\n\n\n  var _tableChange = function _tableChange(p, e, s) {\n    setPageData(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({}, pageData), {}, {\n      pageNum: p.current,\n      pageSize: p.pageSize\n    }));\n  }; // 删除表格数据\n\n\n  var deleteQuestionDetail = function deleteQuestionDetail(id) {\n    var _callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    var dispatch = props.dispatch;\n    dispatch({\n      type: 'consulteQuestion/deleteQuestionDetail',\n      payload: {\n        onlineServiceId: id\n      },\n      callback: function callback(res) {\n        if (res.code === 1008) {\n          commonQuestion_openNotification('success', '提示', '删除成功');\n          tableSearch(); // 更新数据\n\n          if (_callback) _callback();\n        } else {\n          commonQuestion_openNotification('warning', \"\\u63D0\\u793A\\uFF08\\u4EE3\\u7801\\uFF1A\".concat(res.code, \"\\uFF09\"), \"\".concat(res.message ? res.message : '删除失败！'), 'topRight');\n        }\n      }\n    });\n  }; // 批量删除\n\n\n  var batchDelete = function batchDelete() {\n    commonQuestion_confirm({\n      title: '请您确定是否全部删除',\n      icon: /*#__PURE__*/react_default.a.createElement(ExclamationCircleOutlined[\"a\" /* default */], null),\n      content: '删除后该问题信息会删除',\n      okText: '确认',\n      cancelText: '取消',\n      onOk: function onOk() {\n        var ids = selectedRowKeys.join(',');\n        deleteQuestionDetail(ids, function () {\n          return setSelectRowKeys([]);\n        });\n      }\n    });\n  }; // 获取问题类型\n\n\n  var getQuestionType = function getQuestionType() {\n    var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var dispatch = props.dispatch;\n    dispatch({\n      type: 'consulteQuestion/getQuestionType',\n      payload: {},\n      callback: callback\n    });\n  }; // 条件查询\n\n\n  var onFinish = function onFinish(values) {\n    setPageData(initPageData);\n    tableSearch();\n  }; // 重置\n\n\n  var onReset = function onReset() {\n    form.setFieldsValue({\n      problem: '',\n      problemId: null\n    });\n    tableSearch();\n  };\n\n  var closeModal = function closeModal() {\n    setBatchUploadModalFlag(false);\n    tableSearch();\n  };\n\n  Object(react[\"useEffect\"])(function () {\n    var questionTypes = props.consulteQuestion.questionTypes; // 初次渲染表格\n\n    tableSearch(); // 存在问题类型缓存则取缓存\n\n    if (!(Array.isArray(questionTypes) && questionTypes.length)) {\n      getQuestionType();\n    }\n  }, []);\n  Object(react[\"useEffect\"])(function () {\n    tableSearch();\n  }, [pageData]);\n  return /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: commonQuestion_stylesmodules_default.a.commonQuestion\n  }, batchUploadModalFlag && /*#__PURE__*/react_default.a.createElement(batchUpload[\"a\" /* default */], {\n    modalFlag: batchUploadModalFlag,\n    closeModal: closeModal,\n    templateMsg: \"\\u62AB\\u9732\\u89C4\\u5219\\u6A21\\u677F\\u4E0B\\u8F7D\",\n    templateUrl: \"/onlineService/import/template?tokenId=\".concat(Object(utils[\"l\" /* getCookie */])('vipAdminToken')) // params={{ productId: productId ? Number(productId) : undefined }}\n    ,\n    onOk: closeModal,\n    url: \"/onlineService/import\"\n  }), /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */], Object(esm_extends[\"a\" /* default */])({}, commonQuestion_layout, {\n    form: form,\n    onFinish: onFinish\n  }), /*#__PURE__*/react_default.a.createElement(row[\"a\" /* default */], {\n    gutter: 24\n  }, /*#__PURE__*/react_default.a.createElement(col[\"a\" /* default */], {\n    span: 8\n  }, /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */].Item, {\n    label: \"\\u95EE\\u9898:\",\n    name: \"problem\"\n  }, /*#__PURE__*/react_default.a.createElement(input[\"a\" /* default */], {\n    placeholder: \"\\u8BF7\\u8F93\\u5165\"\n  }))), /*#__PURE__*/react_default.a.createElement(col[\"a\" /* default */], {\n    span: 8,\n    className: commonQuestion_stylesmodules_default.a.questionType\n  }, /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */].Item, {\n    label: \"\\u95EE\\u9898\\u7C7B\\u578B:\",\n    name: \"problemId\"\n  }, /*#__PURE__*/react_default.a.createElement(es_select[\"a\" /* default */], {\n    placeholder: \"\\u8BF7\\u9009\\u62E9\",\n    showSearch: true,\n    loading: Boolean(props.questionTypeLoading),\n    allowClear: true,\n    filterOption: function filterOption(input, option) {\n      return option.children.indexOf(input) >= 0;\n    }\n  }, questionTypes.map(function (item) {\n    return /*#__PURE__*/react_default.a.createElement(commonQuestion_Option, {\n      value: item.codeValue,\n      key: item.codeValue\n    }, item.codeText);\n  }))), authEdit && /*#__PURE__*/react_default.a.createElement(subjectModel, {\n    getQuestionType: getQuestionType\n  }))), /*#__PURE__*/react_default.a.createElement(row[\"a\" /* default */], {\n    gutter: 24\n  }, /*#__PURE__*/react_default.a.createElement(col[\"a\" /* default */], {\n    span: 24\n  }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: commonQuestion_stylesmodules_default.a.btns\n  }, /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n    type: \"primary\",\n    htmlType: \"submit\"\n  }, \"\\u67E5\\u8BE2\"), /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n    htmlType: \"button\",\n    className: commonQuestion_stylesmodules_default.a.raestBtn,\n    onClick: onReset\n  }, \"\\u91CD\\u7F6E\"))))), /*#__PURE__*/react_default.a.createElement(\"div\", null, !!authEdit && /*#__PURE__*/react_default.a.createElement(\"div\", null, /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n    type: \"primary\",\n    style: {\n      marginRight: '5px'\n    },\n    icon: /*#__PURE__*/react_default.a.createElement(PlusOutlined[\"a\" /* default */], null),\n    onClick: newBuildClick\n  }, \"\\u65B0\\u5EFA\"), /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n    onClick: batchDelete,\n    style: {\n      marginLeft: '10px'\n    }\n  }, \"\\u6279\\u91CF\\u5220\\u9664\"), /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n    style: {\n      marginLeft: '10px'\n    },\n    onClick: function onClick() {\n      return setBatchUploadModalFlag(true);\n    },\n    type: \"primary\"\n  }, \"\\u6279\\u91CF\\u4E0A\\u4F20\")), /*#__PURE__*/react_default.a.createElement(MXTable[\"a\" /* default */], {\n    loading: Boolean(props.loading),\n    columns: columns,\n    dataSource: dataSource.list || [],\n    total: dataSource.total,\n    pageNum: pageData.pageNum,\n    scroll: {\n      x: '100%'\n    },\n    sticky: true,\n    onChange: function onChange(p, e, s) {\n      return _tableChange(p, e, s);\n    },\n    rowSelection: rowSelection,\n    rowKey: \"onlineServiceId\"\n  })), editVisible && /*#__PURE__*/react_default.a.createElement(edit, {\n    visible: editVisible,\n    setVisible: setEditVisible,\n    tableSearch: tableSearch,\n    id: questionDetailId\n  }));\n}\n\n/* harmony default export */ var commonQuestion = (Object(umiExports[\"b\" /* connect */])(function (_ref2) {\n  var consulteQuestion = _ref2.consulteQuestion,\n      loading = _ref2.loading;\n  return {\n    consulteQuestion: consulteQuestion,\n    loading: loading.effects['consulteQuestion/getQuestionSettingTableData'],\n    questionTypeLoading: loading.effects['consulteQuestion/getQuestionType']\n  };\n})(CommonQuestion));\n// CONCATENATED MODULE: ./src/pages/consulte/data.js\nvar questionTabs = [{\n  title: '常见问题设置',\n  key: '1'\n} // {\n//   title:'自动回复设置',\n//   key:'2'\n// },\n// {\n//   title:'客服设置',\n//   key:'3'\n// }\n];\n// EXTERNAL MODULE: ./src/pages/consulte/question/styles.less?modules\nvar question_stylesmodules = __webpack_require__(\"o+Cm\");\n\n// CONCATENATED MODULE: ./src/pages/consulte/question/index.jsx\n\n\n\n\n\n\n\n\n\n\n\nvar TabPane = tabs[\"a\" /* default */].TabPane;\n\nfunction Question(props) {\n  return /*#__PURE__*/react_default.a.createElement(es[\"a\" /* PageHeaderWrapper */], {\n    title: \"\\u5E38\\u89C1\\u95EE\\u9898\\u7BA1\\u7406\"\n  }, /*#__PURE__*/react_default.a.createElement(GridContent[\"a\" /* default */], null, /*#__PURE__*/react_default.a.createElement(card[\"a\" /* default */], null, /*#__PURE__*/react_default.a.createElement(tabs[\"a\" /* default */], null, questionTabs.map(function (item) {\n    return /*#__PURE__*/react_default.a.createElement(TabPane, {\n      tab: item.title,\n      key: item.key\n    }, /*#__PURE__*/react_default.a.createElement(commonQuestion, null));\n  })))));\n}\n\n/* harmony default export */ var question = __webpack_exports__[\"default\"] = (Object(umiExports[\"b\" /* connect */])(function (_ref) {\n  _objectDestructuringEmpty(_ref);\n\n  return {};\n})(Question));\n\n/***/ }),\n\n/***/ \"o+Cm\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\bundler-webpack\\lib\\webpack\\plugins\\mini-css-extract-plugin\\src\\loader.js??ref--13-oneOf-0-0!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\css-loader\\cjs.js??ref--13-oneOf-0-1!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\postcss-loader\\src\\index.js??postcss!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\less-loader\\cjs.js??ref--13-oneOf-0-3!E:\\公司代码\\MRP报表\\vip-manager\\src\\pages\\consulte\\question\\components\\commonQuestion\\styles.less?modules","E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\bundler-webpack\\lib\\webpack\\plugins\\mini-css-extract-plugin\\src\\loader.js??ref--13-oneOf-0-0!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\css-loader\\cjs.js??ref--13-oneOf-0-1!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\postcss-loader\\src\\index.js??postcss!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\less-loader\\cjs.js??ref--13-oneOf-0-3!E:\\公司代码\\MRP报表\\vip-manager\\src\\pages\\consulte\\question\\components\\commonQuestion\\edit\\styles.less?modules","E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\bundler-webpack\\lib\\webpack\\plugins\\mini-css-extract-plugin\\src\\loader.js??ref--13-oneOf-0-0!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\css-loader\\cjs.js??ref--13-oneOf-0-1!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\postcss-loader\\src\\index.js??postcss!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\less-loader\\cjs.js??ref--13-oneOf-0-3!E:\\公司代码\\MRP报表\\vip-manager\\src\\pages\\consulte\\question\\components\\commonQuestion\\subjectModel\\index.less?modules","E:/公司代码/MRP报表/vip-manager/node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js","E:/公司代码/MRP报表/vip-manager/src/pages/consulte/question/components/commonQuestion/subjectModel/index.jsx","E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@ant-design\\icons-svg\\es\\asn\\PictureOutlined.js","E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@ant-design\\icons\\es\\icons\\PictureOutlined.js","E:/公司代码/MRP报表/vip-manager/src/pages/consulte/question/components/commonQuestion/edit/index.jsx","E:/公司代码/MRP报表/vip-manager/src/pages/consulte/question/components/commonQuestion/index.jsx","E:/公司代码/MRP报表/vip-manager/src/pages/consulte/data.js","E:/公司代码/MRP报表/vip-manager/src/pages/consulte/question/index.jsx","E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\bundler-webpack\\lib\\webpack\\plugins\\mini-css-extract-plugin\\src\\loader.js??ref--13-oneOf-0-0!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\css-loader\\cjs.js??ref--13-oneOf-0-1!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\postcss-loader\\src\\index.js??postcss!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\less-loader\\cjs.js??ref--13-oneOf-0-3!E:\\公司代码\\MRP报表\\vip-manager\\src\\pages\\consulte\\question\\styles.less?modules"],"names":["_objectDestructuringEmpty","obj","TypeError","grid","getItemStyle","isDragging","draggableStyle","userSelect","padding","background","getListStyle","isDraggingOver","width","openNotification","type","message","description","placement","duration","top","SetSubjectModel","state","selectedRowKeys","showModal","datasources","data","homeShowCount","articleCount","subjectCount","list","selectedRow","topInfo","userList","saleUserNameList","customerId","current","pageNum","pageSize","tabeData","powerInfo","showExcalVip","vipLevel","articleColumnModel","specialCustActStatus","tags","inputVisible","inputValue","editInputIndex","editInputValue","checkoutFrontPage","showModalDel","deleteSubjectId","removedTag","canConfirm","modalhandleOk","e","setState","showExcal","determine","modalhandleCancelDel","modalhandleOkDel","filter","tag","setArticleColumn","questionTypes","props","consulteQuestion","customerhandleCancel","articleColumnSaveOk","saveSubjectColumn","handleClose","preventDefault","id","showInput","input","focus","handleInputChange","target","value","handleInputConfirm","replace","t","result","some","item","codeText","handleEditInputChange","handleEditInputConfirm","index","newTags","saveInputRef","saveEditInputRef","editInput","params","dispatch","getQuestionType","payload","sysCodelistList","callback","res","code","warningText","reOrder","startIndex","endIndex","Array","from","splice","removed","onDragEnd","destination","items","source","nextProps","saveLoading","questionTypeLoading","Object","is","provided","snapshot","innerRef","droppableProps","map","isLongTag","length","tagElem","slice","draggableProps","dragHandleProps","style","styles","CloseICon","color","fontSize","marginTop","conlumnSortModel","modalContentBox","textAlign","renderTags","consulteQestionModalLoading","newBuildSubject","Component","connect","loading","effects","layout","labelCol","span","wrapperCol","controls","Option","EditQuestionList","loadingSubmit","loadingGetDetail","visible","setVisible","tableSearch","useForm","form","useState","contentType","setContentType","fileList","setFileList","contentLoading","setContentLoading","useEffect","onlineServiceId","problem","problemId","content","attachment","contentToEditor","BraftEditor","createEditorState","isReallyProblemId","codeValue","attachmentList","uid","attachmentsId","name","fileName","url","baseUrl","status","setFieldsValue","onFinish","validateFields","then","values","contentToString","toHTML","isArray","uploadFileChange","file","response","flieObj","fl","deleteFile","request","get","getFieldValue","arr","normFile","customRequest","formData","FormData","append","postMultipart","ContentUtils","insertMedias","extendControls","key","component","_styles","editQuestion","required","max","Boolean","validator","_","isEmpty","Promise","reject","Error","resolve","border","height","BASE_PATH","adminUrl","tokenId","getCookie","sourceId","codeType","initPageData","contentTypeList","confirm","CommonQuestion","getPermission","authEdit","questionTypesMap","useMemo","Map","forEach","set","columns","title","dataIndex","render","align","operationBox","editClick","deleteQuestionDetail","dataSource","setDataSource","pageData","setPageData","setSelectRowKeys","editVisible","setEditVisible","questionDetailId","setQuestionDetailId","batchUploadModalFlag","setBatchUploadModalFlag","onSelectChange","rowSelection","onChange","newBuildClick","getFieldsValue","total","_tableChange","p","s","batchDelete","icon","okText","cancelText","onOk","ids","join","onReset","closeModal","commonQuestion","questionType","option","children","indexOf","btns","raestBtn","marginRight","marginLeft","x","questionTabs","TabPane","Question"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"commonQuestion\":\"antd-pro-pages-consulte-question-components-common-question-styles-commonQuestion\",\"questionType\":\"antd-pro-pages-consulte-question-components-common-question-styles-questionType\",\"operationBox\":\"antd-pro-pages-consulte-question-components-common-question-styles-operationBox\",\"btns\":\"antd-pro-pages-consulte-question-components-common-question-styles-btns\",\"questionTypeModal\":\"antd-pro-pages-consulte-question-components-common-question-styles-questionTypeModal\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editQuestion\":\"antd-pro-pages-consulte-question-components-common-question-edit-styles-editQuestion\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newBuildSubject\":\"antd-pro-pages-consulte-question-components-common-question-subject-model-index-newBuildSubject\",\"conlumnSortModel\":\"antd-pro-pages-consulte-question-components-common-question-subject-model-index-conlumnSortModel\",\"consulteQestionModalLoading\":\"antd-pro-pages-consulte-question-components-common-question-subject-model-index-consulteQestionModalLoading\"};","export default function _objectDestructuringEmpty(obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n}","import { Button, Input, Modal, Tag, Tooltip, notification, Spin } from 'antd';\nimport { connect } from 'umi';\nimport React, { Component } from 'react';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { PlusOutlined, CloseCircleOutlined } from '@ant-design/icons';\nimport styles from './index.less';\n// 样式相关 代码\nconst grid = 8;\n// 水平样式\nconst getItemStyle = (isDragging, draggableStyle) => ({\n    // some basic styles to make the items look a bit nicer\n    userSelect: 'none',\n    padding: grid * 2,\n    // margin: `0 ${grid}px 0 0`,\n\n    // change background colour if dragging\n    background: isDragging ? 'lightgreen' : 'white',\n\n    // styles we need to apply on draggables\n    ...draggableStyle\n});\nconst getListStyle = (isDraggingOver) => ({\n    background: isDraggingOver ? 'lightblue' : 'lightgrey',\n    width: '100%'\n    // display: 'flex',\n    // padding: grid,\n    // overflow: 'auto',\n});\nconst openNotification = (type, message, description, placement, duration) => {\n    notification[type || 'info']({\n        top: 165,\n        message,\n        description,\n        placement,\n        duration: duration || 3\n    });\n};\nclass SetSubjectModel extends Component {\n    state = {\n        selectedRowKeys: '',\n        showModal: false,\n        datasources: {\n            data: {\n                homeShowCount: null,\n                articleCount: null,\n                subjectCount: null,\n                list: []\n            }\n        },\n        selectedRow: [],\n        topInfo: {},\n        userList: [],\n        saleUserNameList: [],\n        customerId: '',\n        current: 1,\n        pageNum: 1,\n        pageSize: 20,\n        tabeData: [],\n        powerInfo: {},\n        showExcalVip: false,\n        vipLevel: '',\n        articleColumnModel: false,\n        specialCustActStatus: '',\n        // 设置文章栏目\n        tags: [],\n        inputVisible: false,\n        inputValue: '',\n        editInputIndex: -1,\n        editInputValue: '',\n        checkoutFrontPage: false,\n        showModalDel: false,\n        deleteSubjectId: null,\n        removedTag: '',\n        canConfirm: true\n    };\n\n    componentDidMount() {\n        const { consulteQuestion: { questionTypes } } = this.props;\n        this.setState({ tags: questionTypes });\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        const { consulteQuestion: { questionTypes }, saveLoading, questionTypeLoading } = nextProps || {};\n        const { tags } = this.state;\n        if (Object.is(questionTypes, tags)) return;\n        if (saveLoading || questionTypeLoading) return;\n        this.setState({ tags: questionTypes });\n    }\n\n    modalhandleOk = (e) => {\n        const { selectedRowKeys } = this.state;\n        if (e) {\n            this.setState({\n                showExcal: false\n            });\n        } else {\n            this.determine(selectedRowKeys);\n            this.setState({\n                showModal: false\n            });\n        }\n    }\n\n    modalhandleCancelDel = () => {\n        this.setState({\n            showModalDel: false\n        });\n    }\n\n    modalhandleOkDel = () => {\n        const { removedTag } = this.state;\n        const tags = this.state.tags.filter((tag) => tag !== removedTag);\n        this.setState({\n            tags,\n            showModalDel: false\n        });\n    }\n    // 设置文章栏目\n    setArticleColumn = () => {\n        const { consulteQuestion: { questionTypes } } = this.props;\n        this.setState({\n            tags: questionTypes,\n            articleColumnModel: true\n        });\n    }\n\n    customerhandleCancel = () => {\n        this.setState({\n            articleColumnModel: false,\n            editInputIndex: null,\n            inputVisible:false\n        });\n    }\n\n    articleColumnSaveOk = () => {\n        if (!this.state.canConfirm) {\n            openNotification('warning', '类型名称未填写或填写错误', '', 'topRight');\n            return;\n        }\n        const { tags } = this.state;\n        this.setState({\n            editInputIndex: null\n        });\n        this.saveSubjectColumn(tags);\n    }\n\n    // 设置类型标题\n    handleClose = (e, removedTag) => {\n        // const tags = this.state.tags.filter(tag => tag !== removedTag);\n        // this.setState({ tags });\n        e.preventDefault();\n        let id = removedTag.id;\n        this.setState({\n            removedTag,\n            deleteSubjectId: id\n        });\n        this.setState({\n            showModalDel: true\n        });\n    };\n\n    showInput = () => {\n        this.setState({ inputVisible: true }, () => this.input.focus());\n    };\n\n    handleInputChange = (e) => {\n        this.setState({ inputValue: e.target.value });\n    };\n\n    handleInputConfirm = () => {\n        const { inputValue, tags } = this.state;\n        //   inputValue不能时空格  同时在判断问题类型是否相同时需要去掉中间空格\n        if (!(inputValue.replace(/\\s+/g, ''))) {\n            openNotification('warning', '类型名称不能为空', '', 'topRight');\n            this.setState({ canConfirm: false });\n            return;\n        }\n        let t = tags;\n        const result = tags.some((item) => {\n            if (!item.codeText) {\n                openNotification('warning', '类型名称不能为空', '', 'topRight');\n                this.setState({ canConfirm: false });\n                return true;\n            }\n            if (item.codeText.replace(/\\s+/g, '') === inputValue.replace(/\\s+/g, '')) {\n                openNotification('warning', '请设置不同的类型名称', '', 'topRight');\n                this.setState({ canConfirm: false });\n                return true;\n            }\n        });\n        if (result) {\n            return;\n        }\n        if (inputValue && !result) {\n            t = [\n                ...tags,\n                {\n                    codeText: inputValue\n                }];\n        }\n        this.setState({\n            tags: t,\n            inputVisible: false,\n            inputValue: '',\n            canConfirm:true\n        });\n    };\n\n    handleEditInputChange = (e) => {\n        this.setState({ editInputValue: e.target.value });\n    };\n\n    handleEditInputConfirm = () => {\n        const { editInputValue, tags } = this.state;\n        //   inputValue不能时空格  同时在判断问题类型是否相同时需要去掉中间空格\n        if (!(editInputValue.replace(/\\s+/g, ''))) {\n            openNotification('warning', '类型名称不能为空', '', 'topRight');\n\n            this.setState({\n                canConfirm: false,\n                editInputIndex: null\n            });\n            return;\n        }\n        const result = tags.some((item, index) => {\n            if (index === this.state.editInputIndex) { // 不去与当前编辑的输入框做对比\n                return false;\n            }\n            if (item.codeText.replace(/\\s+/g, '') === editInputValue.replace(/\\s+/g, '')) {\n                this.setState({\n                    canConfirm: false\n                });\n                openNotification('warning', '请设置不同的类型名称', '', 'topRight');\n                return true;\n            }\n        });\n        if (result) {\n            return;\n        }\n        this.setState(({ tags, editInputIndex, editInputValue }) => {\n            const newTags = [...tags];\n            newTags[editInputIndex].codeText = editInputValue;\n            return {\n                tags: newTags,\n                editInputIndex: -1,\n                editInputValue: '',\n                canConfirm: true\n            };\n        });\n    };\n\n    saveInputRef = (input) => {\n        this.input = input;\n    };\n\n    saveEditInputRef = (input) => {\n        this.editInput = input;\n    };\n\n    // 增加排序\n    // 确定保存\n    saveSubjectColumn = (params) => {\n        const { dispatch, getQuestionType } = this.props;\n        dispatch({\n            type: 'consulteQuestion/addQuestionType',\n            payload: {\n                sysCodelistList: params\n            },\n            callback: (res) => {\n                if (res.code === 1008) {\n                    getQuestionType();\n                    this.setState({\n                        articleColumnModel: false\n                    });\n                    openNotification('success', '提示', res.message || '保存成功', 'topRight', 5);\n                } else {\n                    const warningText = res.message || res.data || '保存失败，请稍后再试！';\n                    openNotification('warning', `提示（代码：${res.code}）`, warningText, 'topRight');\n                }\n            }\n        });\n\n    }\n    reOrder = (list, startIndex, endIndex) => {\n        const result = Array.from(list);\n        const [removed] = result.splice(startIndex, 1);\n        result.splice(endIndex, 0, removed);\n        return result;\n    };\n\n    onDragEnd = (result) => {\n        // dropped outside the list\n        if (!result.destination) {\n            return;\n        }\n        const items = this.reOrder(\n            this.state.tags,\n            result.source.index,\n            result.destination.index\n        );\n        this.setState({\n            tags: items\n        });\n    }\n\n    renderTags() {\n        const { tags, inputVisible, inputValue, editInputIndex, editInputValue, showModalDel } = this.state;\n        return (\n            <>\n                <DragDropContext onDragEnd={this.onDragEnd}>\n                    <Droppable droppableId=\"droppable\" direction=\"vertical\">\n                        {(provided, snapshot) => (\n                            <div\n                                ref={provided.innerRef}\n                                style={getListStyle(snapshot.isDraggingOver)}\n                                {...provided.droppableProps}\n                            >\n                                {tags.map((tag, index) => {\n                                    if (editInputIndex === index) {\n                                        return (\n                                            <Input\n                                                ref={this.saveEditInputRef}\n                                                key={tag.codeText}\n                                                size=\"small\"\n                                                className=\"tag-input\"\n                                                value={editInputValue}\n                                                onChange={this.handleEditInputChange}\n                                                onBlur={this.handleEditInputConfirm}\n                                                onPressEnter={this.handleEditInputConfirm}\n                                            />\n                                        );\n                                    }\n                                    const isLongTag = tag.codeText.length > 20;\n                                    const tagElem = (\n                                        <Tag\n                                            className=\"edit-tag\"\n                                            key={tag.codeText}\n                                            closable={index !== 0}\n                                            onClose={(e) => this.handleClose(e, tag)}\n                                        >\n                                            <span\n                                                onDoubleClick={(e) => {\n                                                    // if (index !== 0) {\n                                                    this.setState({ editInputIndex: index, editInputValue: tag.codeText }, () => {\n                                                        this.editInput.focus();\n                                                    });\n                                                    e.preventDefault();\n                                                    // }\n                                                }}\n                                            >\n                                                {isLongTag ? `${tag.codeText.slice(0, 20)}...` : tag.codeText}\n                                            </span>\n                                        </Tag>\n\n                                    );\n                                    return isLongTag ? (\n                                        <Tooltip title={tag.codeText} key={tag.codeText}>\n                                            {tagElem}\n                                        </Tooltip>\n                                    ) : (\n                                        <Draggable key={tag.codeText} draggableId={tag.codeText} index={index}>\n                                            {(provided, snapshot) => (\n                                                <div\n                                                    ref={provided.innerRef}\n                                                    {...provided.draggableProps}\n                                                    {...provided.dragHandleProps}\n                                                    style={getItemStyle(\n                                                        snapshot.isDragging,\n                                                        provided.draggableProps.style\n                                                    )}\n                                                >\n                                                    {tagElem}\n                                                </div>\n                                            )}\n                                        </Draggable>\n                                    );\n                                })}\n                                {inputVisible && (\n                                    <Input\n                                        ref={this.saveInputRef}\n                                        type=\"text\"\n                                        size=\"small\"\n                                        className=\"tag-input\"\n                                        value={inputValue}\n                                        onChange={this.handleInputChange}\n                                        onBlur={this.handleInputConfirm}\n                                        onPressEnter={this.handleInputConfirm}\n                                    />\n                                )}\n                            </div>\n                        )}\n                    </Droppable>\n                </DragDropContext>\n                {!inputVisible && (\n                    <Tag className=\"site-tag-plus\" onClick={this.showInput}>\n                        <PlusOutlined /> 类型\n                    </Tag>\n                )}\n            </>\n        );\n    }\n\n    render() {\n        const { saveLoading, questionTypeLoading } = this.props;\n        const { articleColumnModel, showModalDel } = this.state;\n        return (\n            <div>\n                <Modal\n                    // title=\"提示\"\n                    visible={showModalDel}\n                    closable={false}\n                    footer={\n                        <>\n                            <Button onClick={() => this.modalhandleOkDel(0)} type=\"primary\">是</Button>\n                            <Button onClick={this.modalhandleCancelDel}>否</Button>\n                        </>\n                    }\n                >\n                    <div className={styles.CloseICon}>\n                        <p><CloseCircleOutlined style={{ color: 'red', fontSize: 18 }} /> 请您确认是否删除该类型</p>\n                        <p style={{ marginTop: 10 }}>删除该栏目后，该类型下的所有的“问题信息”的类型都将为空，需要重新设置，确定保存后生效</p>\n                    </div>\n                </Modal>\n                <Modal\n                    className={styles.conlumnSortModel}\n                    title=\"请设置问题类型\"\n                    visible={articleColumnModel}\n                    closable={false}\n                    mask={false}\n                    maskClosable={false}\n                    footer={\n                        <>\n                            <Button onClick={this.articleColumnSaveOk} type=\"primary\">确定</Button>\n                            <Button onClick={this.customerhandleCancel}>取消</Button>\n                        </>\n                    }\n                >\n                    <div className={styles.modalContentBox} style={{ textAlign: 'center' }}>\n                        {/* <Search placeholder=\"请输入搜索栏目\" onSearch={this.onSearchColumnName()} enterButton /> */}\n                        {this.renderTags()}\n                        {\n                            (saveLoading || questionTypeLoading) && (\n                                <div className={styles.consulteQestionModalLoading}>\n                                    <Spin />\n                                </div>\n                            )\n                        }\n                    </div>\n                </Modal>\n                <a type=\"primary\" className={styles.newBuildSubject} onClick={this.setArticleColumn}>\n                    添加类型\n                </a>\n            </div>\n        );\n    }\n}\n\nexport default connect(({ consulteQuestion, loading }) => ({\n    consulteQuestion,\n    saveLoading: loading.effects['consulteQuestion/addQuestionType'],\n    questionTypeLoading: loading.effects['consulteQuestion/getQuestionType']\n}))(SetSubjectModel);\n","// This icon file is generated automatically.\nvar PictureOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2zM304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z\" } }] }, \"name\": \"picture\", \"theme\": \"outlined\" };\nexport default PictureOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport PictureOutlinedSvg from \"@ant-design/icons-svg/es/asn/PictureOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar PictureOutlined = function PictureOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: PictureOutlinedSvg\n  }));\n};\n\nPictureOutlined.displayName = 'PictureOutlined';\nexport default /*#__PURE__*/React.forwardRef(PictureOutlined);","import React, { useState, useEffect } from 'react';\nimport { connect } from 'umi';\nimport { Modal, Form, Input, Select, Radio, Spin, notification, Upload, Button } from 'antd';\nimport { UploadOutlined, PictureOutlined } from '@ant-design/icons';\nimport { getCookie } from '@/utils/utils';\nimport request from '@/utils/rest';\n\n// 引入编辑器组件\nimport BraftEditor from 'braft-editor';\nimport { ContentUtils } from 'braft-utils'; // 引入编辑器样式\nimport 'braft-editor/dist/index.css';\n\nimport _styles from './styles.less';\n\nconst layout = {\n    labelCol: { span: 4 },\n    wrapperCol: { span: 20 }\n};\n\nconst controls = ['bold', 'italic', 'underline', 'text-color', 'separator', 'link', 'separator'];\n\nconst openNotification = (type, message, description, placement, duration) => {\n    notification[type || 'info']({\n        top: 30,\n        message,\n        description,\n        placement,\n        duration: duration || 3\n    });\n};\n\nconst { Option } = Select;\n\nfunction EditQuestionList(props) {\n    const {\n        consulteQuestion: { questionTypes },\n        loadingSubmit,\n        loadingGetDetail\n    } = props;\n    const { visible, setVisible, tableSearch, id = null } = props;\n    const [form] = Form.useForm();\n\n    const [contentType, setContentType] = useState(0); // 问题内容选择\n    const [fileList, setFileList] = useState([]); // 上传文件内容,仅限上传一个\n    const [contentLoading, setContentLoading] = useState(false); // 编辑器loading\n\n    // 编辑时读取数据\n    useEffect(() => {\n        if (!id) return;\n        const { dispatch } = props;\n        dispatch({\n            type: 'consulteQuestion/getQuestionDetail',\n            payload: { onlineServiceId: id },\n            callback: (res) => {\n                if (res.code === 1008) {\n                    const { data = {} } = res;\n                    const { problem, problemId, contentType, content, attachment = [] } = data;\n                    const contentToEditor =\n                        (content && BraftEditor.createEditorState(content)) || null;\n                    const isReallyProblemId = questionTypes.some(\n                        (item) => item.codeValue === problemId,\n                    );\n                    const attachmentList =\n                        (attachment &&\n                            [attachment].map((item) => ({\n                                uid: item.attachmentsId,\n                                name: item.fileName,\n                                url: item.baseUrl,\n                                status: 'done'\n                            }))) ||\n                        [];\n                    form.setFieldsValue({\n                        problem,\n                        problemId: isReallyProblemId ? problemId : '',\n                        contentType,\n                        content: contentToEditor,\n                        fileList: attachmentList\n                    });\n                    setContentType(contentType);\n                    setFileList(attachmentList);\n                } else {\n                    openNotification(\n                        'warning',\n                        `提示（代码：${res.code}）`,\n                        `${res.message ? res.message : '获取数据失败!'}`,\n                        'topRight',\n                    );\n                }\n            }\n        });\n    }, []);\n\n    const onFinish = () => {\n        const { validateFields } = form;\n        validateFields().then((values) => {\n            const { dispatch } = props;\n            // 将富文本编译器内容转换为html\n            const { content, fileList, ...params } = values;\n            const contentToString = (content && content.toHTML()) || null;\n            const attachmentsId = (Array.isArray(fileList) && fileList[0].uid) || null;\n            dispatch({\n                type: 'consulteQuestion/submitQuestionDetail',\n                payload: {\n                    ...params,\n                    contentType,\n                    content: contentType === 0 ? contentToString : null,\n                    attachmentsId: contentType === 1 ? attachmentsId : null,\n                    onlineServiceId: id\n                },\n                callback: (res) => {\n                    const { code = '', message = '' } = res;\n                    if (code === 1008) {\n                        openNotification('success', '提示', '保存成功');\n                        tableSearch(); // 更新数据\n                        setVisible(false);\n                    } else {\n                        openNotification(\n                            'warning',\n                            `提示（代码：${code}）`,\n                            `${message ? message : '保存失败！'}`,\n                            'topRight',\n                        );\n                    }\n                }\n            });\n        });\n    };\n\n    // 上传图片方法\n    const uploadFileChange = async ({ file, fileList }) => {\n        if (file.status === 'uploading' || file.status === 'removed') {\n            setFileList(fileList);\n            return;\n        }\n        if (file.status === 'done') {\n            if (file.response.code === 1008) {\n                const flieObj = file.response.data || {};\n                openNotification('success', '提醒', '上传成功');\n                const fl = [\n                    {\n                        uid: flieObj.attachmentsId,\n                        name: flieObj.fileName,\n                        url: flieObj.baseUrl,\n                        status: 'done'\n                    }\n                ];\n                setFileList(fl);\n                form.setFieldsValue({ fileList: fl });\n            } else {\n                openNotification('warning', '提醒', '上传失败');\n            }\n        }\n    };\n\n    // 删除文件\n    const deleteFile = async (e) => {\n        let res = await request.get('/attachments/deleteFile', { attachmentsId: e.uid });\n        let fileList = form.getFieldValue('fileList') || [];\n        let arr = [];\n        if (res.code === 1008) {\n            arr = fileList.filter((item) => item.uid !== e.uid);\n            if (arr.length === 0) {\n                form.setFieldsValue({ fileList: [] });\n            } else {\n                form.setFieldsValue({ fileList: arr });\n            }\n            setFileList(arr);\n        }\n    };\n\n    // 转换upload值\n    const normFile = (e) => {\n        if (Array.isArray(e)) {\n            return e;\n        }\n        return e && e.fileList;\n    };\n\n    // 富文本编译器上传文件\n    const customRequest = async ({ file }) => {\n        if (!file) return false;\n        setContentLoading(true);\n        // eslint-disable-next-line no-undef\n        const formData = new FormData();\n        formData.append('file', file);\n        formData.append('source', '17');\n        formData.append('sourceId', '');\n        formData.append('codeType', 154);\n        const res = await request.postMultipart('/attachments/uploadFile', formData);\n        if (res.code === 1008) {\n            form.setFieldsValue({\n                content: ContentUtils.insertMedias(form.getFieldValue('content'), [\n                    {\n                        type: 'IMAGE',\n                        url: res.data.baseUrl\n                    }\n                ])\n            });\n        } else {\n            openNotification('warning', '提醒', '上传失败');\n        }\n        setContentLoading(false);\n        return false;\n    };\n\n    // 创建antd的upload\n    const extendControls = [\n        {\n            key: 'antd-uploader',\n            type: 'component',\n            component: (\n                <Upload accept=\"image/*\" showUploadList={false} customRequest={customRequest}>\n                    <button\n                        type=\"button\"\n                        className=\"control-item button upload-button\"\n                        data-title=\"插入图片\"\n                    >\n                        <PictureOutlined />\n                    </button>\n                </Upload>\n            )\n        }\n    ];\n\n    return (\n        <Modal\n            visible={visible}\n            mask={false}\n            maskClosable={false}\n            onCancel={() => setVisible(false)}\n            onOk={onFinish}\n            wrapClassName={_styles.editQuestion}\n            title=\"新建问题详情\"\n        >\n            <Form {...layout} form={form} onFinish={onFinish} initialValues={{ contentType }}>\n                <Form.Item\n                    label=\"问题:\"\n                    name=\"problem\"\n                    rules={[\n                        { required: true, message: '请输入问题!' },\n                        { max: 70, message: '最多输入70个字符' }\n                    ]}\n                >\n                    <Input placeholder=\"请在这里输入标题，最多70个字符\" max={140} />\n                </Form.Item>\n                <Form.Item\n                    label=\"问题类型:\"\n                    name=\"problemId\"\n                    rules={[{ required: true, message: '请选择问题类型!' }]}\n                >\n                    <Select placeholder=\"请选择\" allowClear loading={Boolean(props.questionTypeLoading)}>\n                        {questionTypes.map((item) => (\n                            <Option value={item.codeValue} key={item.codeValue}>\n                                {item.codeText}\n                            </Option>\n                        ))}\n                    </Select>\n                </Form.Item>\n                <Form.Item label=\"回复内容\" name=\"contentType\">\n                    <Radio.Group onChange={(e) => setContentType(e.target.value)}>\n                        <Radio value={0}>文字</Radio>\n                        <Radio value={1}>上传文件或图片</Radio>\n                    </Radio.Group>\n                </Form.Item>\n                {contentType === 0 && (\n                    <Form.Item\n                        label=\"请输入内容\"\n                        name=\"content\"\n                        initialValue={BraftEditor.createEditorState('')}\n                        rules={[\n                            { required: true, message: '请输入内容!' },\n                            () => ({\n                                validator(_, value) {\n                                    if (value.isEmpty()) {\n                                        return Promise.reject(new Error('请输入内容!'));\n                                    }\n                                    return Promise.resolve();\n                                }\n                            })\n                        ]}\n                    >\n                        <BraftEditor\n                            style={{ border: '1px solid #d9d9d9', width: '100%' }}\n                            contentStyle={{ height: '300px' }}\n                            controls={controls}\n                            // extendControls={extendControls}\n                        />\n                    </Form.Item>\n                )}\n                {contentType === 1 && (\n                    <Form.Item\n                        label=\"请上传文件\"\n                        name=\"fileList\"\n                        extra=\"建议PDF、图片等手机能打开的格式\"\n                        rules={[{ required: true, message: '请上传文件!', type: 'array' }]}\n                        getValueFromEvent={normFile}\n                    >\n                        <Upload\n                            action={`${BASE_PATH.adminUrl}/attachments/uploadFile`}\n                            headers={{\n                                tokenId: getCookie('vipAdminToken')\n                            }}\n                            accept=\".jpg,.png,.pdf,.jpeg\"\n                            data={{\n                                sourceId: '',\n                                source: 17,\n                                codeType: 154\n                            }}\n                            fileList={fileList}\n                            onChange={uploadFileChange}\n                            onRemove={deleteFile}\n                            maxCount={1}\n                        >\n                            <Button\n                                disabled={fileList.length}\n                                icon={<UploadOutlined />}\n                                size=\"middle\"\n                            >\n                                上传\n                            </Button>\n                        </Upload>\n                    </Form.Item>\n                )}\n            </Form>\n            {(loadingSubmit || loadingGetDetail || contentLoading) && (\n                <div className=\"consulteModalLoading\">\n                    <Spin />\n                </div>\n            )}\n        </Modal>\n    );\n}\n\nexport default connect(({ consulteQuestion, loading }) => ({\n    consulteQuestion,\n    loadingSubmit: loading.effects['consulteQuestion/submitQuestionDetail'],\n    loadingGetDetail: loading.effects['consulteQuestion/getQuestionDetail'],\n    questionTypeLoading: loading.effects['consulteQuestion/getQuestionType']\n}))(EditQuestionList);\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { connect } from 'umi';\nimport { Form, Row, Col, Select, Input, Button, notification, Popconfirm, Modal  } from 'antd';\nimport { PlusOutlined, ExclamationCircleOutlined, ConsoleSqlOutlined } from '@ant-design/icons';\nimport MXTable from '@/pages/components/MXTable';\nimport BatchUpload from '@/pages/components/batchUpload';\nimport { getPermission, getCookie } from '@/utils/utils';\nimport SubjectModel from './subjectModel';\nimport EditModal from './edit';\nimport _styles from './styles.less';\n\nconst layout = {\n    labelCol: { span: 6 },\n    wrapperCol: { span: 18 }\n};\n\nconst initPageData = {\n    pageNum:1,\n    pageSize:20\n};\n\nconst contentTypeList = ['文本', '文件或图片'];\n\nconst { Option } = Select;\nconst { confirm } = Modal;\n\nconst openNotification = (type, message, description, placement, duration) => {\n    notification[type || 'info']({\n        top: 30,\n        message,\n        description,\n        placement,\n        duration: duration || 3\n    });\n};\n\nfunction CommonQuestion(props){\n\n    const { consulteQuestion:{ questionTypes } } = props;\n    const { authEdit } = getPermission('80100');\n\n    const questionTypesMap = useMemo(()=>{\n        const map = new Map();\n        questionTypes.forEach((item)=>{\n            map.set(item.codeValue, item.codeText);\n        });\n        return map;\n    }, [questionTypes]);\n\n    const columns = [\n        {\n            title:'问题',\n            dataIndex:'problem',\n            // align:'center',\n            width:700,\n            render(data){\n                return data || '--';\n            }\n        },\n        {\n            title:'问题类型',\n            dataIndex:'problemId',\n            align:'center',\n            width:420,\n            render(data){\n                return questionTypesMap.get(data) || '全部问题';\n            }\n        },\n        {\n            title:'内容类型',\n            dataIndex:'contentType',\n            width:120,\n            align:'center',\n            render(data){\n                return contentTypeList[data] || '--';\n            }\n        },\n        // {\n        //   title:'关键字',\n        //   dataIndex:'keywords',\n        //   width:120,\n        //   align:'center',\n        //   render(data){\n        //     return data || '--'\n        //   }\n        // },\n        {\n            title:'操作',\n            align:'center',\n            width:140,\n            render(data){\n                if(!authEdit){\n                    return null;\n                }\n                return <div className={_styles.operationBox}>\n                    <span onClick={() => editClick(data.onlineServiceId)}>编辑</span>\n                    <Popconfirm\n                        placement=\"topLeft\"\n                        title={'您确定删除该条数据吗？'}\n                        onConfirm={() => deleteQuestionDetail(data.onlineServiceId)}\n                    >\n                        <span>删除</span>\n                    </Popconfirm>\n                </div>;\n\n            }\n        }\n    ];\n\n    const [form] = Form.useForm();\n    const [dataSource, setDataSource] = useState({}); // 表格数据\n    const [pageData, setPageData] = useState(initPageData); // 表格page及pageSize\n    const [selectedRowKeys, setSelectRowKeys] = useState([]); // 当前选中的表格数据\n    const [editVisible, setEditVisible] = useState(false); // 新建修改框\n    const [questionDetailId, setQuestionDetailId] = useState(''); // 问题详情数据id\n    const [batchUploadModalFlag, setBatchUploadModalFlag] = useState(false); // 批量上传展示\n\n    const onSelectChange = (selectedRowKeys) => {\n        setSelectRowKeys(selectedRowKeys);\n    };\n\n    const rowSelection = {\n        selectedRowKeys,\n        onChange: onSelectChange\n    };\n\n    // 新建数据\n    const newBuildClick = () => {\n        setQuestionDetailId('');\n        setEditVisible(true);\n    };\n\n    // 编辑数据\n    const editClick = (id) => {\n        setQuestionDetailId(id);\n        setEditVisible(true);\n    };\n\n    // 获取表格数据\n    const tableSearch = () => {\n        const { dispatch } = props;\n        const values = form.getFieldsValue();\n        dispatch({\n            type:'consulteQuestion/getQuestionSettingTableData',\n            payload:{\n                ...values,\n                ...pageData\n            },\n            callback:(res)=>{\n                if(res.code === 1008){\n                    const { list = [], total } = res.data || {};\n                    setDataSource({\n                        list, total\n                    });\n                }else{\n                    openNotification('warning', `提示（代码：${res.code}）`, `${res.message ? res.message : '获取数据失败!'}`, 'topRight');\n                }\n            }\n        });\n    };\n\n    // 分页排序等\n    const _tableChange = (p, e, s) => {\n        setPageData({\n            ...pageData,\n            pageNum:p.current,\n            pageSize:p.pageSize\n        });\n    };\n\n\n    // 删除表格数据\n    const deleteQuestionDetail = (id, callback = null) => {\n        const { dispatch } = props;\n        dispatch({\n            type:'consulteQuestion/deleteQuestionDetail',\n            payload:{\n                onlineServiceId:id\n            },\n            callback:(res)=>{\n                if(res.code === 1008){\n                    openNotification('success', '提示', '删除成功');\n                    tableSearch(); // 更新数据\n                    if(callback) callback();\n                }else{\n                    openNotification('warning', `提示（代码：${res.code}）`, `${res.message ? res.message : '删除失败！'}`, 'topRight');\n                }\n            }\n        });\n    };\n\n    // 批量删除\n    const batchDelete = () => {\n        confirm({\n            title:'请您确定是否全部删除',\n            icon: <ExclamationCircleOutlined />,\n            content: '删除后该问题信息会删除',\n            okText: '确认',\n            cancelText: '取消',\n            onOk:()=>{\n                const ids = selectedRowKeys.join(',');\n                deleteQuestionDetail(ids, ()=>setSelectRowKeys([]));\n            }\n        });\n    };\n\n    // 获取问题类型\n    const getQuestionType = (callback = null) => {\n        const { dispatch } = props;\n        dispatch({\n            type:'consulteQuestion/getQuestionType',\n            payload:{},\n            callback\n        });\n    };\n\n    // 条件查询\n    const onFinish = (values) => {\n        setPageData(initPageData);\n        tableSearch();\n    };\n\n    // 重置\n    const onReset = () => {\n        form.setFieldsValue({\n            problem:'',\n            problemId:null\n        });\n        tableSearch();\n    };\n\n    const closeModal = () => {\n        setBatchUploadModalFlag(false);\n        tableSearch();\n    };\n\n    useEffect(()=>{\n        const { consulteQuestion:{ questionTypes } } = props;\n        // 初次渲染表格\n        tableSearch();\n        // 存在问题类型缓存则取缓存\n        if(!(Array.isArray(questionTypes) && questionTypes.length)){\n            getQuestionType();\n        }\n    }, []);\n\n    useEffect(()=>{\n        tableSearch();\n    }, [pageData]);\n\n    return <div className={_styles.commonQuestion}>\n        {batchUploadModalFlag && (\n            <BatchUpload\n                modalFlag={batchUploadModalFlag}\n                closeModal={closeModal}\n                templateMsg=\"披露规则模板下载\"\n                templateUrl={`/onlineService/import/template?tokenId=${getCookie(\n                    'vipAdminToken',\n                )}`}\n                // params={{ productId: productId ? Number(productId) : undefined }}\n                onOk={closeModal}\n                url=\"/onlineService/import\"\n            />\n        )}\n        <Form {...layout} form={form} onFinish={onFinish}>\n            <Row gutter={24} >\n                <Col span={8}>\n                    <Form.Item label=\"问题:\" name=\"problem\">\n                        <Input placeholder=\"请输入\" />\n                    </Form.Item>\n                </Col>\n                <Col span={8} className={_styles.questionType}>\n                    <Form.Item label=\"问题类型:\" name=\"problemId\">\n                        <Select placeholder=\"请选择\"\n                            showSearch\n                            loading={Boolean(props.questionTypeLoading)}\n                            allowClear\n                            filterOption={(input, option) =>  option.children.indexOf(input) >= 0}\n                        >\n                            {\n                                questionTypes.map((item)=><Option value={item.codeValue} key={item.codeValue} >\n                                    {item.codeText}\n                                </Option>)\n                            }\n                        </Select>\n                    </Form.Item>\n                    {\n                        authEdit &&\n                        <SubjectModel\n                            getQuestionType={getQuestionType}\n                        />\n                    }\n                </Col>\n                {/* <Col span={8}>\n          <Form.Item label=\"关键字:\" name=\"keyword\">\n            <Select placeholder=\"请选择\">\n              <Option value=\"demo\">demo</Option>\n            </Select>\n          </Form.Item>\n        </Col> */}\n            </Row>\n            <Row gutter={24}>\n                <Col span={24}>\n                    <div className={_styles.btns}>\n                        <Button type=\"primary\" htmlType=\"submit\" >\n                  查询\n                        </Button>\n                        <Button htmlType=\"button\" className={_styles.raestBtn} onClick={onReset}>\n                  重置\n                        </Button>\n\n                    </div>\n                </Col>\n            </Row>\n        </Form>\n        <div>\n            {\n                !!authEdit && <div>\n                    <Button type=\"primary\" style={{marginRight:'5px'}} icon={<PlusOutlined />} onClick={newBuildClick}>新建</Button>\n                    <Button\n                        onClick={batchDelete}\n                        style={{ marginLeft: '10px' }}\n                    >\n                        批量删除\n                    </Button>\n                    <Button\n                        style={{ marginLeft: '10px' }}\n                        onClick={() => setBatchUploadModalFlag(true)}\n                        type=\"primary\"\n                    >\n                        批量上传\n                    </Button>\n                </div>\n            }\n            <MXTable\n                loading={Boolean(props.loading)}\n                columns={columns}\n                dataSource={dataSource.list || []}\n                total={dataSource.total}\n                pageNum={pageData.pageNum}\n                scroll={{x: '100%'}}\n                sticky\n                onChange={(p, e, s) => _tableChange(p, e, s)}\n                rowSelection={rowSelection}\n                rowKey=\"onlineServiceId\"\n            />\n        </div>\n        {\n            editVisible &&\n            <EditModal\n                visible={editVisible}\n                setVisible={setEditVisible}\n                tableSearch={tableSearch}\n                id={questionDetailId}\n            />\n        }\n    </div>;\n}\n\nexport default connect(({ consulteQuestion, loading })=>({\n    consulteQuestion,\n    loading:loading.effects['consulteQuestion/getQuestionSettingTableData'],\n    questionTypeLoading:loading.effects['consulteQuestion/getQuestionType']\n}))(CommonQuestion);\n","\nexport const questionTabs = [\n    {\n        title:'常见问题设置',\n        key:'1'\n    }\n    // {\n    //   title:'自动回复设置',\n    //   key:'2'\n    // },\n    // {\n    //   title:'客服设置',\n    //   key:'3'\n    // }\n];","import React, { useState } from 'react';\nimport { connect } from 'umi';\nimport { Tabs, Card } from 'antd';\nimport { PageHeaderWrapper, GridContent } from '@ant-design/pro-layout';\nimport CommonQuestion from './components/commonQuestion/index';\nimport { questionTabs } from '../data';\nimport _styles from './styles.less';\n\nconst { TabPane } = Tabs;\n\nfunction Question(props){\n\n    return <PageHeaderWrapper title=\"常见问题管理\">\n        <GridContent>\n            <Card>\n                <Tabs>\n                    {\n                        questionTabs.map((item)=><TabPane tab={item.title} key={item.key}>\n                            <CommonQuestion />\n                        </TabPane>)\n                    }\n                </Tabs>\n            </Card>\n        </GridContent>\n\n    </PageHeaderWrapper>;\n\n}\n\nexport default connect(({  })=>({\n\n}))(Question);","// extracted by mini-css-extract-plugin"]}}