{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[84],{\"4scX\":function(e,t,a){\"use strict\";a.r(t);a(\"IzEo\");var n=a(\"bx4M\"),r=(a(\"Znn+\"),a(\"ZTPi\")),o=a(\"q1tI\"),c=a.n(o),i=a(\"Hx5s\"),l=(a(\"g9YV\"),a(\"wCAj\")),s=(a(\"OaEy\"),a(\"2fM7\")),d=(a(\"T2oS\"),a(\"W9HT\")),g=(a(\"iQDF\"),a(\"+eQT\")),p=a(\"oBTY\"),u=(a(\"miYZ\"),a(\"tsqr\")),m=a(\"tJVT\"),v=(a(\"sRBo\"),a(\"kaz8\")),f=a(\"9kvl\"),y=a(\"5bA4\"),h=a(\"UESt\"),w=a(\"wd/R\"),b=a.n(w),E=a(\"9/5/\"),x=a.n(E),O=a(\"7hA3\"),k=a.n(O),D=function(e){var t=e.title,a=void 0===t?\"\":t,n=e.onChangeDate;if(\"step\"===a)return c.a.createElement(\"div\",{className:k.a.theadIconWrapper,style:{justifyContent:\"flex-end\"}},c.a.createElement(\"div\",{className:k.a.theadIconBox,onClick:function(){return n(\"prev\")}},c.a.createElement(y[\"a\"],null)));if(\"right\"===a)return c.a.createElement(\"div\",{className:k.a.theadIconWrapper,style:{justifyContent:\"flex-start\"}},c.a.createElement(\"div\",{className:k.a.theadIconBox,onClick:function(){return n(\"next\")}},c.a.createElement(h[\"a\"],null)));var r=b()().format(\"YYYY-MM-DD\");return c.a.createElement(\"div\",{className:\"\".concat(k.a.thead,\" \").concat(a===r?k.a.today:\"\")},a)},C=function(e){var t=e.step,a=e.stepList,n=e.onChange,r=a.find((function(e){return e.step===t}));if(!r)return c.a.createElement(c.a.Fragment,null);var o=r.text,i=r.isAvailable;return c.a.createElement(\"div\",{className:\"\".concat(k.a.stepCell,\" \").concat(i?k.a.available:\"\")},c.a.createElement(v[\"a\"],{checked:!0,onChange:n}),c.a.createElement(\"div\",{className:k.a.stepText},o))},I=function(e){var t=e.data,a={1:\"#6D93FF\",2:\"#FB560A\",3:\"#9B9B9B\"},n={1:\"#ff3f3f\",2:\"#fdc753\",3:\"#3d7fff\"},r=function(e){f[\"c\"].push({pathname:\"/staggingTool/overView/stock/\".concat(e.code)})};return c.a.createElement(\"div\",{className:k.a.tableCell},t.map((function(e,t){return c.a.createElement(\"div\",{key:t,className:k.a.tableCellItem},c.a.createElement(\"span\",{style:{color:a[e.apply]||\"\",cursor:\"pointer\"},onClick:function(){return r(e)}},\"\".concat(e.code,\" [\").concat(e.name,\"]\")),0===e.haveOfflineApply&&c.a.createElement(\"span\",null,\"\\u4ec5\\u7f51\\u4e0a\"),c.a.createElement(\"span\",{style:{display:\"inline-block\",width:\"8px\",height:\"8px\",borderRadius:\"4px\",backgroundColor:n[e.stepStatus]||\"\"}}))})))},Y=function(e){var t=e.dispatch,a=e.calendarLoading,n=e.isSearch,r=e.staggingOverview,i=r.searchOptions,y=r.stepList,h=r.baseDate,w=r.calendarData,E=Object(o[\"useState\"])([]),O=Object(m[\"a\"])(E,2),Y=O[0],B=O[1],T=Object(o[\"useState\"])([]),j=Object(m[\"a\"])(T,2),M=j[0],N=j[1],S=Object(o[\"useCallback\"])((function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t({type:\"staggingOverview/updateStepList\",payload:{step:e,checked:a}})}),[t]),L=Object(o[\"useCallback\"])((function(e){var a;switch(e){case\"prev\":a=b()(h).add(-5,\"d\");break;case\"next\":a=b()(h).add(5,\"d\");break;default:a=e;break}t({type:\"staggingOverview/updateModelData\",payload:{baseDate:a.format(\"YYYY-MM-DD\")}})}),[h,t]),F=Object(o[\"useMemo\"])((function(){var e=function(e){t({type:\"staggingOverview/updateModelData\",payload:{searchOptions:[]}}),t({type:\"staggingOverview/getStockByKeyword\",payload:{keyword:e}})};return x()(e,800)}),[t]),A=Object(o[\"useCallback\"])((function(e){if(e){var a=e.apply;if(3===a)return void u[\"default\"].info(\"\\u8be5\\u6807\\u7684\\u4e0d\\u80fd\\u6253\\u65b0\\uff01\");f[\"c\"].push({pathname:\"/staggingTool/overView/stock/\".concat(e.value)})}t({type:\"staggingOverview/updateModelData\",payload:{searchOptions:[]}})}),[t]);return Object(o[\"useEffect\"])((function(){var e=Object(p[\"a\"])(Array(5)).map((function(e,t){return{date:b()().add(t-2,\"d\").format(\"YYYY-MM-DD\")}}));t({type:\"staggingOverview/updateModelData\",payload:{calendarData:e}})}),[t]),Object(o[\"useEffect\"])((function(){t({type:\"staggingOverview/getCalendarData\",payload:{baseDate:h}})}),[h,t]),Object(o[\"useEffect\"])((function(){var e=[{title:c.a.createElement(D,{title:\"step\",onChangeDate:L}),width:100,align:\"center\",dataIndex:\"step\",render:function(e){return c.a.createElement(C,{step:e,stepList:y,onChange:function(){return S(e)}})}}],t=[];w.forEach((function(a,n){var r=a.date,o=a.items1,i=void 0===o?[]:o,l=a.items2,s=void 0===l?[]:l,d=a.items3,g=void 0===d?[]:d,p=a.items4,u=void 0===p?[]:p,m=a.items5,v=void 0===m?[]:m,f=a.items6,y=void 0===f?[]:f,h=a.items7,w=void 0===h?[]:h;e.push({title:c.a.createElement(D,{title:b()(r).format(\"YYYY-MM-DD\"),onChangeDate:L}),align:\"center\",dataIndex:\"date\".concat(n+1),render:function(e){return c.a.createElement(I,{data:e})}}),0===n?t.push({step:\"step1\",date1:i},{step:\"step2\",date1:s},{step:\"step3\",date1:g},{step:\"step4\",date1:u},{step:\"step5\",date1:v},{step:\"step6\",date1:y},{step:\"step7\",date1:w}):(t[0][\"date\".concat(n+1)]=i,t[1][\"date\".concat(n+1)]=s,t[2][\"date\".concat(n+1)]=g,t[3][\"date\".concat(n+1)]=u,t[4][\"date\".concat(n+1)]=v,t[5][\"date\".concat(n+1)]=y,t[6][\"date\".concat(n+1)]=w)})),e.push({title:function(){return c.a.createElement(D,{title:\"right\",onChangeDate:L})},width:60,align:\"center\",dataIndex:\"right\",render:function(){return\"\"}}),B(e),N(t.filter((function(e){var t=y.find((function(t){return t.step===e.step}));return t.checked})))}),[w,L,S,y]),c.a.createElement(\"div\",{className:k.a.staggingCalendar},c.a.createElement(\"div\",{className:k.a.stepBox},\"IPO\\u6b65\\u9aa4\\u663e\\u793a\\uff08\\u591a\\u9009\\uff09\\uff1a\",y.map((function(e){return c.a.createElement(v[\"a\"],{key:e.step,checked:e.checked,onChange:function(t){return S(e.step,t.target.checked)}},e.text)}))),c.a.createElement(\"div\",{className:k.a.actionbar},c.a.createElement(\"div\",{className:k.a.legend},c.a.createElement(\"div\",{className:k.a.legendItem,style:{color:\"#6D93FF\"}},c.a.createElement(\"div\",{className:k.a.legandTag,style:{backgroundColor:\"#6D93FF\"}}),\"\\u53c2\\u4e0e\\u4e2d\"),c.a.createElement(\"div\",{className:k.a.legendItem,style:{color:\"#FB560A\"}},c.a.createElement(\"div\",{className:k.a.legandTag,style:{backgroundColor:\"#FB560A\"}}),\"\\u53ef\\u53c2\\u4e0e\"),c.a.createElement(\"div\",{className:k.a.legendItem,style:{color:\"#9B9B9B\"}},c.a.createElement(\"div\",{className:k.a.legandTag,style:{backgroundColor:\"#9B9B9B\"}}),\"\\u672a\\u53c2\\u4e0e\")),c.a.createElement(\"div\",{className:k.a.datePicker},\"\\u67e5\\u770b\\uff1a\",c.a.createElement(g[\"a\"],{style:{width:\"200px\"},onChange:L})),c.a.createElement(\"div\",{className:k.a.searchForm},\"\\u6807\\u7684\\u67e5\\u8be2\\uff1a\",c.a.createElement(s[\"a\"],{allowClear:!0,labelInValue:!0,showSearch:!0,showArrow:!1,placeholder:\"\\u8bf7\\u8f93\\u5165\\u6807\\u7684\",style:{width:\"200px\"},filterOption:!1,notFoundContent:n?c.a.createElement(d[\"a\"],{size:\"small\"}):\"\\u6682\\u65e0\\u6570\\u636e\",options:i,onSearch:F,onChange:A}))),c.a.createElement(l[\"a\"],{loading:a,pagination:!1,rowKey:function(e){return e.step},columns:Y,dataSource:M}))},B=Object(f[\"b\"])((function(e){var t=e.staggingOverview,a=e.loading;return{isSearch:a.effects[\"staggingOverview/getStockByKeyword\"],calendarLoading:a.effects[\"staggingOverview/getCalendarData\"],staggingOverview:t}}))(Y),T=(a(\"/zsF\"),a(\"PArb\")),j=(a(\"+L6B\"),a(\"2/Rp\")),M=(a(\"5NDa\"),a(\"5rEg\")),N=a(\"9og8\"),S=(a(\"y8nQ\"),a(\"Vl3Y\")),L=a(\"WmNS\"),F=a.n(L),A=a(\"2XLT\"),U=a(\"sOU6\"),V=a.n(U),q=s[\"a\"].Option,z=[{type:1,text:\"\\u5e02\\u503c\\u5224\\u65ad\"},{type:2,text:\"\\u6750\\u6599\\u63d0\\u4ea4\"},{type:3,text:\"\\u8be2\\u4ef7\"},{type:4,text:\"\\u8be2\\u4ef7\\u590d\\u6838\"},{type:5,text:\"\\u53d1\\u884c\\u516c\\u544a\"},{type:6,text:\"\\u7533\\u8d2d\"},{type:7,text:\"\\u7533\\u8d2d\\u590d\\u6838\"},{type:8,text:\"\\u516c\\u5e03\\u4e2d\\u7b7e\"},{type:9,text:\"\\u7f34\\u6b3e\\u65e5\"},{type:10,text:\"\\u4e0a\\u5e02\"}],K=function(e){var t=e.dispatch,a=e.isSearch,n=e.staggingOverview,r=n.searchOptions,i=n.selectedDate,l=S[\"a\"].useForm(),p=Object(m[\"a\"])(l,1),v=p[0],f=Object(o[\"useState\"])([]),y=Object(m[\"a\"])(f,2),h=y[0],w=y[1],E=Object(o[\"useMemo\"])((function(){var e=function(e){t({type:\"staggingOverview/updateModelData\",payload:{searchOptions:[]}}),t({type:\"staggingOverview/getStockByKeyword\",payload:{keyword:e}})};return x()(e,800)}),[t]),O=Object(o[\"useCallback\"])(Object(N[\"a\"])(F.a.mark((function e(){var a,n,o,c,l,s,d,g,p;return F.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=v.getFieldsValue(),n=a.stock,o=a.processType,c=a.remarks,l=a.managerUserId,s=a.endTime,d=n.value,g=r.find((function(e){return e.value===d})).securityAbbr,e.next=6,t({type:\"staggingOverview/createTodo\",payload:{secuCode:d,securityAbbr:g,remarks:c,processType:o,managerUserId:l,endTime:b()(s).format(\"YYYY-MM-DD\")}});case 6:p=e.sent,1008===p.code?(u[\"default\"].success(\"\\u6dfb\\u52a0\\u5f85\\u529e\\u6210\\u529f\"),t({type:\"staggingOverview/getTodoListByDate\",payload:{date:i}})):u[\"default\"].error(p.message);case 8:case\"end\":return e.stop()}}),e)}))),[t,v,r,i]);return Object(o[\"useEffect\"])((function(){t({type:\"accountInfo/querySelectAllUser\",payload:{pageSize:9999999},callback:function(e){1008===e.code&&e.data&&w(e.data.list||[])}})}),[t]),c.a.createElement(S[\"a\"],{form:v,name:\"create_todo_form\",layout:\"inline\",onFinish:O},c.a.createElement(S[\"a\"].Item,{name:\"stock\",rules:[{required:!0,message:\"\\u8bf7\\u9009\\u62e9\\u6807\\u7684\"}]},c.a.createElement(s[\"a\"],{allowClear:!0,labelInValue:!0,showSearch:!0,showArrow:!1,placeholder:\"\\u8bf7\\u9009\\u62e9\\u6807\\u7684\",style:{width:\"200px\"},filterOption:!1,notFoundContent:a?c.a.createElement(d[\"a\"],{size:\"small\"}):null,options:r.filter((function(e){return 3!==e.apply})),onSearch:E})),c.a.createElement(S[\"a\"].Item,{name:\"processType\",rules:[{required:!0,message:\"\\u8bf7\\u9009\\u62e9\\u4e8b\\u9879\"}]},c.a.createElement(s[\"a\"],{style:{width:130},placeholder:\"\\u8bf7\\u9009\\u62e9\\u4e8b\\u9879\"},z.map((function(e,t){return c.a.createElement(q,{key:t,value:e.type},e.text)})))),c.a.createElement(S[\"a\"].Item,{name:\"remarks\",rules:[{required:!0,message:\"\\u8bf7\\u8f93\\u5165\\u5907\\u6ce8\"}]},c.a.createElement(M[\"a\"],{style:{width:300},placeholder:\"\\u8bf7\\u8f93\\u5165\\u5907\\u6ce8\"})),c.a.createElement(S[\"a\"].Item,{name:\"managerUserId\",rules:[{required:!0,message:\"\\u8bf7\\u9009\\u62e9\\u901a\\u77e5\\u4eba\"}]},c.a.createElement(s[\"a\"],{showSearch:!0,style:{width:130},placeholder:\"\\u8bf7\\u9009\\u62e9\\u901a\\u77e5\\u4eba\",optionFilterProp:\"children\",filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},h.map((function(e,t){return c.a.createElement(q,{key:t,value:e.managerUserId},e.userName)})))),c.a.createElement(S[\"a\"].Item,{name:\"endTime\",rules:[{required:!0,message:\"\\u8bf7\\u9009\\u62e9\\u622a\\u6b62\\u65f6\\u95f4\"}]},c.a.createElement(g[\"a\"],null)),c.a.createElement(S[\"a\"].Item,null,c.a.createElement(j[\"a\"],{type:\"primary\",htmlType:\"submit\"},\"\\u589e\\u52a0\\u5f85\\u529e\")))},P=Object(f[\"b\"])((function(e){var t=e.staggingOverview,a=e.loading;return{isSearch:a.effects[\"staggingOverview/getStockByKeyword\"],staggingOverview:t}}))(K),W=function(e){var t=e.dispatch,a=e.tableLoading,n=e.createLoading,r=e.updateLoading,i=e.staggingOverview,s=i.todoBaseDate,d=i.selectedDate,v=i.todoDateList,y=i.todoList,h=Object(o[\"useState\"])(!1),w=Object(m[\"a\"])(h,2),E=w[0],x=w[1],O=function(e){t({type:\"staggingOverview/updateModelData\",payload:{selectedDate:e}})},k=Object(o[\"useCallback\"])((function(e){x(!1),t({type:\"staggingOverview/updateModelData\",payload:{selectedDate:e.format(\"YYYY-MM-DD\"),todoBaseDate:e.format(\"YYYY-MM-DD\")}})}),[t]),D=Object(o[\"useCallback\"])(function(){var e=Object(N[\"a\"])(F.a.mark((function e(a){var n;return F.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t({type:\"staggingOverview/updateTodo\",payload:{id:a.id}});case 2:n=e.sent,1008===n.code?(u[\"default\"].success(\"\\u5904\\u7406\\u6210\\u529f\"),t({type:\"updateModelData\",payload:{todoList:Object(p[\"a\"])(y).map((function(e){return e.id===a.id&&(e.handleStatus=1),e}))}})):u[\"default\"].error(n.message);case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t,y]),C=function(e){var t=e.secuCode;f[\"c\"].push({pathname:\"/staggingTool/overView/stock/\".concat(t)})},I=[{title:\"\\u6807\\u7684\\u540d\\u79f0\",align:\"center\",dataIndex:\"securityAbbr\"},{title:\"\\u4e8b\\u9879\\u540d\\u79f0\",align:\"center\",dataIndex:\"processType\",render:function(e){return z.find((function(t){return t.type===e})).text}},{title:\"\\u622a\\u6b62\\u65f6\\u95f4\",align:\"center\",dataIndex:\"endTime\",render:function(e){return b()(e).format(\"YYYY-MM-DD\")}},{title:\"\\u4e8b\\u9879\\u6765\\u6e90\",align:\"center\",dataIndex:\"sourceName\"},{title:\"\\u901a\\u77e5\\u4eba\",align:\"center\",dataIndex:\"managerUserName\"},{title:\"\\u5907\\u6ce8\",align:\"center\",dataIndex:\"remarks\"},{title:\"\\u5904\\u7406\",align:\"center\",dataIndex:\"handleStatus\",width:200,render:function(e,t){return 0===e?c.a.createElement(c.a.Fragment,null,c.a.createElement(\"span\",{className:V.a.isActive,onClick:function(){return D(t)}},\"\\u6807\\u4e3a\\u5df2\\u5904\\u7406 \\u221a\"),c.a.createElement(T[\"a\"],{type:\"vertical\"}),c.a.createElement(\"span\",{className:V.a.isActive,onClick:function(){return C(t)}},\"\\u53bb\\u5904\\u7406 -\\u203a\")):c.a.createElement(c.a.Fragment,null,c.a.createElement(\"span\",null,\"\\u5df2\\u5904\\u7406 \\u221a\"),c.a.createElement(T[\"a\"],{type:\"vertical\"}),c.a.createElement(\"span\",null,\"\\u53bb\\u5904\\u7406 -\\u203a\"))}}];return Object(o[\"useEffect\"])((function(){var e=Object(p[\"a\"])(Array(5)).map((function(e,t){return{date:b()(s).add(t-2,\"d\").format(\"YYYY-MM-DD\")}}));t({type:\"staggingOverview/updateModelData\",payload:{todoDateList:e}})}),[t,s]),Object(o[\"useEffect\"])((function(){t({type:\"staggingOverview/getTodoListByDate\",payload:{date:d}})}),[t,d]),c.a.createElement(\"div\",{className:V.a.todoList},c.a.createElement(\"div\",{className:V.a.calendar},c.a.createElement(\"div\",{style:{position:\"relative\",marginBottom:\"12px\"}},c.a.createElement(A[\"a\"],{className:V.a.calendarIcon,style:{cursor:\"pointer\"},onClick:function(){return x(!E)}}),c.a.createElement(g[\"a\"],{open:E,format:\"YYYY-MM-DD\",style:{position:\"absolute\",top:\"10px\",left:0,right:0,visibility:\"hidden\"},onChange:k})),c.a.createElement(\"ul\",null,v.map((function(e,t){return c.a.createElement(\"li\",{key:e.date,className:e.date===d?V.a.active:\"\",onClick:function(){return O(e.date)}},e.date)})))),c.a.createElement(\"div\",{className:V.a.tableBox},c.a.createElement(l[\"a\"],{rowKey:\"id\",loading:a||n||r,scroll:{y:260},columns:I,dataSource:y,pagination:!1}),c.a.createElement(P,null)))},R=Object(f[\"b\"])((function(e){var t=e.staggingOverview,a=e.loading;return{tableLoading:a.effects[\"staggingOverview/getTodoListByDate\"],createLoading:a.effects[\"staggingOverview/createTodo\"],updateLoading:a.effects[\"staggingOverview/updateTodo\"],staggingOverview:t}}))(W),J=r[\"a\"].TabPane,Q=[{key:1,tab:\"\\u6253\\u65b0\\u65e5\\u5386\",component:B},{key:2,tab:\"\\u5f53\\u65e5\\u5f85\\u529e\",component:R}],Z=function(){return c.a.createElement(i[\"a\"],null,c.a.createElement(n[\"a\"],null,c.a.createElement(r[\"a\"],null,Q.map((function(e){return c.a.createElement(J,{tab:e.tab,key:e.key},c.a.createElement(e.component,null))})))))};t[\"default\"]=Z},\"7hA3\":function(e,t,a){e.exports={staggingCalendar:\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-staggingCalendar\",theadIconWrapper:\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-theadIconWrapper\",theadIconBox:\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-theadIconBox\",thead:\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-thead\",today:\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-today\",tableCell:\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-tableCell\",tableCellItem:\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-tableCellItem\",stepCell:\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-stepCell\",available:\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-available\",stepText:\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-stepText\",stepBox:\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-stepBox\",actionbar:\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-actionbar\",legend:\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-legend\",legendItem:\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-legendItem\",legandTag:\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-legandTag\",searchForm:\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-searchForm\"}},sOU6:function(e,t,a){e.exports={todoList:\"antd-pro-pages-stagging-tool-over-view-components-todo-list-index-todoList\",calendar:\"antd-pro-pages-stagging-tool-over-view-components-todo-list-index-calendar\",active:\"antd-pro-pages-stagging-tool-over-view-components-todo-list-index-active\",calendarIcon:\"antd-pro-pages-stagging-tool-over-view-components-todo-list-index-calendarIcon\",tableBox:\"antd-pro-pages-stagging-tool-over-view-components-todo-list-index-tableBox\",isActive:\"antd-pro-pages-stagging-tool-over-view-components-todo-list-index-isActive\"}}}]);","name":"p__staggingTool__overView.async.js?v=1646123553782","map":{"version":3,"sources":["p__staggingTool__overView.async.js?v=1646123553782"],"names":["window","push","4scX","module","__webpack_exports__","__webpack_require__","r","card","tabs","react","react_default","n","es","table","es_select","spin","date_picker","toConsumableArray","message","slicedToArray","es_checkbox","umiExports","LeftOutlined","RightOutlined","moment","moment_default","lodash_debounce","lodash_debounce_default","Calendarmodules","Calendarmodules_default","Calendar_RenderTableTitle","_ref","_ref$title","title","onChangeDate","a","createElement","className","theadIconWrapper","style","justifyContent","theadIconBox","onClick","today","format","concat","thead","Calendar_RenderTableStep","_ref2","step","stepList","onChange","currStep","find","item","Fragment","text","isAvailable","stepCell","available","checked","stepText","Calendar_RenderTableCell","_ref3","data","colorMap","1","2","3","dotColors","handleNavigate","pathname","code","tableCell","map","index","key","tableCellItem","color","apply","cursor","name","haveOfflineApply","display","width","height","borderRadius","backgroundColor","stepStatus","Calendar_Calendar","props","dispatch","calendarLoading","isSearch","staggingOverview","searchOptions","baseDate","calendarData","_useState","Object","_useState2","columns","setColumns","_useState3","_useState4","tableData","setTableData","handleToggleCheck","arguments","length","undefined","type","payload","handleChangeDate","date","add","debounceFetcher","loadOptions","value","keyword","handleChooseStock","info","Array","align","dataIndex","render","val","forEach","i","_item$items","items1","_item$items2","items2","_item$items3","items3","_item$items4","items4","_item$items5","items5","_item$items6","items6","_item$items7","items7","date1","filter","subItem","staggingCalendar","stepBox","e","target","actionbar","legend","legendItem","legandTag","datePicker","searchForm","allowClear","labelInValue","showSearch","showArrow","placeholder","filterOption","notFoundContent","size","options","onSearch","loading","pagination","rowKey","row","dataSource","components_Calendar","_ref4","effects","divider","es_button","input","asyncToGenerator","es_form","regenerator","regenerator_default","CalendarOutlined","TodoListmodules","TodoListmodules_default","Option","processTypeList","TodoList_TodoForm","selectedDate","_Form$useForm","useForm","_Form$useForm2","form","employeeList","setEmployeeList","handleSubmitTodo","mark","_callee","values","stock","processType","remarks","managerUserId","endTime","label","res","wrap","_context","prev","next","getFieldsValue","securityAbbr","secuCode","sent","success","error","stop","pageSize","callback","list","layout","onFinish","Item","rules","required","optionFilterProp","option","children","toLowerCase","indexOf","userName","htmlType","CreateTodoForm","TodoList_TodoList","tableLoading","createLoading","updateLoading","todoBaseDate","todoDateList","todoList","isOpen","setIsOpen","handleChooseDate","handleUpdateTodo","_callee2","_context2","id","handleStatus","_x","this","handleResolve","isActive","calendar","position","marginBottom","calendarIcon","open","top","left","right","visibility","active","tableBox","scroll","y","components_TodoList","TabPane","tabList","tab","component","overView_overView","7hA3","exports","sOU6"],"mappings":"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"},"input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[84],{\n\n/***/ \"4scX\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/antd/es/card/style/index.js\nvar style = __webpack_require__(\"IzEo\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/card/index.js + 2 modules\nvar card = __webpack_require__(\"bx4M\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/tabs/style/index.js\nvar tabs_style = __webpack_require__(\"Znn+\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/tabs/index.js + 40 modules\nvar tabs = __webpack_require__(\"ZTPi\");\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/pro-layout/es/index.js + 82 modules\nvar es = __webpack_require__(\"Hx5s\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/table/style/index.js\nvar table_style = __webpack_require__(\"g9YV\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/table/index.js + 47 modules\nvar table = __webpack_require__(\"wCAj\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/select/style/index.js\nvar select_style = __webpack_require__(\"OaEy\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/select/index.js + 7 modules\nvar es_select = __webpack_require__(\"2fM7\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/spin/style/index.js\nvar spin_style = __webpack_require__(\"T2oS\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/spin/index.js\nvar spin = __webpack_require__(\"W9HT\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/date-picker/style/index.js\nvar date_picker_style = __webpack_require__(\"iQDF\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/date-picker/index.js + 10 modules\nvar date_picker = __webpack_require__(\"+eQT\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(\"oBTY\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/message/style/index.js\nvar message_style = __webpack_require__(\"miYZ\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/message/index.js + 1 modules\nvar message = __webpack_require__(\"tsqr\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(\"tJVT\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/checkbox/style/index.js\nvar checkbox_style = __webpack_require__(\"sRBo\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/checkbox/index.js + 2 modules\nvar es_checkbox = __webpack_require__(\"kaz8\");\n\n// EXTERNAL MODULE: ./src/.umi-production/core/umiExports.ts + 7 modules\nvar umiExports = __webpack_require__(\"9kvl\");\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/LeftOutlined.js + 1 modules\nvar LeftOutlined = __webpack_require__(\"5bA4\");\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/RightOutlined.js + 1 modules\nvar RightOutlined = __webpack_require__(\"UESt\");\n\n// EXTERNAL MODULE: ./node_modules/moment/moment.js\nvar moment = __webpack_require__(\"wd/R\");\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n\n// EXTERNAL MODULE: ./node_modules/lodash.debounce/index.js\nvar lodash_debounce = __webpack_require__(\"9/5/\");\nvar lodash_debounce_default = /*#__PURE__*/__webpack_require__.n(lodash_debounce);\n\n// EXTERNAL MODULE: ./src/pages/staggingTool/overView/components/Calendar/index.less?modules\nvar Calendarmodules = __webpack_require__(\"7hA3\");\nvar Calendarmodules_default = /*#__PURE__*/__webpack_require__.n(Calendarmodules);\n\n// CONCATENATED MODULE: ./src/pages/staggingTool/overView/components/Calendar/index.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n // 渲染表头\n\nvar Calendar_RenderTableTitle = function RenderTableTitle(_ref) {\n  var _ref$title = _ref.title,\n      title = _ref$title === void 0 ? '' : _ref$title,\n      onChangeDate = _ref.onChangeDate;\n\n  if (title === 'step') {\n    return /*#__PURE__*/react_default.a.createElement(\"div\", {\n      className: Calendarmodules_default.a.theadIconWrapper,\n      style: {\n        justifyContent: 'flex-end'\n      }\n    }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n      className: Calendarmodules_default.a.theadIconBox,\n      onClick: function onClick() {\n        return onChangeDate('prev');\n      }\n    }, /*#__PURE__*/react_default.a.createElement(LeftOutlined[\"a\" /* default */], null)));\n  }\n\n  if (title === 'right') {\n    return /*#__PURE__*/react_default.a.createElement(\"div\", {\n      className: Calendarmodules_default.a.theadIconWrapper,\n      style: {\n        justifyContent: 'flex-start'\n      }\n    }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n      className: Calendarmodules_default.a.theadIconBox,\n      onClick: function onClick() {\n        return onChangeDate('next');\n      }\n    }, /*#__PURE__*/react_default.a.createElement(RightOutlined[\"a\" /* default */], null)));\n  }\n\n  var today = moment_default()().format('YYYY-MM-DD');\n  return /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: \"\".concat(Calendarmodules_default.a.thead, \" \").concat(title === today ? Calendarmodules_default.a.today : '')\n  }, title);\n}; // 渲染表格第一列\n\n\nvar Calendar_RenderTableStep = function RenderTableStep(_ref2) {\n  var step = _ref2.step,\n      stepList = _ref2.stepList,\n      onChange = _ref2.onChange;\n  var currStep = stepList.find(function (item) {\n    return item.step === step;\n  });\n  if (!currStep) return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null);\n  var text = currStep.text,\n      isAvailable = currStep.isAvailable;\n  return /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: \"\".concat(Calendarmodules_default.a.stepCell, \" \").concat(isAvailable ? Calendarmodules_default.a.available : '')\n  }, /*#__PURE__*/react_default.a.createElement(es_checkbox[\"a\" /* default */], {\n    checked: true,\n    onChange: onChange\n  }), /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: Calendarmodules_default.a.stepText\n  }, text));\n}; // 渲染表格\n\n\nvar Calendar_RenderTableCell = function RenderTableCell(_ref3) {\n  var data = _ref3.data;\n  var colorMap = {\n    1: '#6D93FF',\n    2: '#FB560A',\n    3: '#9B9B9B'\n  }; // stepStatus 为 1，2，3时，才有颜色标识\n\n  var dotColors = {\n    1: '#ff3f3f',\n    2: '#fdc753',\n    3: '#3d7fff'\n  };\n\n  var handleNavigate = function handleNavigate(item) {\n    // console.log(item)\n    // return;\n    umiExports[\"c\" /* history */].push({\n      pathname: \"/staggingTool/overView/stock/\".concat(item.code)\n    });\n  };\n\n  return /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: Calendarmodules_default.a.tableCell\n  }, data.map(function (item, index) {\n    return /*#__PURE__*/react_default.a.createElement(\"div\", {\n      key: index,\n      className: Calendarmodules_default.a.tableCellItem\n    }, /*#__PURE__*/react_default.a.createElement(\"span\", {\n      style: {\n        color: colorMap[item.apply] || '',\n        cursor: 'pointer'\n      },\n      onClick: function onClick() {\n        return handleNavigate(item);\n      }\n    }, \"\".concat(item.code, \" [\").concat(item.name, \"]\")), item.haveOfflineApply === 0 && /*#__PURE__*/react_default.a.createElement(\"span\", null, \"\\u4EC5\\u7F51\\u4E0A\"), /*#__PURE__*/react_default.a.createElement(\"span\", {\n      style: {\n        display: 'inline-block',\n        width: '8px',\n        height: '8px',\n        borderRadius: '4px',\n        backgroundColor: dotColors[item.stepStatus] || ''\n      }\n    }));\n  }));\n};\n\nvar Calendar_Calendar = function Calendar(props) {\n  var dispatch = props.dispatch,\n      calendarLoading = props.calendarLoading,\n      isSearch = props.isSearch,\n      staggingOverview = props.staggingOverview;\n  var searchOptions = staggingOverview.searchOptions,\n      stepList = staggingOverview.stepList,\n      baseDate = staggingOverview.baseDate,\n      calendarData = staggingOverview.calendarData;\n\n  var _useState = Object(react[\"useState\"])([]),\n      _useState2 = Object(slicedToArray[\"a\" /* default */])(_useState, 2),\n      columns = _useState2[0],\n      setColumns = _useState2[1];\n\n  var _useState3 = Object(react[\"useState\"])([]),\n      _useState4 = Object(slicedToArray[\"a\" /* default */])(_useState3, 2),\n      tableData = _useState4[0],\n      setTableData = _useState4[1]; // 切换打新步骤选择\n\n\n  var handleToggleCheck = Object(react[\"useCallback\"])(function (step) {\n    var checked = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    dispatch({\n      type: 'staggingOverview/updateStepList',\n      payload: {\n        step: step,\n        checked: checked\n      }\n    });\n  }, [dispatch]);\n  var handleChangeDate = Object(react[\"useCallback\"])(function (type) {\n    var date;\n\n    switch (type) {\n      case 'prev':\n        date = moment_default()(baseDate).add(-5, 'd');\n        break;\n\n      case 'next':\n        date = moment_default()(baseDate).add(5, 'd');\n        break;\n\n      default:\n        date = type;\n        break;\n    }\n\n    dispatch({\n      type: 'staggingOverview/updateModelData',\n      payload: {\n        baseDate: date.format('YYYY-MM-DD')\n      }\n    });\n  }, [baseDate, dispatch]);\n  var debounceFetcher = Object(react[\"useMemo\"])(function () {\n    var loadOptions = function loadOptions(value) {\n      dispatch({\n        type: 'staggingOverview/updateModelData',\n        payload: {\n          searchOptions: []\n        }\n      });\n      dispatch({\n        type: 'staggingOverview/getStockByKeyword',\n        payload: {\n          keyword: value\n        }\n      });\n    };\n\n    return lodash_debounce_default()(loadOptions, 800);\n  }, [dispatch]);\n  var handleChooseStock = Object(react[\"useCallback\"])(function (item) {\n    if (item) {\n      var apply = item.apply;\n\n      if (apply === 3) {\n        message[\"default\"].info('该标的不能打新！');\n\n        return;\n      }\n\n      umiExports[\"c\" /* history */].push({\n        pathname: \"/staggingTool/overView/stock/\".concat(item.value)\n      });\n    }\n\n    dispatch({\n      type: 'staggingOverview/updateModelData',\n      payload: {\n        searchOptions: []\n      }\n    });\n  }, [dispatch]); // 初始化数据\n\n  Object(react[\"useEffect\"])(function () {\n    var calendarData = Object(toConsumableArray[\"a\" /* default */])(Array(5)).map(function (item, index) {\n      return {\n        date: moment_default()().add(index - 2, 'd').format('YYYY-MM-DD')\n      };\n    });\n\n    dispatch({\n      type: 'staggingOverview/updateModelData',\n      payload: {\n        calendarData: calendarData\n      }\n    });\n  }, [dispatch]); // 获取数据\n\n  Object(react[\"useEffect\"])(function () {\n    dispatch({\n      type: 'staggingOverview/getCalendarData',\n      payload: {\n        baseDate: baseDate\n      }\n    });\n  }, [baseDate, dispatch]); // 解析表头 & 表格数据\n\n  Object(react[\"useEffect\"])(function () {\n    var columns = [{\n      title: /*#__PURE__*/react_default.a.createElement(Calendar_RenderTableTitle, {\n        title: \"step\",\n        onChangeDate: handleChangeDate\n      }),\n      width: 100,\n      align: 'center',\n      dataIndex: 'step',\n      render: function render(val) {\n        return /*#__PURE__*/react_default.a.createElement(Calendar_RenderTableStep, {\n          step: val,\n          stepList: stepList,\n          onChange: function onChange() {\n            return handleToggleCheck(val);\n          }\n        });\n      }\n    }];\n    var tableData = [];\n    calendarData.forEach(function (item, i) {\n      var date = item.date,\n          _item$items = item.items1,\n          items1 = _item$items === void 0 ? [] : _item$items,\n          _item$items2 = item.items2,\n          items2 = _item$items2 === void 0 ? [] : _item$items2,\n          _item$items3 = item.items3,\n          items3 = _item$items3 === void 0 ? [] : _item$items3,\n          _item$items4 = item.items4,\n          items4 = _item$items4 === void 0 ? [] : _item$items4,\n          _item$items5 = item.items5,\n          items5 = _item$items5 === void 0 ? [] : _item$items5,\n          _item$items6 = item.items6,\n          items6 = _item$items6 === void 0 ? [] : _item$items6,\n          _item$items7 = item.items7,\n          items7 = _item$items7 === void 0 ? [] : _item$items7;\n      columns.push({\n        title: /*#__PURE__*/react_default.a.createElement(Calendar_RenderTableTitle, {\n          title: moment_default()(date).format('YYYY-MM-DD'),\n          onChangeDate: handleChangeDate\n        }),\n        align: 'center',\n        dataIndex: \"date\".concat(i + 1),\n        render: function render(val) {\n          return /*#__PURE__*/react_default.a.createElement(Calendar_RenderTableCell, {\n            data: val\n          });\n        }\n      });\n\n      if (i === 0) {\n        tableData.push({\n          step: 'step1',\n          date1: items1\n        }, {\n          step: 'step2',\n          date1: items2\n        }, {\n          step: 'step3',\n          date1: items3\n        }, {\n          step: 'step4',\n          date1: items4\n        }, {\n          step: 'step5',\n          date1: items5\n        }, {\n          step: 'step6',\n          date1: items6\n        }, {\n          step: 'step7',\n          date1: items7\n        });\n      } else {\n        tableData[0][\"date\".concat(i + 1)] = items1;\n        tableData[1][\"date\".concat(i + 1)] = items2;\n        tableData[2][\"date\".concat(i + 1)] = items3;\n        tableData[3][\"date\".concat(i + 1)] = items4;\n        tableData[4][\"date\".concat(i + 1)] = items5;\n        tableData[5][\"date\".concat(i + 1)] = items6;\n        tableData[6][\"date\".concat(i + 1)] = items7;\n      }\n    });\n    columns.push({\n      title: function title() {\n        return /*#__PURE__*/react_default.a.createElement(Calendar_RenderTableTitle, {\n          title: \"right\",\n          onChangeDate: handleChangeDate\n        });\n      },\n      width: 60,\n      align: 'center',\n      dataIndex: 'right',\n      render: function render() {\n        return '';\n      }\n    });\n    setColumns(columns);\n    setTableData(tableData.filter(function (item) {\n      var step = stepList.find(function (subItem) {\n        return subItem.step === item.step;\n      });\n      return step.checked;\n    }));\n  }, [calendarData, handleChangeDate, handleToggleCheck, stepList]);\n  return /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: Calendarmodules_default.a.staggingCalendar\n  }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: Calendarmodules_default.a.stepBox\n  }, \"IPO\\u6B65\\u9AA4\\u663E\\u793A\\uFF08\\u591A\\u9009\\uFF09\\uFF1A\", stepList.map(function (item) {\n    return /*#__PURE__*/react_default.a.createElement(es_checkbox[\"a\" /* default */], {\n      key: item.step,\n      checked: item.checked,\n      onChange: function onChange(e) {\n        return handleToggleCheck(item.step, e.target.checked);\n      }\n    }, item.text);\n  })), /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: Calendarmodules_default.a.actionbar\n  }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: Calendarmodules_default.a.legend\n  }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: Calendarmodules_default.a.legendItem,\n    style: {\n      color: '#6D93FF'\n    }\n  }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: Calendarmodules_default.a.legandTag,\n    style: {\n      backgroundColor: '#6D93FF'\n    }\n  }), \"\\u53C2\\u4E0E\\u4E2D\"), /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: Calendarmodules_default.a.legendItem,\n    style: {\n      color: '#FB560A'\n    }\n  }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: Calendarmodules_default.a.legandTag,\n    style: {\n      backgroundColor: '#FB560A'\n    }\n  }), \"\\u53EF\\u53C2\\u4E0E\"), /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: Calendarmodules_default.a.legendItem,\n    style: {\n      color: '#9B9B9B'\n    }\n  }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: Calendarmodules_default.a.legandTag,\n    style: {\n      backgroundColor: '#9B9B9B'\n    }\n  }), \"\\u672A\\u53C2\\u4E0E\")), /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: Calendarmodules_default.a.datePicker\n  }, \"\\u67E5\\u770B\\uFF1A\", /*#__PURE__*/react_default.a.createElement(date_picker[\"a\" /* default */], {\n    style: {\n      width: '200px'\n    },\n    onChange: handleChangeDate\n  })), /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: Calendarmodules_default.a.searchForm\n  }, \"\\u6807\\u7684\\u67E5\\u8BE2\\uFF1A\", /*#__PURE__*/react_default.a.createElement(es_select[\"a\" /* default */], {\n    allowClear: true,\n    labelInValue: true,\n    showSearch: true,\n    showArrow: false,\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u6807\\u7684\",\n    style: {\n      width: '200px'\n    },\n    filterOption: false,\n    notFoundContent: isSearch ? /*#__PURE__*/react_default.a.createElement(spin[\"a\" /* default */], {\n      size: \"small\"\n    }) : '暂无数据',\n    options: searchOptions,\n    onSearch: debounceFetcher,\n    onChange: handleChooseStock\n  }))), /*#__PURE__*/react_default.a.createElement(table[\"a\" /* default */], {\n    loading: calendarLoading,\n    pagination: false,\n    rowKey: function rowKey(row) {\n      return row.step;\n    },\n    columns: columns,\n    dataSource: tableData\n  }));\n};\n\n/* harmony default export */ var components_Calendar = (Object(umiExports[\"b\" /* connect */])(function (_ref4) {\n  var staggingOverview = _ref4.staggingOverview,\n      loading = _ref4.loading;\n  return {\n    isSearch: loading.effects['staggingOverview/getStockByKeyword'],\n    calendarLoading: loading.effects['staggingOverview/getCalendarData'],\n    staggingOverview: staggingOverview\n  };\n})(Calendar_Calendar));\n// EXTERNAL MODULE: ./node_modules/antd/es/divider/style/index.js\nvar divider_style = __webpack_require__(\"/zsF\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/divider/index.js\nvar divider = __webpack_require__(\"PArb\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/button/style/index.js\nvar button_style = __webpack_require__(\"+L6B\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/button/index.js\nvar es_button = __webpack_require__(\"2/Rp\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/input/style/index.js\nvar input_style = __webpack_require__(\"5NDa\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/input/index.js + 3 modules\nvar input = __webpack_require__(\"5rEg\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"9og8\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/form/style/index.js\nvar form_style = __webpack_require__(\"y8nQ\");\n\n// EXTERNAL MODULE: ./node_modules/antd/es/form/index.js + 14 modules\nvar es_form = __webpack_require__(\"Vl3Y\");\n\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"WmNS\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/CalendarOutlined.js + 1 modules\nvar CalendarOutlined = __webpack_require__(\"2XLT\");\n\n// EXTERNAL MODULE: ./src/pages/staggingTool/overView/components/TodoList/index.less?modules\nvar TodoListmodules = __webpack_require__(\"sOU6\");\nvar TodoListmodules_default = /*#__PURE__*/__webpack_require__.n(TodoListmodules);\n\n// CONCATENATED MODULE: ./src/pages/staggingTool/overView/components/TodoList/index.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Option = es_select[\"a\" /* default */].Option;\nvar processTypeList = [{\n  type: 1,\n  text: '市值判断'\n}, {\n  type: 2,\n  text: '材料提交'\n}, {\n  type: 3,\n  text: '询价'\n}, {\n  type: 4,\n  text: '询价复核'\n}, {\n  type: 5,\n  text: '发行公告'\n}, {\n  type: 6,\n  text: '申购'\n}, {\n  type: 7,\n  text: '申购复核'\n}, {\n  type: 8,\n  text: '公布中签'\n}, {\n  type: 9,\n  text: '缴款日'\n}, {\n  type: 10,\n  text: '上市'\n}];\n\nvar TodoList_TodoForm = function TodoForm(props) {\n  var dispatch = props.dispatch,\n      isSearch = props.isSearch,\n      staggingOverview = props.staggingOverview;\n  var searchOptions = staggingOverview.searchOptions,\n      selectedDate = staggingOverview.selectedDate;\n\n  var _Form$useForm = es_form[\"a\" /* default */].useForm(),\n      _Form$useForm2 = Object(slicedToArray[\"a\" /* default */])(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useState = Object(react[\"useState\"])([]),\n      _useState2 = Object(slicedToArray[\"a\" /* default */])(_useState, 2),\n      employeeList = _useState2[0],\n      setEmployeeList = _useState2[1];\n\n  var debounceFetcher = Object(react[\"useMemo\"])(function () {\n    var loadOptions = function loadOptions(value) {\n      dispatch({\n        type: 'staggingOverview/updateModelData',\n        payload: {\n          searchOptions: []\n        }\n      });\n      dispatch({\n        type: 'staggingOverview/getStockByKeyword',\n        payload: {\n          keyword: value\n        }\n      });\n    };\n\n    return lodash_debounce_default()(loadOptions, 800);\n  }, [dispatch]);\n  var handleSubmitTodo = Object(react[\"useCallback\"])( /*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee() {\n    var values, stock, processType, remarks, managerUserId, endTime, value, label, res;\n    return regenerator_default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            values = form.getFieldsValue();\n            stock = values.stock, processType = values.processType, remarks = values.remarks, managerUserId = values.managerUserId, endTime = values.endTime;\n            value = stock.value;\n            label = searchOptions.find(function (i) {\n              return i.value === value;\n            }).securityAbbr;\n            _context.next = 6;\n            return dispatch({\n              type: 'staggingOverview/createTodo',\n              payload: {\n                secuCode: value,\n                securityAbbr: label,\n                remarks: remarks,\n                processType: processType,\n                managerUserId: managerUserId,\n                endTime: moment_default()(endTime).format('YYYY-MM-DD')\n              }\n            });\n\n          case 6:\n            res = _context.sent;\n\n            if (res.code === 1008) {\n              message[\"default\"].success('添加待办成功');\n\n              dispatch({\n                type: 'staggingOverview/getTodoListByDate',\n                payload: {\n                  date: selectedDate\n                }\n              });\n            } else {\n              message[\"default\"].error(res.message);\n            }\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), [dispatch, form, searchOptions, selectedDate]);\n  Object(react[\"useEffect\"])(function () {\n    dispatch({\n      type: 'accountInfo/querySelectAllUser',\n      payload: {\n        pageSize: 9999999\n      },\n      callback: function callback(res) {\n        if (res.code === 1008 && res.data) {\n          setEmployeeList(res.data.list || []);\n        }\n      }\n    });\n  }, [dispatch]);\n  return /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */], {\n    form: form,\n    name: \"create_todo_form\",\n    layout: \"inline\",\n    onFinish: handleSubmitTodo\n  }, /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */].Item, {\n    name: \"stock\",\n    rules: [{\n      required: true,\n      message: '请选择标的'\n    }]\n  }, /*#__PURE__*/react_default.a.createElement(es_select[\"a\" /* default */], {\n    allowClear: true,\n    labelInValue: true,\n    showSearch: true,\n    showArrow: false,\n    placeholder: \"\\u8BF7\\u9009\\u62E9\\u6807\\u7684\",\n    style: {\n      width: '200px'\n    },\n    filterOption: false,\n    notFoundContent: isSearch ? /*#__PURE__*/react_default.a.createElement(spin[\"a\" /* default */], {\n      size: \"small\"\n    }) : null,\n    options: searchOptions.filter(function (item) {\n      return item.apply !== 3;\n    }),\n    onSearch: debounceFetcher\n  })), /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */].Item, {\n    name: \"processType\",\n    rules: [{\n      required: true,\n      message: '请选择事项'\n    }]\n  }, /*#__PURE__*/react_default.a.createElement(es_select[\"a\" /* default */], {\n    style: {\n      width: 130\n    },\n    placeholder: \"\\u8BF7\\u9009\\u62E9\\u4E8B\\u9879\"\n  }, processTypeList.map(function (item, index) {\n    return /*#__PURE__*/react_default.a.createElement(Option, {\n      key: index,\n      value: item.type\n    }, item.text);\n  }))), /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */].Item, {\n    name: \"remarks\",\n    rules: [{\n      required: true,\n      message: '请输入备注'\n    }]\n  }, /*#__PURE__*/react_default.a.createElement(input[\"a\" /* default */], {\n    style: {\n      width: 300\n    },\n    placeholder: \"\\u8BF7\\u8F93\\u5165\\u5907\\u6CE8\"\n  })), /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */].Item, {\n    name: \"managerUserId\",\n    rules: [{\n      required: true,\n      message: '请选择通知人'\n    }]\n  }, /*#__PURE__*/react_default.a.createElement(es_select[\"a\" /* default */], {\n    showSearch: true,\n    style: {\n      width: 130\n    },\n    placeholder: \"\\u8BF7\\u9009\\u62E9\\u901A\\u77E5\\u4EBA\",\n    optionFilterProp: \"children\",\n    filterOption: function filterOption(input, option) {\n      return option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0;\n    }\n  }, employeeList.map(function (item, index) {\n    return /*#__PURE__*/react_default.a.createElement(Option, {\n      key: index,\n      value: item.managerUserId\n    }, item.userName);\n  }))), /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */].Item, {\n    name: \"endTime\",\n    rules: [{\n      required: true,\n      message: '请选择截止时间'\n    }]\n  }, /*#__PURE__*/react_default.a.createElement(date_picker[\"a\" /* default */], null)), /*#__PURE__*/react_default.a.createElement(es_form[\"a\" /* default */].Item, null, /*#__PURE__*/react_default.a.createElement(es_button[\"a\" /* default */], {\n    type: \"primary\",\n    htmlType: \"submit\"\n  }, \"\\u589E\\u52A0\\u5F85\\u529E\")));\n};\n\nvar CreateTodoForm = Object(umiExports[\"b\" /* connect */])(function (_ref2) {\n  var staggingOverview = _ref2.staggingOverview,\n      loading = _ref2.loading;\n  return {\n    isSearch: loading.effects['staggingOverview/getStockByKeyword'],\n    staggingOverview: staggingOverview\n  };\n})(TodoList_TodoForm);\n\nvar TodoList_TodoList = function TodoList(props) {\n  var dispatch = props.dispatch,\n      tableLoading = props.tableLoading,\n      createLoading = props.createLoading,\n      updateLoading = props.updateLoading,\n      staggingOverview = props.staggingOverview;\n  var todoBaseDate = staggingOverview.todoBaseDate,\n      selectedDate = staggingOverview.selectedDate,\n      todoDateList = staggingOverview.todoDateList,\n      todoList = staggingOverview.todoList;\n\n  var _useState3 = Object(react[\"useState\"])(false),\n      _useState4 = Object(slicedToArray[\"a\" /* default */])(_useState3, 2),\n      isOpen = _useState4[0],\n      setIsOpen = _useState4[1];\n\n  var handleChangeDate = function handleChangeDate(date) {\n    dispatch({\n      type: 'staggingOverview/updateModelData',\n      payload: {\n        selectedDate: date\n      }\n    });\n  };\n\n  var handleChooseDate = Object(react[\"useCallback\"])(function (date) {\n    setIsOpen(false);\n    dispatch({\n      type: 'staggingOverview/updateModelData',\n      payload: {\n        selectedDate: date.format('YYYY-MM-DD'),\n        todoBaseDate: date.format('YYYY-MM-DD')\n      }\n    });\n  }, [dispatch]);\n  var handleUpdateTodo = Object(react[\"useCallback\"])( /*#__PURE__*/function () {\n    var _ref3 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(row) {\n      var res;\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return dispatch({\n                type: 'staggingOverview/updateTodo',\n                payload: {\n                  id: row.id\n                }\n              });\n\n            case 2:\n              res = _context2.sent;\n\n              if (res.code === 1008) {\n                message[\"default\"].success('处理成功');\n\n                dispatch({\n                  type: 'updateModelData',\n                  payload: {\n                    todoList: Object(toConsumableArray[\"a\" /* default */])(todoList).map(function (item) {\n                      if (item.id === row.id) item.handleStatus = 1;\n                      return item;\n                    })\n                  }\n                });\n              } else {\n                message[\"default\"].error(res.message);\n              }\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }(), [dispatch, todoList]);\n\n  var handleResolve = function handleResolve(item) {\n    var secuCode = item.secuCode;\n    umiExports[\"c\" /* history */].push({\n      pathname: \"/staggingTool/overView/stock/\".concat(secuCode)\n    });\n  };\n\n  var columns = [{\n    title: '标的名称',\n    align: 'center',\n    dataIndex: 'securityAbbr'\n  }, {\n    title: '事项名称',\n    align: 'center',\n    dataIndex: 'processType',\n    render: function render(val) {\n      return processTypeList.find(function (item) {\n        return item.type === val;\n      }).text;\n    }\n  }, {\n    title: '截止时间',\n    align: 'center',\n    dataIndex: 'endTime',\n    render: function render(val) {\n      return moment_default()(val).format('YYYY-MM-DD');\n    }\n  }, {\n    title: '事项来源',\n    align: 'center',\n    dataIndex: 'sourceName'\n  }, {\n    title: '通知人',\n    align: 'center',\n    dataIndex: 'managerUserName'\n  }, {\n    title: '备注',\n    align: 'center',\n    dataIndex: 'remarks'\n  }, {\n    title: '处理',\n    align: 'center',\n    dataIndex: 'handleStatus',\n    width: 200,\n    render: function render(val, row) {\n      if (val === 0) {\n        return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement(\"span\", {\n          className: TodoListmodules_default.a.isActive,\n          onClick: function onClick() {\n            return handleUpdateTodo(row);\n          }\n        }, \"\\u6807\\u4E3A\\u5DF2\\u5904\\u7406 \\u221A\"), /*#__PURE__*/react_default.a.createElement(divider[\"a\" /* default */], {\n          type: \"vertical\"\n        }), /*#__PURE__*/react_default.a.createElement(\"span\", {\n          className: TodoListmodules_default.a.isActive,\n          onClick: function onClick() {\n            return handleResolve(row);\n          }\n        }, \"\\u53BB\\u5904\\u7406 -\\u203A\"));\n      }\n\n      return /*#__PURE__*/react_default.a.createElement(react_default.a.Fragment, null, /*#__PURE__*/react_default.a.createElement(\"span\", null, \"\\u5DF2\\u5904\\u7406 \\u221A\"), /*#__PURE__*/react_default.a.createElement(divider[\"a\" /* default */], {\n        type: \"vertical\"\n      }), /*#__PURE__*/react_default.a.createElement(\"span\", null, \"\\u53BB\\u5904\\u7406 -\\u203A\"));\n    }\n  }]; // 初始化日期\n\n  Object(react[\"useEffect\"])(function () {\n    var todoDateList = Object(toConsumableArray[\"a\" /* default */])(Array(5)).map(function (item, index) {\n      return {\n        date: moment_default()(todoBaseDate).add(index - 2, 'd').format('YYYY-MM-DD')\n      };\n    });\n\n    dispatch({\n      type: 'staggingOverview/updateModelData',\n      payload: {\n        todoDateList: todoDateList\n      }\n    });\n  }, [dispatch, todoBaseDate]); // 切换日期，获取待办列表\n\n  Object(react[\"useEffect\"])(function () {\n    dispatch({\n      type: 'staggingOverview/getTodoListByDate',\n      payload: {\n        date: selectedDate\n      }\n    });\n  }, [dispatch, selectedDate]);\n  return /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: TodoListmodules_default.a.todoList\n  }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: TodoListmodules_default.a.calendar\n  }, /*#__PURE__*/react_default.a.createElement(\"div\", {\n    style: {\n      position: 'relative',\n      marginBottom: '12px'\n    }\n  }, /*#__PURE__*/react_default.a.createElement(CalendarOutlined[\"a\" /* default */], {\n    className: TodoListmodules_default.a.calendarIcon,\n    style: {\n      cursor: 'pointer'\n    },\n    onClick: function onClick() {\n      return setIsOpen(!isOpen);\n    }\n  }), /*#__PURE__*/react_default.a.createElement(date_picker[\"a\" /* default */], {\n    open: isOpen,\n    format: \"YYYY-MM-DD\",\n    style: {\n      position: 'absolute',\n      top: '10px',\n      left: 0,\n      right: 0,\n      visibility: 'hidden'\n    },\n    onChange: handleChooseDate\n  })), /*#__PURE__*/react_default.a.createElement(\"ul\", null, todoDateList.map(function (item, index) {\n    return /*#__PURE__*/react_default.a.createElement(\"li\", {\n      key: item.date,\n      className: item.date === selectedDate ? TodoListmodules_default.a.active : '',\n      onClick: function onClick() {\n        return handleChangeDate(item.date);\n      }\n    }, item.date);\n  }))), /*#__PURE__*/react_default.a.createElement(\"div\", {\n    className: TodoListmodules_default.a.tableBox\n  }, /*#__PURE__*/react_default.a.createElement(table[\"a\" /* default */], {\n    rowKey: \"id\",\n    loading: tableLoading || createLoading || updateLoading,\n    scroll: {\n      y: 260\n    },\n    columns: columns,\n    dataSource: todoList,\n    pagination: false\n  }), /*#__PURE__*/react_default.a.createElement(CreateTodoForm, null)));\n};\n\n/* harmony default export */ var components_TodoList = (Object(umiExports[\"b\" /* connect */])(function (_ref4) {\n  var staggingOverview = _ref4.staggingOverview,\n      loading = _ref4.loading;\n  return {\n    tableLoading: loading.effects['staggingOverview/getTodoListByDate'],\n    createLoading: loading.effects['staggingOverview/createTodo'],\n    updateLoading: loading.effects['staggingOverview/updateTodo'],\n    staggingOverview: staggingOverview\n  };\n})(TodoList_TodoList));\n// CONCATENATED MODULE: ./src/pages/staggingTool/overView/index.tsx\n\n\n\n\n\n\n\n\nvar TabPane = tabs[\"a\" /* default */].TabPane;\nvar tabList = [{\n  key: 1,\n  tab: '打新日历',\n  component: components_Calendar\n}, {\n  key: 2,\n  tab: '当日待办',\n  component: components_TodoList\n}];\n\nvar overView_overView = function overView() {\n  return /*#__PURE__*/react_default.a.createElement(es[\"a\" /* PageHeaderWrapper */], null, /*#__PURE__*/react_default.a.createElement(card[\"a\" /* default */], null, /*#__PURE__*/react_default.a.createElement(tabs[\"a\" /* default */], null, tabList.map(function (item) {\n    return /*#__PURE__*/react_default.a.createElement(TabPane, {\n      tab: item.tab,\n      key: item.key\n    }, /*#__PURE__*/react_default.a.createElement(item.component, null));\n  }))));\n};\n\n/* harmony default export */ var staggingTool_overView = __webpack_exports__[\"default\"] = (overView_overView);\n\n/***/ }),\n\n/***/ \"7hA3\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"staggingCalendar\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-staggingCalendar\",\"theadIconWrapper\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-theadIconWrapper\",\"theadIconBox\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-theadIconBox\",\"thead\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-thead\",\"today\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-today\",\"tableCell\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-tableCell\",\"tableCellItem\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-tableCellItem\",\"stepCell\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-stepCell\",\"available\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-available\",\"stepText\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-stepText\",\"stepBox\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-stepBox\",\"actionbar\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-actionbar\",\"legend\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-legend\",\"legendItem\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-legendItem\",\"legandTag\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-legandTag\",\"searchForm\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-searchForm\"};\n\n/***/ }),\n\n/***/ \"sOU6\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"todoList\":\"antd-pro-pages-stagging-tool-over-view-components-todo-list-index-todoList\",\"calendar\":\"antd-pro-pages-stagging-tool-over-view-components-todo-list-index-calendar\",\"active\":\"antd-pro-pages-stagging-tool-over-view-components-todo-list-index-active\",\"calendarIcon\":\"antd-pro-pages-stagging-tool-over-view-components-todo-list-index-calendarIcon\",\"tableBox\":\"antd-pro-pages-stagging-tool-over-view-components-todo-list-index-tableBox\",\"isActive\":\"antd-pro-pages-stagging-tool-over-view-components-todo-list-index-isActive\"};\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["E:/公司代码/MRP报表/vip-manager/src/pages/staggingTool/overView/components/Calendar/index.tsx","E:/公司代码/MRP报表/vip-manager/src/pages/staggingTool/overView/components/TodoList/index.tsx","E:/公司代码/MRP报表/vip-manager/src/pages/staggingTool/overView/index.tsx","E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\bundler-webpack\\lib\\webpack\\plugins\\mini-css-extract-plugin\\src\\loader.js??ref--13-oneOf-0-0!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\css-loader\\cjs.js??ref--13-oneOf-0-1!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\postcss-loader\\src\\index.js??postcss!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\less-loader\\cjs.js??ref--13-oneOf-0-3!E:\\公司代码\\MRP报表\\vip-manager\\src\\pages\\staggingTool\\overView\\components\\Calendar\\index.less?modules","E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\bundler-webpack\\lib\\webpack\\plugins\\mini-css-extract-plugin\\src\\loader.js??ref--13-oneOf-0-0!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\css-loader\\cjs.js??ref--13-oneOf-0-1!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\postcss-loader\\src\\index.js??postcss!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\less-loader\\cjs.js??ref--13-oneOf-0-3!E:\\公司代码\\MRP报表\\vip-manager\\src\\pages\\staggingTool\\overView\\components\\TodoList\\index.less?modules"],"names":["RenderTableTitle","title","onChangeDate","_styles","theadIconWrapper","justifyContent","theadIconBox","today","moment","format","thead","RenderTableStep","step","stepList","onChange","currStep","find","item","text","isAvailable","stepCell","available","stepText","RenderTableCell","data","colorMap","dotColors","handleNavigate","history","push","pathname","code","tableCell","map","index","tableCellItem","color","apply","cursor","name","haveOfflineApply","display","width","height","borderRadius","backgroundColor","stepStatus","Calendar","props","dispatch","calendarLoading","isSearch","staggingOverview","searchOptions","baseDate","calendarData","useState","columns","setColumns","tableData","setTableData","handleToggleCheck","useCallback","checked","type","payload","handleChangeDate","date","add","debounceFetcher","useMemo","loadOptions","value","keyword","debounce","handleChooseStock","info","useEffect","Array","align","dataIndex","render","val","forEach","i","items1","items2","items3","items4","items5","items6","items7","date1","filter","subItem","staggingCalendar","stepBox","e","target","actionbar","legend","legendItem","legandTag","datePicker","searchForm","row","connect","loading","effects","Option","processTypeList","TodoForm","selectedDate","useForm","form","employeeList","setEmployeeList","handleSubmitTodo","values","getFieldsValue","stock","processType","remarks","managerUserId","endTime","label","securityAbbr","secuCode","res","success","error","message","pageSize","callback","list","required","input","option","children","toLowerCase","indexOf","userName","CreateTodoForm","TodoList","tableLoading","createLoading","updateLoading","todoBaseDate","todoDateList","todoList","isOpen","setIsOpen","handleChooseDate","handleUpdateTodo","id","handleStatus","handleResolve","isActive","calendar","position","marginBottom","calendarIcon","top","left","right","visibility","active","tableBox","y","TabPane","tabList","key","tab","component","overView"],"mappings":"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","file":"x","sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport { message, Table, Spin, Checkbox, Select, DatePicker } from 'antd';\r\nimport { connect, history } from 'umi';\r\nimport { LeftOutlined, RightOutlined } from '@ant-design/icons';\r\nimport moment from 'moment';\r\nimport debounce from 'lodash.debounce';\r\n\r\nimport _styles from './index.less';\r\n\r\n// 渲染表头\r\nconst RenderTableTitle = ({title = '', onChangeDate }) => {\r\n    if (title === 'step') {\r\n        return (\r\n            <div className={_styles.theadIconWrapper} style={{ justifyContent: 'flex-end' }}>\r\n                <div\r\n                    className={_styles.theadIconBox}\r\n                    onClick={() => onChangeDate('prev')}\r\n                >\r\n                    <LeftOutlined />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (title === 'right') {\r\n        return (\r\n            <div className={_styles.theadIconWrapper} style={{ justifyContent: 'flex-start' }}>\r\n                <div\r\n                    className={_styles.theadIconBox}\r\n                    onClick={() => onChangeDate('next')}\r\n                >\r\n                    <RightOutlined />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const today = moment().format('YYYY-MM-DD');\r\n    return <div className={`${_styles.thead} ${title === today ? _styles.today : ''}`}>{title}</div>;\r\n};\r\n\r\n// 渲染表格第一列\r\nconst RenderTableStep = ({ step, stepList, onChange }) => {\r\n    const currStep = stepList.find((item) => item.step === step);\r\n    if (!currStep) return <></>;\r\n\r\n    const { text, isAvailable } = currStep;\r\n    return (\r\n        <div className={`${_styles.stepCell} ${ isAvailable ? _styles.available : ''}`}>\r\n            <Checkbox checked onChange={onChange}></Checkbox>\r\n            <div className={_styles.stepText}>{text}</div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// 渲染表格\r\nconst RenderTableCell = ({ data }) => {\r\n    const colorMap = {\r\n        1: '#6D93FF',\r\n        2: '#FB560A',\r\n        3: '#9B9B9B'\r\n    };\r\n\r\n    // stepStatus 为 1，2，3时，才有颜色标识\r\n    const dotColors = {\r\n        1: '#ff3f3f',\r\n        2: '#fdc753',\r\n        3: '#3d7fff'\r\n    };\r\n    const handleNavigate = (item) => { \r\n        // console.log(item)\r\n        // return;\r\n        history.push({\r\n           \r\n            pathname: `/staggingTool/overView/stock/${item.code}`\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className={_styles.tableCell}>\r\n            {data.map((item, index) => (\r\n                <div key={index} className={_styles.tableCellItem}>\r\n                    <span\r\n                        style={{ color: colorMap[item.apply] || '', cursor: 'pointer' }}\r\n                        onClick={() => handleNavigate(item)}\r\n                    >\r\n                        {`${item.code} [${item.name}]`}\r\n                    </span>\r\n                    {item.haveOfflineApply === 0 && <span>仅网上</span>}\r\n                    <span style={{ display: 'inline-block', width: '8px', height: '8px', borderRadius: '4px', backgroundColor: dotColors[item.stepStatus] || '' }}></span>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Calendar = (props) => {\r\n    const { dispatch, calendarLoading, isSearch, staggingOverview } = props;\r\n    const { searchOptions, stepList, baseDate, calendarData } = staggingOverview;\r\n    const [columns, setColumns] = useState([]);\r\n    const [tableData, setTableData] = useState([]);\r\n\r\n    // 切换打新步骤选择\r\n    const handleToggleCheck = useCallback((step, checked = false) => {\r\n        dispatch({\r\n            type: 'staggingOverview/updateStepList',\r\n            payload: {\r\n                step,\r\n                checked\r\n            }\r\n        });\r\n    }, [dispatch]);\r\n\r\n    const handleChangeDate = useCallback((type) => {\r\n        let date;\r\n        switch (type) {\r\n            case 'prev':\r\n                date = moment(baseDate).add(-5, 'd');\r\n                break;\r\n            case 'next':\r\n                date = moment(baseDate).add(5, 'd');\r\n                break;\r\n            default:\r\n                date = type;\r\n                break;\r\n        }\r\n\r\n        dispatch({\r\n            type: 'staggingOverview/updateModelData',\r\n            payload: { baseDate: date.format('YYYY-MM-DD') }\r\n        });\r\n    }, [baseDate, dispatch]);\r\n\r\n    const debounceFetcher = useMemo(() => {\r\n        const loadOptions = (value) => {\r\n            dispatch({\r\n                type: 'staggingOverview/updateModelData',\r\n                payload: {\r\n                    searchOptions: []\r\n                }\r\n            });\r\n            dispatch({\r\n                type: 'staggingOverview/getStockByKeyword',\r\n                payload: {\r\n                    keyword: value\r\n                }\r\n            });\r\n        };\r\n\r\n        return debounce(loadOptions, 800);\r\n    }, [dispatch]);\r\n\r\n    const handleChooseStock = useCallback((item) => {\r\n        if (item) {\r\n            const { apply } = item;\r\n            if (apply === 3) {\r\n                message.info('该标的不能打新！');\r\n                return;\r\n            }\r\n            history.push({\r\n                pathname: `/staggingTool/overView/stock/${item.value}`\r\n            });\r\n        }\r\n        dispatch({\r\n            type: 'staggingOverview/updateModelData',\r\n            payload: {\r\n                searchOptions: []\r\n            }\r\n        });\r\n    }, [dispatch]);\r\n\r\n    // 初始化数据\r\n    useEffect(() => {\r\n        const calendarData = [...Array(5)].map((item, index) => {\r\n            return {\r\n                date: moment().add(index - 2, 'd').format('YYYY-MM-DD')\r\n            };\r\n        });\r\n        dispatch({\r\n            type: 'staggingOverview/updateModelData',\r\n            payload: { calendarData }\r\n        });\r\n    }, [dispatch]);\r\n\r\n    // 获取数据\r\n    useEffect(() => {\r\n        dispatch({\r\n            type: 'staggingOverview/getCalendarData',\r\n            payload: { baseDate }\r\n        });\r\n    }, [baseDate, dispatch]);\r\n\r\n    // 解析表头 & 表格数据\r\n    useEffect(() => {\r\n        const columns: any[] = [{\r\n            title: <RenderTableTitle title=\"step\" onChangeDate={handleChangeDate} />,\r\n            width: 100,\r\n            align: 'center',\r\n            dataIndex: 'step',\r\n            render: (val) => {\r\n                return (\r\n                    <RenderTableStep\r\n                        step={val}\r\n                        stepList={stepList}\r\n                        onChange={() => handleToggleCheck(val)}\r\n                    />\r\n                );\r\n            }\r\n        }];\r\n        const tableData = [];\r\n        calendarData.forEach((item, i) => {\r\n            const { date, items1 = [], items2 = [], items3 = [], items4 = [], items5 = [], items6 = [], items7 = [] } = item;\r\n            columns.push({\r\n                title: <RenderTableTitle title={moment(date).format('YYYY-MM-DD')} onChangeDate={handleChangeDate} />,\r\n                align: 'center',\r\n                dataIndex: `date${i + 1}`,\r\n                render: (val) => <RenderTableCell data={val} />\r\n            });\r\n            if (i === 0) {\r\n                tableData.push(\r\n                    { step: 'step1', date1: items1 },\r\n                    { step: 'step2', date1: items2 },\r\n                    { step: 'step3', date1: items3 },\r\n                    { step: 'step4', date1: items4 },\r\n                    { step: 'step5', date1: items5 },\r\n                    { step: 'step6', date1: items6 },\r\n                    { step: 'step7', date1: items7 },\r\n                );\r\n            } else {\r\n                tableData[0][`date${i + 1}`] = items1;\r\n                tableData[1][`date${i + 1}`] = items2;\r\n                tableData[2][`date${i + 1}`] = items3;\r\n                tableData[3][`date${i + 1}`] = items4;\r\n                tableData[4][`date${i + 1}`] = items5;\r\n                tableData[5][`date${i + 1}`] = items6;\r\n                tableData[6][`date${i + 1}`] = items7;\r\n            }\r\n        });\r\n        columns.push({\r\n            title: () => <RenderTableTitle title=\"right\" onChangeDate={handleChangeDate} />,\r\n            width: 60,\r\n            align: 'center',\r\n            dataIndex: 'right',\r\n            render: () => ''\r\n        });\r\n\r\n        setColumns(columns);\r\n        setTableData(tableData.filter((item) => {\r\n            const step = stepList.find((subItem) => subItem.step === item.step);\r\n            return step.checked;\r\n        }));\r\n    }, [calendarData, handleChangeDate, handleToggleCheck, stepList]);\r\n\r\n    return (\r\n        <div className={_styles.staggingCalendar}>\r\n            <div className={_styles.stepBox}>\r\n                IPO步骤显示（多选）：\r\n                {stepList.map((item) => (\r\n                    <Checkbox\r\n                        key={item.step}\r\n                        checked={item.checked}\r\n                        onChange={(e) => handleToggleCheck(item.step, e.target.checked)}\r\n                    >\r\n                        {item.text}\r\n                    </Checkbox>\r\n                ))}\r\n            </div>\r\n            <div className={_styles.actionbar}>\r\n                <div className={_styles.legend}>\r\n                    <div className={_styles.legendItem} style={{ color: '#6D93FF' }}>\r\n                        <div className={_styles.legandTag} style={{ backgroundColor: '#6D93FF' }}></div>参与中\r\n                    </div>\r\n                    <div className={_styles.legendItem} style={{ color: '#FB560A' }}>\r\n                        <div className={_styles.legandTag} style={{ backgroundColor: '#FB560A' }}></div>可参与\r\n                    </div>\r\n                    <div className={_styles.legendItem} style={{ color: '#9B9B9B' }}>\r\n                        <div className={_styles.legandTag} style={{ backgroundColor: '#9B9B9B' }}></div>未参与\r\n                    </div>\r\n                </div>\r\n                <div className={_styles.datePicker}>\r\n                    查看：\r\n                    <DatePicker\r\n                        style={{ width: '200px' }}\r\n                        onChange={handleChangeDate}\r\n                    ></DatePicker>\r\n                </div>\r\n                <div className={_styles.searchForm}>\r\n                    标的查询：\r\n                    <Select\r\n                        allowClear\r\n                        labelInValue\r\n                        showSearch\r\n                        showArrow={false}\r\n                        placeholder=\"请输入标的\"\r\n                        style={{ width: '200px' }}\r\n                        filterOption={false}\r\n                        notFoundContent={isSearch ? <Spin size=\"small\" /> : '暂无数据'}\r\n                        options={searchOptions}\r\n                        onSearch={debounceFetcher}\r\n                        onChange={handleChooseStock}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <Table\r\n                loading={calendarLoading}\r\n                pagination={false}\r\n                rowKey={(row) => row.step}\r\n                columns={columns}\r\n                dataSource={tableData}\r\n            ></Table>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default connect(({ staggingOverview, loading }) => ({\r\n    isSearch: loading.effects['staggingOverview/getStockByKeyword'],\r\n    calendarLoading: loading.effects['staggingOverview/getCalendarData'],\r\n    staggingOverview\r\n}))(Calendar);\r\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport { message, Table, Form, Input, Select, Button, DatePicker, Divider, Spin } from 'antd';\r\nimport { connect, history } from 'umi';\r\nimport moment from 'moment';\r\nimport { CalendarOutlined } from '@ant-design/icons';\r\nimport debounce from 'lodash.debounce';\r\nimport _styles from './index.less';\r\nconst { Option } = Select;\r\n\r\nconst processTypeList = [\r\n    { type: 1, text: '市值判断' },\r\n    { type: 2, text: '材料提交' },\r\n    { type: 3, text: '询价' },\r\n    { type: 4, text: '询价复核' },\r\n    { type: 5, text: '发行公告' },\r\n    { type: 6, text: '申购' },\r\n    { type: 7, text: '申购复核' },\r\n    { type: 8, text: '公布中签' },\r\n    { type: 9, text: '缴款日' },\r\n    { type: 10, text: '上市' }\r\n];\r\n\r\nconst TodoForm = (props) => {\r\n    const { dispatch, isSearch, staggingOverview } = props;\r\n    const { searchOptions, selectedDate } = staggingOverview;\r\n    const [form] = Form.useForm();\r\n    const [employeeList, setEmployeeList] = useState([]);\r\n\r\n    const debounceFetcher = useMemo(() => {\r\n        const loadOptions = (value) => {\r\n            dispatch({\r\n                type: 'staggingOverview/updateModelData',\r\n                payload: {\r\n                    searchOptions: []\r\n                }\r\n            });\r\n            dispatch({\r\n                type: 'staggingOverview/getStockByKeyword',\r\n                payload: {\r\n                    keyword: value\r\n                }\r\n            });\r\n        };\r\n\r\n        return debounce(loadOptions, 800);\r\n    }, [dispatch]);\r\n\r\n    const handleSubmitTodo = useCallback(async () => {\r\n        const values = form.getFieldsValue();\r\n        const { stock, processType, remarks, managerUserId, endTime } = values;\r\n        const { value } = stock;\r\n        const label = searchOptions.find((i) => i.value === value).securityAbbr;\r\n        const res = await dispatch({\r\n            type: 'staggingOverview/createTodo',\r\n            payload: {\r\n                secuCode: value,\r\n                securityAbbr: label,\r\n                remarks,\r\n                processType,\r\n                managerUserId,\r\n                endTime: moment(endTime).format('YYYY-MM-DD')\r\n            }\r\n        });\r\n\r\n        if (res.code === 1008) {\r\n            message.success('添加待办成功');\r\n            dispatch({\r\n                type: 'staggingOverview/getTodoListByDate',\r\n                payload: { date: selectedDate }\r\n            });\r\n        } else {\r\n            message.error(res.message);\r\n        }\r\n    }, [dispatch, form, searchOptions, selectedDate]);\r\n\r\n    useEffect(() => {\r\n        dispatch({\r\n            type: 'accountInfo/querySelectAllUser',\r\n            payload: {\r\n                pageSize: 9999999\r\n            },\r\n            callback: (res) => {\r\n                if (res.code === 1008 && res.data) {\r\n                    setEmployeeList(res.data.list || []);\r\n                }\r\n            }\r\n        });\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <Form form={form} name=\"create_todo_form\" layout=\"inline\" onFinish={handleSubmitTodo}>\r\n            <Form.Item\r\n                name=\"stock\"\r\n                rules={[{ required: true, message: '请选择标的' }]}\r\n            >\r\n                <Select\r\n                    allowClear\r\n                    labelInValue\r\n                    showSearch\r\n                    showArrow={false}\r\n                    placeholder=\"请选择标的\"\r\n                    style={{ width: '200px' }}\r\n                    filterOption={false}\r\n                    notFoundContent={isSearch ? <Spin size=\"small\" /> : null}\r\n                    options={searchOptions.filter((item) => item.apply !== 3)}\r\n                    onSearch={debounceFetcher}\r\n                />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"processType\"\r\n                rules={[{ required: true, message: '请选择事项' }]}\r\n            >\r\n                <Select\r\n                    style={{ width: 130 }}\r\n                    placeholder=\"请选择事项\"\r\n                >\r\n                    {processTypeList.map((item, index) => (\r\n                        <Option\r\n                            key={index}\r\n                            value={item.type}\r\n                        >\r\n                            {item.text}\r\n                        </Option>\r\n                    ))}\r\n                </Select>\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"remarks\"\r\n                rules={[{ required: true, message: '请输入备注' }]}\r\n            >\r\n                <Input style={{ width: 300 }} placeholder=\"请输入备注\" />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"managerUserId\"\r\n                rules={[{ required: true, message: '请选择通知人' }]}\r\n            >\r\n                <Select\r\n                    showSearch\r\n                    style={{ width: 130 }}\r\n                    placeholder=\"请选择通知人\"\r\n                    optionFilterProp=\"children\"\r\n                    filterOption={(input, option) =>\r\n                        option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\r\n                    }\r\n                >\r\n                    {\r\n                        employeeList.map((item, index) => (\r\n                            <Option key={index} value={item.managerUserId}>{item.userName}</Option>\r\n                        ))\r\n                    }\r\n                </Select>\r\n            </Form.Item>\r\n            <Form.Item\r\n                name=\"endTime\"\r\n                rules={[{ required: true, message: '请选择截止时间' }]}\r\n            >\r\n                <DatePicker />\r\n            </Form.Item>\r\n            <Form.Item>\r\n                <Button\r\n                    type=\"primary\"\r\n                    htmlType=\"submit\"\r\n                >\r\n                    增加待办\r\n                </Button>\r\n            </Form.Item>\r\n        </Form>\r\n    );\r\n};\r\n\r\nconst CreateTodoForm = connect(({ staggingOverview, loading }) => ({\r\n    isSearch: loading.effects['staggingOverview/getStockByKeyword'],\r\n    staggingOverview\r\n}))(TodoForm);\r\n\r\nconst TodoList = (props) => {\r\n    const { dispatch, tableLoading, createLoading, updateLoading, staggingOverview } = props;\r\n    const { todoBaseDate, selectedDate, todoDateList, todoList } = staggingOverview;\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    const handleChangeDate = (date) => {\r\n        dispatch({\r\n            type: 'staggingOverview/updateModelData',\r\n            payload: { selectedDate: date }\r\n        });\r\n    };\r\n\r\n    const handleChooseDate = useCallback((date) => {\r\n        setIsOpen(false);\r\n        dispatch({\r\n            type: 'staggingOverview/updateModelData',\r\n            payload: {\r\n                selectedDate: date.format('YYYY-MM-DD'),\r\n                todoBaseDate: date.format('YYYY-MM-DD')\r\n            }\r\n        });\r\n    }, [dispatch]);\r\n\r\n    const handleUpdateTodo = useCallback(async (row) => {\r\n        const res = await dispatch({\r\n            type: 'staggingOverview/updateTodo',\r\n            payload: {\r\n                id: row.id\r\n            }\r\n        });\r\n\r\n        if (res.code === 1008) {\r\n            message.success('处理成功');\r\n            dispatch({\r\n                type: 'updateModelData',\r\n                payload: {\r\n                    todoList: [...todoList].map((item) => {\r\n                        if (item.id === row.id) item.handleStatus = 1;\r\n                        return item;\r\n                    })\r\n                }\r\n            });\r\n        } else {\r\n            message.error(res.message);\r\n        }\r\n    }, [dispatch, todoList]);\r\n\r\n    const handleResolve = (item) => {\r\n        const { secuCode } = item;\r\n        history.push({\r\n            pathname: `/staggingTool/overView/stock/${secuCode}`\r\n        });\r\n    };\r\n\r\n    const columns: any[] = [\r\n        {\r\n            title: '标的名称',\r\n            align: 'center',\r\n            dataIndex: 'securityAbbr'\r\n        },\r\n        {\r\n            title: '事项名称',\r\n            align: 'center',\r\n            dataIndex: 'processType',\r\n            render: (val) => processTypeList.find((item) => item.type === val).text\r\n        },\r\n        {\r\n            title: '截止时间',\r\n            align: 'center',\r\n            dataIndex: 'endTime',\r\n            render: (val) => moment(val).format('YYYY-MM-DD')\r\n        },\r\n        {\r\n            title: '事项来源',\r\n            align: 'center',\r\n            dataIndex: 'sourceName'\r\n        },\r\n        {\r\n            title: '通知人',\r\n            align: 'center',\r\n            dataIndex: 'managerUserName'\r\n        },\r\n        {\r\n            title: '备注',\r\n            align: 'center',\r\n            dataIndex: 'remarks'\r\n        },\r\n        {\r\n            title: '处理',\r\n            align: 'center',\r\n            dataIndex: 'handleStatus',\r\n            width: 200,\r\n            render: (val, row) => {\r\n                if (val === 0) {\r\n                    return <>\r\n                        <span className={_styles.isActive} onClick={() => handleUpdateTodo(row)}>标为已处理 &radic;</span>\r\n                        <Divider type=\"vertical\" />\r\n                        <span className={_styles.isActive} onClick={() => handleResolve(row)}>去处理 -&rsaquo;</span>\r\n                    </>;\r\n                }\r\n\r\n                return <>\r\n                    <span>已处理 &radic;</span>\r\n                    <Divider type=\"vertical\" />\r\n                    <span>去处理 -&rsaquo;</span>\r\n                </>;\r\n            }\r\n        }\r\n    ];\r\n\r\n    // 初始化日期\r\n    useEffect(() => {\r\n        const todoDateList = [...Array(5)].map((item, index) => {\r\n            return {\r\n                date: moment(todoBaseDate).add(index - 2, 'd').format('YYYY-MM-DD')\r\n            };\r\n        });\r\n        dispatch({\r\n            type: 'staggingOverview/updateModelData',\r\n            payload: { todoDateList }\r\n        });\r\n    }, [dispatch, todoBaseDate]);\r\n\r\n    // 切换日期，获取待办列表\r\n    useEffect(() => {\r\n        dispatch({\r\n            type: 'staggingOverview/getTodoListByDate',\r\n            payload: { date: selectedDate }\r\n        });\r\n    }, [dispatch, selectedDate]);\r\n\r\n    return (\r\n        <div className={_styles.todoList}>\r\n            <div className={_styles.calendar}>\r\n                <div style={{ position: 'relative', marginBottom: '12px' }}>\r\n                    <CalendarOutlined className={_styles.calendarIcon} style={{ cursor: 'pointer' }} onClick={() => setIsOpen(!isOpen)} />\r\n                    <DatePicker\r\n                        open={isOpen}\r\n                        format=\"YYYY-MM-DD\"\r\n                        style={{ position: 'absolute', top: '10px', left: 0, right: 0, visibility: 'hidden' }}\r\n                        onChange={handleChooseDate}\r\n                    ></DatePicker>\r\n                </div>\r\n                <ul>\r\n                    {todoDateList.map((item, index) => (\r\n                        <li\r\n                            key={item.date}\r\n                            className={item.date === selectedDate ? _styles.active : ''}\r\n                            onClick={() => handleChangeDate(item.date)}\r\n                        >\r\n                            {item.date}\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            </div>\r\n            <div className={_styles.tableBox}>\r\n                <Table\r\n                    rowKey=\"id\"\r\n                    loading={tableLoading || createLoading || updateLoading}\r\n                    scroll={{ y: 260 }}\r\n                    columns={columns}\r\n                    dataSource={todoList}\r\n                    pagination={false}\r\n                ></Table>\r\n                <CreateTodoForm></CreateTodoForm>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default connect(({ staggingOverview, loading }) => ({\r\n    tableLoading: loading.effects['staggingOverview/getTodoListByDate'],\r\n    createLoading: loading.effects['staggingOverview/createTodo'],\r\n    updateLoading: loading.effects['staggingOverview/updateTodo'],\r\n    staggingOverview\r\n}))(TodoList);\r\n","import React from 'react';\r\nimport { Card, Tabs } from 'antd';\r\nimport { PageHeaderWrapper } from '@ant-design/pro-layout';\r\nimport { getPermission } from '@/utils/utils';\r\nimport Calendar from './components/Calendar';\r\nimport TodoList from './components/TodoList';\r\n\r\nconst { TabPane } = Tabs;\r\nconst tabList = [{\r\n    key: 1,\r\n    tab: '打新日历',\r\n    component: Calendar\r\n}, {\r\n    key: 2,\r\n    tab: '当日待办',\r\n    component: TodoList\r\n}];\r\n\r\nconst overView = () => {\r\n    return (\r\n        <PageHeaderWrapper>\r\n            {/* TODO 保留这个，getPermission的逻辑 */}\r\n            {/* <Card title=\"打新流程列表\" className={_styles.cardExtra}>\r\n                <FlowList {...getPermission(70100)} />\r\n            </Card> */}\r\n            <Card>\r\n                <Tabs>\r\n                    {tabList.map((item) => (\r\n                        <TabPane tab={item.tab} key={item.key}>\r\n                            <item.component></item.component>\r\n                        </TabPane>\r\n                    ))}\r\n                </Tabs>\r\n            </Card>\r\n        </PageHeaderWrapper>\r\n    );\r\n};\r\n\r\nexport default overView;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"staggingCalendar\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-staggingCalendar\",\"theadIconWrapper\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-theadIconWrapper\",\"theadIconBox\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-theadIconBox\",\"thead\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-thead\",\"today\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-today\",\"tableCell\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-tableCell\",\"tableCellItem\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-tableCellItem\",\"stepCell\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-stepCell\",\"available\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-available\",\"stepText\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-stepText\",\"stepBox\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-stepBox\",\"actionbar\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-actionbar\",\"legend\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-legend\",\"legendItem\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-legendItem\",\"legandTag\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-legandTag\",\"searchForm\":\"antd-pro-pages-stagging-tool-over-view-components-calendar-index-searchForm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"todoList\":\"antd-pro-pages-stagging-tool-over-view-components-todo-list-index-todoList\",\"calendar\":\"antd-pro-pages-stagging-tool-over-view-components-todo-list-index-calendar\",\"active\":\"antd-pro-pages-stagging-tool-over-view-components-todo-list-index-active\",\"calendarIcon\":\"antd-pro-pages-stagging-tool-over-view-components-todo-list-index-calendarIcon\",\"tableBox\":\"antd-pro-pages-stagging-tool-over-view-components-todo-list-index-tableBox\",\"isActive\":\"antd-pro-pages-stagging-tool-over-view-components-todo-list-index-isActive\"};"]}}