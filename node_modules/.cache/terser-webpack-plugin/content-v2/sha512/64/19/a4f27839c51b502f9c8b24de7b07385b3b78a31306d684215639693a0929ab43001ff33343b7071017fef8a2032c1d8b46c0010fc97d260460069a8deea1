{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[13],{\"2WN1\":function(e,t,n){},fdQr:function(e,t,n){\"use strict\";n.r(t);n(\"T2oS\");var a=n(\"W9HT\"),s=n(\"9og8\"),o=n(\"fWQN\"),r=n(\"mtLc\"),i=n(\"tS8v\"),c=n(\"yKVA\"),u=n(\"879j\"),l=n(\"WmNS\"),p=n.n(l),m=n(\"Hx5s\"),h=n(\"FRQA\"),w=n(\"q1tI\"),d=n.n(w),f=n(\"2WN1\"),S=n.n(f),g=n(\"AEkp\"),y=n(\"T96l\"),v=n(\"oHI1\"),b=function(e){Object(c[\"a\"])(n,e);var t=Object(u[\"a\"])(n);function n(e){var a;return Object(o[\"a\"])(this,n),a=t.call(this,e),a.cancel=function(){var e=Object(i[\"a\"])(a);e.setState({show:!1,isShow:!1},(function(){setTimeout((function(){e.setState({show:!0})}),100)}))},a.showInsert=function(e){var t=Object(i[\"a\"])(a);t.setState({show:!1,isShow:!0,currentComponent:e},(function(){setTimeout((function(){t.setState({show:!0})}),100)}))},a.deleteComponent=function(){var e=Object(s[\"a\"])(p.a.mark((function e(t){var n;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={moduleTypes:[t],roleType:\"operatemanager\"},e.next=3,g[\"a\"].postJSON(\"/mrp_analysis/simuAnalysisModule/deleteModules\",n);case 3:e.sent,a.getAllComponent();case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getAllComponent=Object(s[\"a\"])(p.a.mark((function e(){var t,n,s,o,r;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.setState({loading:!0}),t={roleType:\"operatemanager\"},e.next=4,g[\"a\"].postJSON(\"/mrp_analysis/simuAnalysisModule/getRoleModules\",t);case 4:if(n=e.sent,s=[],\"\\u6210\\u529f\"==n.message){for(o=0;o<n.data.length;o++)s.push(n.data[o].moduletype);r=Object(i[\"a\"])(a),r.setState({show:!1,com:s,loading:!1},(function(){setTimeout((function(){r.setState({show:!0})}),100)}))}case 7:case\"end\":return e.stop()}}),e)}))),a.insertNow=function(){var e=Object(s[\"a\"])(p.a.mark((function e(t){var n,s;return p.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.setState({isShow:!1,loading:!0}),n={moduleTypes:t,roleType:\"operatemanager\"},e.next=4,g[\"a\"].postJSON(\"/mrp_analysis/simuAnalysisModule/addModules\",n);case 4:s=e.sent,\"\\u6210\\u529f\"==s.message&&(a.getAllComponent(),a.setState({loading:!1}));case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={com:[\"YWFX_0001\",\"YWFX_0013\",\"YWFX_0012\"],isShow:!1,currentComponent:\"\",show:!1},a}return Object(r[\"a\"])(n,[{key:\"componentDidMount\",value:function(){this.getAllComponent()}},{key:\"render\",value:function(){return d.a.createElement(m[\"a\"],{title:\"\\u8fd0\\u8425\\u7ecf\\u7406\\u62a5\\u544a\"},d.a.createElement(h[\"a\"],{className:S.a.tabsCard},d.a.createElement(a[\"a\"],{spinning:this.state.loading},this.state.show?d.a.createElement(v[\"a\"],{com:this.state.com,showInsert:this.showInsert,delete:this.deleteComponent}):\"\",d.a.createElement(y[\"a\"],{isShow:this.state.isShow,cancel:this.cancel,allComponents:this.state.com,insertNow:this.insertNow,currentComponent:this.state.currentComponent}))))}}]),n}(w[\"Component\"]);t[\"default\"]=b}}]);","name":"p__businessAnalysis__operateManager.async.js?v=1646123553782","map":{"version":3,"sources":["p__businessAnalysis__operateManager.async.js?v=1646123553782"],"names":["window","push","2WN1","module","exports","__webpack_require__","fdQr","__webpack_exports__","r","antd_es_spin__WEBPACK_IMPORTED_MODULE_1__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_7__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default","n","_ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_9__","_ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_10__","react__WEBPACK_IMPORTED_MODULE_11__","react__WEBPACK_IMPORTED_MODULE_11___default","_style_less_modules__WEBPACK_IMPORTED_MODULE_12__","_style_less_modules__WEBPACK_IMPORTED_MODULE_12___default","_utils_rest__WEBPACK_IMPORTED_MODULE_13__","_components_insert_InsertIndex__WEBPACK_IMPORTED_MODULE_14__","_components_pageConponents_index__WEBPACK_IMPORTED_MODULE_15__","OperateManage","_Component","Object","_super","props","_this","this","call","cancel","that","setState","show","isShow","setTimeout","showInsert","value","currentComponent","deleteComponent","_ref","a","mark","_callee","e","post","wrap","_context","prev","next","moduleTypes","roleType","postJSON","sent","getAllComponent","stop","_x","apply","arguments","_callee2","res","arr","i","_context2","loading","message","data","length","moduletype","com","insertNow","_ref3","_callee3","_context3","_x2","state","key","createElement","title","className","tabsCard","spinning","delete","allComponents"],"mappings":"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"},"input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[13],{\n\n/***/ \"2WN1\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ \"fdQr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var antd_es_spin_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"T2oS\");\n/* harmony import */ var antd_es_spin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"W9HT\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"9og8\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"fWQN\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"mtLc\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"tS8v\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"yKVA\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"879j\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"WmNS\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"Hx5s\");\n/* harmony import */ var _ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"FRQA\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _style_less_modules__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"2WN1\");\n/* harmony import */ var _style_less_modules__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_style_less_modules__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var _utils_rest__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"AEkp\");\n/* harmony import */ var _components_insert_InsertIndex__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"T96l\");\n/* harmony import */ var _components_pageConponents_index__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"oHI1\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar OperateManage = /*#__PURE__*/function (_Component) {\n  Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])(OperateManage, _Component);\n\n  var _super = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"])(OperateManage);\n\n  function OperateManage(props) {\n    var _this;\n\n    Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(this, OperateManage);\n\n    _this = _super.call(this, props);\n\n    _this.cancel = function () {\n      var that = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(_this);\n\n      that.setState({\n        show: false,\n        isShow: false\n      }, function () {\n        setTimeout(function () {\n          that.setState({\n            show: true\n          });\n        }, 100);\n      });\n    };\n\n    _this.showInsert = function (value) {\n      //value为子组件的标识名字\n      var that = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(_this);\n\n      that.setState({\n        show: false,\n        isShow: true,\n        currentComponent: value\n      }, function () {\n        setTimeout(function () {\n          that.setState({\n            show: true\n          });\n        }, 100);\n      });\n    };\n\n    _this.deleteComponent = /*#__PURE__*/function () {\n      var _ref = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee(e) {\n        var post, res;\n        return E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                post = {\n                  moduleTypes: [e],\n                  roleType: \"operatemanager\"\n                };\n                _context.next = 3;\n                return _utils_rest__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"].postJSON('/mrp_analysis/simuAnalysisModule/deleteModules', post);\n\n              case 3:\n                res = _context.sent;\n\n                _this.getAllComponent();\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.getAllComponent = /*#__PURE__*/Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee2() {\n      var post, res, arr, i, that;\n      return E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this.setState({\n                loading: true\n              });\n\n              post = {\n                roleType: \"operatemanager\"\n              };\n              _context2.next = 4;\n              return _utils_rest__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"].postJSON('/mrp_analysis/simuAnalysisModule/getRoleModules', post);\n\n            case 4:\n              res = _context2.sent;\n              arr = [];\n\n              if (res.message == \"成功\") {\n                for (i = 0; i < res.data.length; i++) {\n                  arr.push(res.data[i].moduletype);\n                }\n\n                that = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(_this);\n                that.setState({\n                  show: false,\n                  com: arr,\n                  loading: false\n                }, function () {\n                  setTimeout(function () {\n                    that.setState({\n                      show: true\n                    });\n                  }, 100);\n                });\n              }\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    _this.insertNow = /*#__PURE__*/function () {\n      var _ref3 = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.mark(function _callee3(e) {\n        var post, res;\n        return E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_8___default.a.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _this.setState({\n                  isShow: false,\n                  loading: true\n                });\n\n                post = {\n                  moduleTypes: e,\n                  roleType: \"operatemanager\"\n                };\n                _context3.next = 4;\n                return _utils_rest__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"].postJSON('/mrp_analysis/simuAnalysisModule/addModules', post);\n\n              case 4:\n                res = _context3.sent;\n\n                if (res.message == \"成功\") {\n                  _this.getAllComponent();\n\n                  _this.setState({\n                    loading: false\n                  });\n                }\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      com: [\"YWFX_0001\", \"YWFX_0013\", \"YWFX_0012\"],\n      isShow: false,\n      currentComponent: '',\n      show: false //对图表进行重新渲染，否则会有刷新背景图填充的bug\n\n    };\n    return _this;\n  }\n\n  Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])(OperateManage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getAllComponent();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_9__[/* PageHeaderWrapper */ \"a\"], {\n        title: \"\\u8FD0\\u8425\\u7ECF\\u7406\\u62A5\\u544A\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"], {\n        className: _style_less_modules__WEBPACK_IMPORTED_MODULE_12___default.a.tabsCard\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(antd_es_spin__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"], {\n        spinning: this.state.loading\n      }, this.state.show ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_components_pageConponents_index__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"], {\n        com: this.state.com,\n        showInsert: this.showInsert,\n        delete: this.deleteComponent\n      }) : '', /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_components_insert_InsertIndex__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"], {\n        isShow: this.state.isShow,\n        cancel: this.cancel,\n        allComponents: this.state.com,\n        insertNow: this.insertNow,\n        currentComponent: this.state.currentComponent\n      }))));\n    }\n  }]);\n\n  return OperateManage;\n}(react__WEBPACK_IMPORTED_MODULE_11__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (OperateManage);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\bundler-webpack\\lib\\webpack\\plugins\\mini-css-extract-plugin\\src\\loader.js??ref--13-oneOf-0-0!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\css-loader\\cjs.js??ref--13-oneOf-0-1!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\postcss-loader\\src\\index.js??postcss!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\less-loader\\cjs.js??ref--13-oneOf-0-3!E:\\公司代码\\MRP报表\\vip-manager\\src\\pages\\businessAnalysis\\operateManager\\style.less?modules","E:/公司代码/MRP报表/vip-manager/src/pages/businessAnalysis/operateManager/index.jsx"],"names":["OperateManage","props","cancel","that","setState","show","isShow","setTimeout","showInsert","value","currentComponent","deleteComponent","e","post","moduleTypes","roleType","request","postJSON","res","getAllComponent","loading","arr","message","i","data","length","push","moduletype","com","insertNow","state","styles","tabsCard","Component"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import { Spin } from 'antd';\nimport { GridContent, PageHeaderWrapper } from '@ant-design/pro-layout';\nimport React, { Component } from 'react';\nimport { connect } from 'umi';\nimport styles from './style.less';\nimport request from '@/utils/rest';\nimport Insert from '../components/insert/InsertIndex'\nimport PageConponents from '../components/pageConponents/index'\n\nclass OperateManage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            com:[\"YWFX_0001\",\"YWFX_0013\",\"YWFX_0012\"],\n            isShow:false,\n            currentComponent:'',\n            show:false//对图表进行重新渲染，否则会有刷新背景图填充的bug\n        };\n    }\n\n    componentDidMount() {\n       this.getAllComponent()\n    }\n    cancel =()=>{\n      let that = this\n      that.setState({\n            show:false,\n            isShow:false\n      },function(){\n            setTimeout(function(){\n               that.setState({\n                  show:true\n               })\n            },100)\n      })\n    }\n    showInsert = (value) =>{\n      //value为子组件的标识名字\n      let that = this\n      that.setState({\n         show:false,\n         isShow:true,\n         currentComponent:value\n      },function(){\n         setTimeout(function(){\n            that.setState({\n                  show:true\n            })\n         },100)\n      })\n    }\n    //删除组件接口\n    deleteComponent =async(e)=>{\n        let post={\n           moduleTypes:[e],\n           roleType:\"operatemanager\"\n       }\n      let res = await request.postJSON('/mrp_analysis/simuAnalysisModule/deleteModules',post);\n      this.getAllComponent()\n     }\n     //获取当前组件信息\n     getAllComponent =async()=>{\n        this.setState({\n              loading:true\n        })\n        let post={\n              roleType:\"operatemanager\"\n        }\n        let res = await request.postJSON('/mrp_analysis/simuAnalysisModule/getRoleModules',post);\n        let arr=[]\n        if(res.message==\"成功\"){\n           for(let i=0;i<res.data.length;i++){\n                 arr.push(res.data[i].moduletype)\n           }\n           let that = this\n            that.setState({\n               show:false,\n               com:arr,\n                  loading:false\n            },function(){\n               setTimeout(function(){\n                  that.setState({\n                        show:true\n                  })\n               },100)\n            })\n        }\n     }\n     insertNow=async(e)=>{\n        this.setState({\n              isShow:false,\n              loading:true\n           })\n        let post={\n              moduleTypes:e,\n              roleType:\"operatemanager\"\n        }\n        let res = await request.postJSON('/mrp_analysis/simuAnalysisModule/addModules',post);\n        if(res.message==\"成功\"){\n              this.getAllComponent()\n              this.setState({\n                 loading:false\n              })\n        }\n        \n     }\n\n\n    render() {\n \n        return (\n            <PageHeaderWrapper title=\"运营经理报告\">\n               <GridContent className={styles.tabsCard}>\n               <Spin spinning={this.state.loading}>\n                  {\n                     this.state.show?<PageConponents com={this.state.com} showInsert={this.showInsert} delete={this.deleteComponent}></PageConponents>:''\n                  }\n                     <Insert \n                           isShow={this.state.isShow} \n                           cancel={this.cancel} \n                           allComponents={this.state.com}\n                           insertNow = {this.insertNow}\n                           currentComponent={this.state.currentComponent}/>\n                           </Spin>\n                </GridContent>\n            </PageHeaderWrapper>\n        );\n    }\n}\n\nexport default OperateManage;\n"]}}