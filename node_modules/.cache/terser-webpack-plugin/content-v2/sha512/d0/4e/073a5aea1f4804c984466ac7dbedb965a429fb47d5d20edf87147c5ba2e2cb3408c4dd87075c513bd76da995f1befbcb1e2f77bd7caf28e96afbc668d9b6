{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[57],{\"8ie1\":function(e,t,a){e.exports={container:\"antd-pro-pages-product-life-cycle-product-life-cycle-info-template-style-container\",filter:\"antd-pro-pages-product-life-cycle-product-life-cycle-info-template-style-filter\",rowWrapper:\"antd-pro-pages-product-life-cycle-product-life-cycle-info-template-style-rowWrapper\",btnGroup:\"antd-pro-pages-product-life-cycle-product-life-cycle-info-template-style-btnGroup\",dataTable:\"antd-pro-pages-product-life-cycle-product-life-cycle-info-template-style-dataTable\",operationBtn:\"antd-pro-pages-product-life-cycle-product-life-cycle-info-template-style-operationBtn\"}},SW41:function(e,t,a){\"use strict\";a.r(t);a(\"IzEo\");var n=a(\"bx4M\"),c=(a(\"14J3\"),a(\"BMrR\")),l=(a(\"+L6B\"),a(\"2/Rp\")),r=(a(\"jCWc\"),a(\"kPKH\")),i=(a(\"5NDa\"),a(\"5rEg\")),o=a(\"k1fw\"),s=(a(\"DYRE\"),a(\"zeV3\")),p=a(\"fWQN\"),d=a(\"mtLc\"),u=a(\"tS8v\"),m=a(\"yKVA\"),f=a(\"879j\"),y=(a(\"/xke\"),a(\"TeRw\")),h=(a(\"2qtc\"),a(\"kLXV\")),b=(a(\"y8nQ\"),a(\"Vl3Y\")),g=a(\"q1tI\"),w=a.n(g),T=a(\"9kvl\"),E=a(\"nT/m\"),C=a(\"Hx5s\"),I=a(\"FRQA\"),v=a(\"8ie1\"),k=a.n(v),N=a(\"wd/R\"),_=a.n(N),R=a(\"tQHx\"),S=a(\"RCxd\"),L=a(\"+n12\"),x=\"YYYY/MM/DD HH:mm:ss\",D=b[\"a\"].Item,O=h[\"a\"].confirm,j=function(e,t,a,n,c){y[\"default\"][e||\"info\"]({message:t,description:a,placement:n,duration:c||3})},P=function(e){Object(m[\"a\"])(a,e);var t=Object(f[\"a\"])(a);function a(){var e;Object(p[\"a\"])(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return e=t.call.apply(t,[this].concat(c)),e.state={selectedRowKeys:[],pageData:{current:1,pageSize:20},searchParams:{},sortFiled:\"\",sortType:\"\"},e.formRef=w.a.createRef(),e.columns=[{title:\"\\u6a21\\u677f\\u540d\\u79f0\",dataIndex:\"templateName\",fixed:\"left\",width:120,render:function(t,a){return w.a.createElement(\"span\",{className:\"details\",onClick:function(){return e._handleDetails(a)}},t||\"--\")}},{title:\"\\u72b6\\u6001\",dataIndex:\"templateStatuis\",width:100,render:function(e){var t=E[\"Zb\"].find((function(t){return t.value===e}));return t&&t.label||\"--\"}},{title:\"\\u4f7f\\u7528\\u6b21\\u6570\",dataIndex:\"numberOfUse\",width:80,render:function(e){return w.a.createElement(\"span\",null,e)}},{title:\"\\u521b\\u5efa\\u4eba\",dataIndex:\"managerUserName\",width:100,render:function(e){return w.a.createElement(\"span\",null,e||\"--\")}},{title:\"\\u521b\\u5efa\\u65f6\\u95f4\",dataIndex:\"createTime\",width:120,sorter:!0,render:function(e){return w.a.createElement(\"span\",null,e&&_()(e).format(x)||\"--\")}},{title:\"\\u64cd\\u4f5c\",dataIndex:\"operate\",width:80,render:function(t,a){var n=Object(L[\"o\"])(40400),c=n.authEdit;return w.a.createElement(s[\"b\"],null,w.a.createElement(\"span\",{className:\"details\",onClick:function(){return e._handleDetails(a)}},2!==a.templateStatuis?\"\\u7f16\\u8f91\":\"\\u67e5\\u770b\",\" \"),c&&2===a.templateStatuis&&w.a.createElement(\"span\",{className:\"details\",onClick:function(){return e._setDisable(3,a)}},\"\\u7981\\u7528\"),c&&3===a.templateStatuis&&w.a.createElement(\"span\",{className:\"details\",onClick:function(){return e._setDisable(2,a)}},\"\\u542f\\u7528\"))}}],e._handleDetails=function(e){T[\"c\"].push({pathname:\"/productLifeCycleInfo/productLifeCycleInfoTemplate/newProductLifeCycleInfoTemplate/\".concat(e.lifecycleTemplateId)})},e._addTemplate=function(){T[\"c\"].push({pathname:\"/productLifeCycleInfo/productLifeCycleInfoTemplate/newProductLifeCycleInfoTemplate/0\"})},e._onFinish=function(t){e.setState({searchParams:Object(o[\"a\"])({},t),selectedRowKeys:[],pageData:{current:1}},(function(){e._search()}))},e._search=function(){var t=e.state,a=t.pageData,n=t.sortFiled,c=t.sortType,l=t.searchParams,r=e.props.dispatch,i={};c&&(i.sortFiled=n,i.sortType=c),r({type:\"newProductLifeCycleInfoTemplate/querylifeCycleTemplateList\",payload:Object(o[\"a\"])(Object(o[\"a\"])({pageNum:a.current||1,pageSize:a.pageSize||20},i),l),callback:function(t){if(1008===t.code&&t.data)e.setState({templateList:t.data});else{var a=t.message||t.data||\"\\u67e5\\u8be2\\u5931\\u8d25\\uff01\";j(\"warning\",\"\\u63d0\\u793a\\uff08\\u4ee3\\u7801\\uff1a\".concat(t.code,\"\\uff09\"),a,\"topRight\")}}})},e._reset=function(){e.formRef.current.resetFields(),e.setState({searchParams:{},selectedRowKeys:[]},(function(){e._search()}))},e._tableChange=function(t,a,n){e.setState({sortFiled:n.field,sortType:n.order?\"ascend\"===n.order?\"asc\":\"desc\":void 0,pageData:{current:t.current,pageSize:t.pageSize}},(function(){e._search()}))},e._setDisable=function(t,a){var n=e.props.dispatch,c=Object(u[\"a\"])(e),l=2===t?\"\\u542f\\u7528\":\"\\u7981\\u7528\";O({title:\"\\u8bf7\\u60a8\\u786e\\u8ba4\\u662f\\u5426\".concat(l,\"\\u5f53\\u524d\\u8282\\u70b9?\"),icon:w.a.createElement(S[\"a\"],null),okText:\"\\u786e\\u8ba4\",cancelText:\"\\u53d6\\u6d88\",onOk:function(){n({type:\"productTemplate/updateTemplatStatus\",payload:{templateStatuis:t,templateName:a.templateName,lifecycleTemplateId:a.lifecycleTemplateId},callback:function(e){if(1008===e.code&&e.data)j(\"success\",\"\\u63d0\\u793a\",\"\\u8bbe\\u7f6e\\u6210\\u529f\",\"topRight\"),c._search();else{var t=e.message||e.data||\"\\u8bbe\\u7f6e\\u5931\\u8d25\\uff01\";j(\"warning\",\"\\u63d0\\u793a\\uff08\\u4ee3\\u7801\\uff1a\".concat(e.code,\"\\uff09\"),t,\"topRight\")}}})},onCancel:function(){}})},e}return Object(d[\"a\"])(a,[{key:\"componentDidMount\",value:function(){this._search()}},{key:\"render\",value:function(){var e=this,t=this.state,a=t.pageData,o=t.templateList,s=this.props.loading,p=Object(L[\"o\"])(40400),d=p.authEdit;return w.a.createElement(C[\"a\"],{title:\"\\u6a21\\u677f\\u5217\\u8868\"},w.a.createElement(I[\"a\"],{className:k.a.tabsCard},w.a.createElement(n[\"a\"],{bordered:!1},w.a.createElement(\"div\",{className:k.a.container},w.a.createElement(\"div\",{className:k.a.filter},w.a.createElement(b[\"a\"],{name:\"basic\",onFinish:this._onFinish,ref:this.formRef,labelCol:{span:8}},w.a.createElement(c[\"a\"],{gutter:[8,0],className:k.a.rowWrapper},w.a.createElement(r[\"a\"],{span:6},w.a.createElement(D,{label:\"\\u6a21\\u677f\\u540d\\u79f0\",name:\"templateName\"},w.a.createElement(i[\"a\"],{placeholder:\"\\u8bf7\\u8f93\\u5165\",autoComplete:\"off\"}))),w.a.createElement(r[\"a\"],{span:6,className:k.a.btnGroup},w.a.createElement(l[\"a\"],{type:\"primary\",htmlType:\"submit\"},\"\\u67e5\\u8be2\"),w.a.createElement(l[\"a\"],{onClick:this._reset},\"\\u91cd\\u7f6e\"))))),w.a.createElement(\"div\",{className:k.a.dataTable},w.a.createElement(\"div\",{className:k.a.operationBtn},d&&w.a.createElement(l[\"a\"],{type:\"primary\",onClick:this._addTemplate},\"\\u521b\\u5efa\\u6d41\\u7a0b\\u6a21\\u677f\")),w.a.createElement(R[\"a\"],{loading:s,columns:this.columns,dataSource:o&&o.list,total:o&&o.total,pageNum:a.current,rowKey:function(e){return e.lifecycleTemplateId},onChange:function(t,a,n){return e._tableChange(t,a,n)},scroll:{x:\"100%\",scrollToFirstRowOnChange:!0},sticky:!0}))))))}}]),a}(g[\"Component\"]);t[\"default\"]=Object(T[\"b\"])((function(e){var t=e.newProductLifeCycleInfoTemplate,a=e.loading;return{newProductLifeCycleInfoTemplate:t,loading:a.effects[\"newProductLifeCycleInfoTemplate/querylifeCycleTemplateList\"]}}))(P)}}]);","name":"p__productLifeCycle__productLifeCycleInfoTemplate.async.js?v=1647342498084","map":{"version":3,"sources":["p__productLifeCycle__productLifeCycleInfoTemplate.async.js?v=1647342498084"],"names":["window","push","8ie1","module","exports","__webpack_require__","container","filter","rowWrapper","btnGroup","dataTable","operationBtn","SW41","__webpack_exports__","r","antd_es_card__WEBPACK_IMPORTED_MODULE_1__","antd_es_row__WEBPACK_IMPORTED_MODULE_3__","antd_es_button__WEBPACK_IMPORTED_MODULE_5__","antd_es_col__WEBPACK_IMPORTED_MODULE_7__","antd_es_input__WEBPACK_IMPORTED_MODULE_9__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_10__","antd_es_space__WEBPACK_IMPORTED_MODULE_12__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_13__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_14__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_15__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_16__","E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_17__","antd_es_notification__WEBPACK_IMPORTED_MODULE_19__","antd_es_modal__WEBPACK_IMPORTED_MODULE_21__","antd_es_form__WEBPACK_IMPORTED_MODULE_23__","react__WEBPACK_IMPORTED_MODULE_24__","react__WEBPACK_IMPORTED_MODULE_24___default","n","umi__WEBPACK_IMPORTED_MODULE_25__","_utils_publicData__WEBPACK_IMPORTED_MODULE_26__","_ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_27__","_ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_28__","_style_less_modules__WEBPACK_IMPORTED_MODULE_29__","_style_less_modules__WEBPACK_IMPORTED_MODULE_29___default","moment__WEBPACK_IMPORTED_MODULE_30__","moment__WEBPACK_IMPORTED_MODULE_30___default","_pages_components_MXTable__WEBPACK_IMPORTED_MODULE_31__","_ant_design_icons__WEBPACK_IMPORTED_MODULE_32__","_utils_utils__WEBPACK_IMPORTED_MODULE_33__","dateFormat","FormItem","Item","confirm","openNotification","type","message","description","placement","duration","NewProductLifeCycleInfoTemplate","_Component","Object","_super","_this2","this","_len","arguments","length","args","Array","_key","call","apply","concat","state","selectedRowKeys","pageData","current","pageSize","searchParams","sortFiled","sortType","formRef","a","createRef","columns","title","dataIndex","fixed","width","render","val","record","createElement","className","onClick","_handleDetails","obj","find","item","value","label","sorter","format","text","_getPermission","authEdit","templateStatuis","_setDisable","pathname","lifecycleTemplateId","_addTemplate","_onFinish","values","setState","_search","_this2$state","dispatch","props","tempObj","payload","pageNum","callback","res","code","data","templateList","warningText","_reset","resetFields","_tableChange","p","e","s","field","order","undefined","_this","tips","icon","okText","cancelText","onOk","templateName","onCancel","key","_this3","_this$state","loading","_getPermission2","tabsCard","bordered","name","onFinish","ref","labelCol","span","gutter","placeholder","autoComplete","htmlType","dataSource","list","total","rowKey","onChange","scroll","x","scrollToFirstRowOnChange","sticky","_ref","newProductLifeCycleInfoTemplate","effects"],"mappings":"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"},"input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[57],{\n\n/***/ \"8ie1\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"antd-pro-pages-product-life-cycle-product-life-cycle-info-template-style-container\",\"filter\":\"antd-pro-pages-product-life-cycle-product-life-cycle-info-template-style-filter\",\"rowWrapper\":\"antd-pro-pages-product-life-cycle-product-life-cycle-info-template-style-rowWrapper\",\"btnGroup\":\"antd-pro-pages-product-life-cycle-product-life-cycle-info-template-style-btnGroup\",\"dataTable\":\"antd-pro-pages-product-life-cycle-product-life-cycle-info-template-style-dataTable\",\"operationBtn\":\"antd-pro-pages-product-life-cycle-product-life-cycle-info-template-style-operationBtn\"};\n\n/***/ }),\n\n/***/ \"SW41\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var antd_es_card_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"IzEo\");\n/* harmony import */ var antd_es_card__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"bx4M\");\n/* harmony import */ var antd_es_row_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"14J3\");\n/* harmony import */ var antd_es_row__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"BMrR\");\n/* harmony import */ var antd_es_button_style__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"+L6B\");\n/* harmony import */ var antd_es_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"2/Rp\");\n/* harmony import */ var antd_es_col_style__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"jCWc\");\n/* harmony import */ var antd_es_col__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"kPKH\");\n/* harmony import */ var antd_es_input_style__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"5NDa\");\n/* harmony import */ var antd_es_input__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"5rEg\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"k1fw\");\n/* harmony import */ var antd_es_space_style__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"DYRE\");\n/* harmony import */ var antd_es_space__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"zeV3\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"fWQN\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"mtLc\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"tS8v\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"yKVA\");\n/* harmony import */ var E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(\"879j\");\n/* harmony import */ var antd_es_notification_style__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(\"/xke\");\n/* harmony import */ var antd_es_notification__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(\"TeRw\");\n/* harmony import */ var antd_es_modal_style__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(\"2qtc\");\n/* harmony import */ var antd_es_modal__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(\"kLXV\");\n/* harmony import */ var antd_es_form_style__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(\"y8nQ\");\n/* harmony import */ var antd_es_form__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(\"Vl3Y\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_24__);\n/* harmony import */ var umi__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(\"9kvl\");\n/* harmony import */ var _utils_publicData__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(\"nT/m\");\n/* harmony import */ var _ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(\"Hx5s\");\n/* harmony import */ var _ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(\"FRQA\");\n/* harmony import */ var _style_less_modules__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(\"8ie1\");\n/* harmony import */ var _style_less_modules__WEBPACK_IMPORTED_MODULE_29___default = /*#__PURE__*/__webpack_require__.n(_style_less_modules__WEBPACK_IMPORTED_MODULE_29__);\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(\"wd/R\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_30___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_30__);\n/* harmony import */ var _pages_components_MXTable__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(\"tQHx\");\n/* harmony import */ var _ant_design_icons__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(\"RCxd\");\n/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(\"+n12\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*\n * @description: 模板列表\n * @Author: tangsc\n * @Date: 2021-03-12 09:13:27\n */\n\n\n\n\n\n\n\n\n // 设置日期格式\n\nvar dateFormat = 'YYYY/MM/DD HH:mm:ss';\nvar FormItem = antd_es_form__WEBPACK_IMPORTED_MODULE_23__[/* default */ \"a\"].Item; // 获取确认框\n\nvar confirm = antd_es_modal__WEBPACK_IMPORTED_MODULE_21__[/* default */ \"a\"].confirm; // 提示信息\n\nvar openNotification = function openNotification(type, message, description, placement, duration) {\n  antd_es_notification__WEBPACK_IMPORTED_MODULE_19__[\"default\"][type || 'info']({\n    message: message,\n    description: description,\n    placement: placement,\n    duration: duration || 3\n  });\n};\n\nvar NewProductLifeCycleInfoTemplate = /*#__PURE__*/function (_Component) {\n  Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_16__[/* default */ \"a\"])(NewProductLifeCycleInfoTemplate, _Component);\n\n  var _super = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_17__[/* default */ \"a\"])(NewProductLifeCycleInfoTemplate);\n\n  function NewProductLifeCycleInfoTemplate() {\n    var _this2;\n\n    Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"])(this, NewProductLifeCycleInfoTemplate);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this2 = _super.call.apply(_super, [this].concat(args));\n    _this2.state = {\n      selectedRowKeys: [],\n      // 选中table行的key值\n      pageData: {\n        // 当前的分页数据\n        current: 1,\n        pageSize: 20\n      },\n      searchParams: {},\n      // 查询参数\n      sortFiled: '',\n      // 排序字段\n      sortType: '' // 排序类型：asc-升序；desc-降序\n\n    };\n    _this2.formRef = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createRef();\n    _this2.columns = [{\n      title: '模板名称',\n      dataIndex: 'templateName',\n      fixed: 'left',\n      width: 120,\n      render: function render(val, record) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(\"span\", {\n          className: \"details\",\n          onClick: function onClick() {\n            return _this2._handleDetails(record);\n          }\n        }, val || '--');\n      }\n    }, {\n      title: '状态',\n      dataIndex: 'templateStatuis',\n      width: 100,\n      render: function render(val) {\n        var obj = _utils_publicData__WEBPACK_IMPORTED_MODULE_26__[/* templateStatus */ \"Zb\"].find(function (item) {\n          return item.value === val;\n        });\n        return obj && obj.label || '--';\n      }\n    }, {\n      title: '使用次数',\n      dataIndex: 'numberOfUse',\n      width: 80,\n      render: function render(val) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(\"span\", null, val);\n      }\n    }, {\n      title: '创建人',\n      dataIndex: 'managerUserName',\n      width: 100,\n      render: function render(val) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(\"span\", null, val || '--');\n      }\n    }, {\n      title: '创建时间',\n      dataIndex: 'createTime',\n      width: 120,\n      sorter: true,\n      render: function render(val) {\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(\"span\", null, val && moment__WEBPACK_IMPORTED_MODULE_30___default()(val).format(dateFormat) || '--');\n      }\n    }, {\n      title: '操作',\n      dataIndex: 'operate',\n      // fixed: 'right',\n      width: 80,\n      render: function render(text, record) {\n        var _getPermission = Object(_utils_utils__WEBPACK_IMPORTED_MODULE_33__[/* getPermission */ \"o\"])(40400),\n            authEdit = _getPermission.authEdit;\n\n        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(antd_es_space__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"b\"], null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(\"span\", {\n          className: \"details\",\n          onClick: function onClick() {\n            return _this2._handleDetails(record);\n          }\n        }, record.templateStatuis !== 2 ? '编辑' : '查看', \" \"), authEdit && record.templateStatuis === 2 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(\"span\", {\n          className: \"details\",\n          onClick: function onClick() {\n            return _this2._setDisable(3, record);\n          }\n        }, \"\\u7981\\u7528\"), authEdit && record.templateStatuis === 3 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(\"span\", {\n          className: \"details\",\n          onClick: function onClick() {\n            return _this2._setDisable(2, record);\n          }\n        }, \"\\u542F\\u7528\"));\n      }\n    }];\n\n    _this2._handleDetails = function (record) {\n      umi__WEBPACK_IMPORTED_MODULE_25__[/* history */ \"c\"].push({\n        pathname: \"/productLifeCycleInfo/productLifeCycleInfoTemplate/newProductLifeCycleInfoTemplate/\".concat(record.lifecycleTemplateId)\n      });\n    };\n\n    _this2._addTemplate = function () {\n      umi__WEBPACK_IMPORTED_MODULE_25__[/* history */ \"c\"].push({\n        pathname: '/productLifeCycleInfo/productLifeCycleInfoTemplate/newProductLifeCycleInfoTemplate/0'\n      });\n    };\n\n    _this2._onFinish = function (values) {\n      _this2.setState({\n        searchParams: Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"])({}, values),\n        selectedRowKeys: [],\n        pageData: {\n          // 当前的分页数据\n          current: 1 // pageSize: 20\n\n        }\n      }, function () {\n        _this2._search();\n      });\n    };\n\n    _this2._search = function () {\n      var _this2$state = _this2.state,\n          pageData = _this2$state.pageData,\n          sortFiled = _this2$state.sortFiled,\n          sortType = _this2$state.sortType,\n          searchParams = _this2$state.searchParams;\n      var dispatch = _this2.props.dispatch;\n      var tempObj = {};\n\n      if (!!sortType) {\n        tempObj.sortFiled = sortFiled;\n        tempObj.sortType = sortType;\n      }\n\n      dispatch({\n        type: 'newProductLifeCycleInfoTemplate/querylifeCycleTemplateList',\n        payload: Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"])(Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"])({\n          pageNum: pageData.current || 1,\n          pageSize: pageData.pageSize || 20\n        }, tempObj), searchParams),\n        callback: function callback(res) {\n          if (res.code === 1008 && res.data) {\n            _this2.setState({\n              templateList: res.data\n            });\n          } else {\n            var warningText = res.message || res.data || '查询失败！';\n            openNotification('warning', \"\\u63D0\\u793A\\uFF08\\u4EE3\\u7801\\uFF1A\".concat(res.code, \"\\uFF09\"), warningText, 'topRight');\n          }\n        }\n      });\n    };\n\n    _this2._reset = function () {\n      _this2.formRef.current.resetFields();\n\n      _this2.setState({\n        searchParams: {},\n        selectedRowKeys: []\n      }, function () {\n        _this2._search();\n      });\n    };\n\n    _this2._tableChange = function (p, e, s) {\n      _this2.setState({\n        sortFiled: s.field,\n        sortType: !!s.order ? s.order === 'ascend' ? 'asc' : 'desc' : undefined,\n        pageData: {\n          current: p.current,\n          pageSize: p.pageSize\n        }\n      }, function () {\n        _this2._search();\n      });\n    };\n\n    _this2._setDisable = function (type, record) {\n      var dispatch = _this2.props.dispatch;\n\n      var _this = Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_15__[/* default */ \"a\"])(_this2);\n\n      var tips = type === 2 ? '启用' : '禁用';\n      confirm({\n        title: \"\\u8BF7\\u60A8\\u786E\\u8BA4\\u662F\\u5426\".concat(tips, \"\\u5F53\\u524D\\u8282\\u70B9?\"),\n        icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(_ant_design_icons__WEBPACK_IMPORTED_MODULE_32__[/* default */ \"a\"], null),\n        okText: '确认',\n        cancelText: '取消',\n        onOk: function onOk() {\n          dispatch({\n            type: 'productTemplate/updateTemplatStatus',\n            payload: {\n              templateStatuis: type,\n              templateName: record.templateName,\n              lifecycleTemplateId: record.lifecycleTemplateId\n            },\n            callback: function callback(res) {\n              if (res.code === 1008 && res.data) {\n                openNotification('success', '提示', '设置成功', 'topRight');\n\n                _this._search();\n              } else {\n                var warningText = res.message || res.data || '设置失败！';\n                openNotification('warning', \"\\u63D0\\u793A\\uFF08\\u4EE3\\u7801\\uFF1A\".concat(res.code, \"\\uFF09\"), warningText, 'topRight');\n              }\n            }\n          });\n        },\n        onCancel: function onCancel() {// console.log('Cancel');\n        }\n      });\n    };\n\n    return _this2;\n  }\n\n  Object(E_MRP_vip_manager_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"])(NewProductLifeCycleInfoTemplate, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._search();\n    } // 表单实例对象\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          pageData = _this$state.pageData,\n          templateList = _this$state.templateList;\n      var loading = this.props.loading; // eslint-disable-next-line no-undef\n\n      var _getPermission2 = Object(_utils_utils__WEBPACK_IMPORTED_MODULE_33__[/* getPermission */ \"o\"])(40400),\n          authEdit = _getPermission2.authEdit;\n\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(_ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_27__[/* PageHeaderWrapper */ \"a\"], {\n        title: \"\\u6A21\\u677F\\u5217\\u8868\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(_ant_design_pro_layout__WEBPACK_IMPORTED_MODULE_28__[/* default */ \"a\"], {\n        className: _style_less_modules__WEBPACK_IMPORTED_MODULE_29___default.a.tabsCard\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(antd_es_card__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"], {\n        bordered: false\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(\"div\", {\n        className: _style_less_modules__WEBPACK_IMPORTED_MODULE_29___default.a.container\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(\"div\", {\n        className: _style_less_modules__WEBPACK_IMPORTED_MODULE_29___default.a.filter\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(antd_es_form__WEBPACK_IMPORTED_MODULE_23__[/* default */ \"a\"], {\n        name: \"basic\",\n        onFinish: this._onFinish,\n        ref: this.formRef,\n        labelCol: {\n          span: 8\n        }\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(antd_es_row__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], {\n        gutter: [8, 0],\n        className: _style_less_modules__WEBPACK_IMPORTED_MODULE_29___default.a.rowWrapper\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(antd_es_col__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n        span: 6\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(FormItem, {\n        label: \"\\u6A21\\u677F\\u540D\\u79F0\",\n        name: \"templateName\"\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(antd_es_input__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"], {\n        placeholder: \"\\u8BF7\\u8F93\\u5165\",\n        autoComplete: \"off\"\n      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(antd_es_col__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n        span: 6,\n        className: _style_less_modules__WEBPACK_IMPORTED_MODULE_29___default.a.btnGroup\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], {\n        type: \"primary\",\n        htmlType: \"submit\"\n      }, \"\\u67E5\\u8BE2\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], {\n        onClick: this._reset\n      }, \"\\u91CD\\u7F6E\"))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(\"div\", {\n        className: _style_less_modules__WEBPACK_IMPORTED_MODULE_29___default.a.dataTable\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(\"div\", {\n        className: _style_less_modules__WEBPACK_IMPORTED_MODULE_29___default.a.operationBtn\n      }, authEdit && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(antd_es_button__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], {\n        type: \"primary\",\n        onClick: this._addTemplate\n      }, \"\\u521B\\u5EFA\\u6D41\\u7A0B\\u6A21\\u677F\")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_24___default.a.createElement(_pages_components_MXTable__WEBPACK_IMPORTED_MODULE_31__[/* default */ \"a\"], {\n        loading: loading,\n        columns: this.columns,\n        dataSource: templateList && templateList.list,\n        total: templateList && templateList.total,\n        pageNum: pageData.current,\n        rowKey: function rowKey(record) {\n          return record.lifecycleTemplateId;\n        },\n        onChange: function onChange(p, e, s) {\n          return _this3._tableChange(p, e, s);\n        },\n        scroll: {\n          x: '100%',\n          scrollToFirstRowOnChange: true\n        },\n        sticky: true\n      }))))));\n    }\n  }]);\n\n  return NewProductLifeCycleInfoTemplate;\n}(react__WEBPACK_IMPORTED_MODULE_24__[\"Component\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(umi__WEBPACK_IMPORTED_MODULE_25__[/* connect */ \"b\"])(function (_ref) {\n  var newProductLifeCycleInfoTemplate = _ref.newProductLifeCycleInfoTemplate,\n      loading = _ref.loading;\n  return {\n    newProductLifeCycleInfoTemplate: newProductLifeCycleInfoTemplate,\n    loading: loading.effects['newProductLifeCycleInfoTemplate/querylifeCycleTemplateList']\n  };\n})(NewProductLifeCycleInfoTemplate));\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\bundler-webpack\\lib\\webpack\\plugins\\mini-css-extract-plugin\\src\\loader.js??ref--13-oneOf-0-0!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\css-loader\\cjs.js??ref--13-oneOf-0-1!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\postcss-loader\\src\\index.js??postcss!E:\\公司代码\\MRP报表\\vip-manager\\node_modules\\@umijs\\deps\\compiled\\less-loader\\cjs.js??ref--13-oneOf-0-3!E:\\公司代码\\MRP报表\\vip-manager\\src\\pages\\productLifeCycle\\productLifeCycleInfoTemplate\\style.less?modules","E:/公司代码/MRP报表/vip-manager/src/pages/productLifeCycle/productLifeCycleInfoTemplate/index.jsx"],"names":["dateFormat","FormItem","Item","confirm","openNotification","type","message","description","placement","duration","NewProductLifeCycleInfoTemplate","state","selectedRowKeys","pageData","current","pageSize","searchParams","sortFiled","sortType","formRef","React","createRef","columns","title","dataIndex","fixed","width","render","val","record","_handleDetails","obj","templateStatus","find","item","value","label","sorter","moment","format","text","getPermission","authEdit","templateStatuis","_setDisable","history","push","pathname","lifecycleTemplateId","_addTemplate","_onFinish","values","setState","_search","dispatch","props","tempObj","payload","pageNum","callback","res","code","data","templateList","warningText","_reset","resetFields","_tableChange","p","e","s","field","order","undefined","_this","tips","icon","okText","cancelText","onOk","templateName","onCancel","loading","styles","tabsCard","container","filter","span","rowWrapper","btnGroup","dataTable","operationBtn","list","total","x","scrollToFirstRowOnChange","Component","connect","newProductLifeCycleInfoTemplate","effects"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"antd-pro-pages-product-life-cycle-product-life-cycle-info-template-style-container\",\"filter\":\"antd-pro-pages-product-life-cycle-product-life-cycle-info-template-style-filter\",\"rowWrapper\":\"antd-pro-pages-product-life-cycle-product-life-cycle-info-template-style-rowWrapper\",\"btnGroup\":\"antd-pro-pages-product-life-cycle-product-life-cycle-info-template-style-btnGroup\",\"dataTable\":\"antd-pro-pages-product-life-cycle-product-life-cycle-info-template-style-dataTable\",\"operationBtn\":\"antd-pro-pages-product-life-cycle-product-life-cycle-info-template-style-operationBtn\"};","/*\n * @description: 模板列表\n * @Author: tangsc\n * @Date: 2021-03-12 09:13:27\n */\n\nimport React, { Component } from 'react';\nimport { connect, history } from 'umi';\nimport { Button, Row, Col, Form, Modal, Input, Space, notification, Card } from 'antd';\nimport { paginationPropsback, XWAppointmentType, templateStatus } from '@/utils/publicData';\nimport { GridContent, PageHeaderWrapper } from '@ant-design/pro-layout';\nimport styles from './style.less';\nimport moment from 'moment';\nimport MXTable from '@/pages/components/MXTable';\nimport { ExclamationCircleOutlined } from '@ant-design/icons';\nimport { getPermission } from '@/utils/utils';\n\n// 设置日期格式\nconst dateFormat = 'YYYY/MM/DD HH:mm:ss';\n\nconst FormItem = Form.Item;\n\n// 获取确认框\nconst { confirm } = Modal;\n\n// 提示信息\nconst openNotification = (type, message, description, placement, duration) => {\n    notification[type || 'info']({\n        message,\n        description,\n        placement,\n        duration: duration || 3\n    });\n};\nclass NewProductLifeCycleInfoTemplate extends Component {\n    state = {\n        selectedRowKeys: [], // 选中table行的key值\n        pageData: {\n            // 当前的分页数据\n            current: 1,\n            pageSize: 20\n        },\n        searchParams: {},              // 查询参数\n        sortFiled: '',                 // 排序字段\n        sortType: ''                  // 排序类型：asc-升序；desc-降序\n    };\n\n    componentDidMount() {\n        this._search();\n    }\n\n\n    // 表单实例对象\n    formRef = React.createRef();\n\n    // Table的列\n    columns = [\n        {\n            title: '模板名称',\n            dataIndex: 'templateName',\n            fixed: 'left',\n            width: 120,\n            render: (val, record) => {\n                return (\n                    <span className=\"details\" onClick={() => this._handleDetails(record)}>\n                        {val || '--'}\n                    </span>\n                );\n            }\n        },\n        {\n            title: '状态',\n            dataIndex: 'templateStatuis',\n            width: 100,\n            render: (val) => {\n                let obj = templateStatus.find((item) => {\n                    return item.value === val;\n                });\n                return (obj && obj.label) || '--';\n            }\n        },\n        {\n            title: '使用次数',\n            dataIndex: 'numberOfUse',\n            width: 80,\n            render: (val) => <span>{val}</span>\n        },\n        {\n            title: '创建人',\n            dataIndex: 'managerUserName',\n            width: 100,\n            render: (val) => <span>{val || '--'}</span>\n        },\n        {\n            title: '创建时间',\n            dataIndex: 'createTime',\n            width: 120,\n            sorter: true,\n            render: (val) => <span>{val && moment(val).format(dateFormat) || '--'}</span>\n        },\n        {\n            title: '操作',\n            dataIndex: 'operate',\n            // fixed: 'right',\n            width: 80,\n            render: (text, record) => {\n                const { authEdit } = getPermission(40400);\n                return (\n                    <Space>\n                        <span className=\"details\" onClick={() => this._handleDetails(record)}>{record.templateStatuis !== 2 ? '编辑' : '查看'} </span>\n                        {\n                            authEdit && record.templateStatuis === 2 &&\n                            <span className=\"details\" onClick={() => this._setDisable(3, record)}>禁用</span>\n                        }\n                        {\n                            authEdit && record.templateStatuis === 3 &&\n                            <span className=\"details\" onClick={() => this._setDisable(2, record)}>启用</span>\n                        }\n                    </Space>\n                );\n            }\n        }\n    ];\n\n    /**\n     * @description: 查看详情\n     * @param {*} record\n     */\n    _handleDetails = (record) => {\n        history.push({\n            pathname: `/productLifeCycleInfo/productLifeCycleInfoTemplate/newProductLifeCycleInfoTemplate/${record.lifecycleTemplateId}`\n        });\n    }\n\n    /**\n     * @description: 点击新建模板\n     */\n    _addTemplate = () => {\n        history.push({\n            pathname: '/productLifeCycleInfo/productLifeCycleInfoTemplate/newProductLifeCycleInfoTemplate/0'\n        });\n    }\n\n\n\n\n    /**\n     * @description: 表单提交事件\n     * @param {Object} values\n     */\n    _onFinish = (values) => {\n        this.setState({\n            searchParams: {\n                ...values\n            },\n            selectedRowKeys:[],\n            pageData: {\n                // 当前的分页数据\n                current: 1,\n                // pageSize: 20\n            }\n        }, () => {\n            this._search();\n        });\n    };\n\n    /**\n     * @description: 列表查询\n     */\n    _search = () => {\n\n        const { pageData, sortFiled, sortType, searchParams } = this.state;\n        const { dispatch } = this.props;\n        const tempObj = {};\n        if (!!sortType) {\n            tempObj.sortFiled = sortFiled;\n            tempObj.sortType = sortType;\n        }\n\n        dispatch({\n            type: 'newProductLifeCycleInfoTemplate/querylifeCycleTemplateList',\n            payload: {\n                pageNum: pageData.current || 1,\n                pageSize: pageData.pageSize || 20,\n                ...tempObj,\n                ...searchParams\n            },\n            callback: (res) => {\n                if (res.code === 1008 && res.data) {\n                    this.setState({\n                        templateList: res.data\n                    });\n                } else {\n                    const warningText = res.message || res.data || '查询失败！';\n                    openNotification('warning', `提示（代码：${res.code}）`, warningText, 'topRight');\n                }\n            }\n        });\n    }\n\n\n    /**\n     * @description:重置过滤条件\n     */\n    _reset = () => {\n        this.formRef.current.resetFields();\n        this.setState({\n            searchParams: {},\n            selectedRowKeys:[],\n        }, () => {\n            this._search();\n        });\n    };\n\n\n    /**\n     * @description: 表格变化\n     */\n    _tableChange = (p, e, s) => {\n        this.setState({\n            sortFiled: s.field,\n            sortType: !!s.order ? s.order === 'ascend' ? 'asc' : 'desc' : undefined,\n            pageData: {\n                current: p.current,\n                pageSize: p.pageSize\n            }\n        }, () => {\n            this._search();\n        });\n    }\n\n    /**\n     * @description: 禁用/启用模板\n     * @param {*} type 3：禁用 2： 启用\n     * @param {*} record table 选中行数据\n     */\n    _setDisable = (type, record) => {\n\n        const { dispatch } = this.props;\n        let _this = this;\n        let tips = type === 2 ? '启用' : '禁用';\n        confirm({\n            title: `请您确认是否${tips}当前节点?`,\n            icon: <ExclamationCircleOutlined />,\n            okText: '确认',\n            cancelText: '取消',\n            onOk() {\n                dispatch({\n                    type: 'productTemplate/updateTemplatStatus',\n                    payload: {\n                        templateStatuis: type,\n                        templateName: record.templateName,\n                        lifecycleTemplateId: record.lifecycleTemplateId\n                    },\n                    callback: (res) => {\n                        if (res.code === 1008 && res.data) {\n                            openNotification('success', '提示', '设置成功', 'topRight');\n                            _this._search();\n                        } else {\n                            const warningText = res.message || res.data || '设置失败！';\n                            openNotification('warning', `提示（代码：${res.code}）`, warningText, 'topRight');\n                        }\n                    }\n                });\n            },\n            onCancel() {\n                // console.log('Cancel');\n            }\n        });\n\n    };\n\n    render() {\n        const { pageData, templateList } = this.state;\n        const { loading } = this.props;\n        // eslint-disable-next-line no-undef\n        const { authEdit } = getPermission(40400);\n\n        return (\n            <PageHeaderWrapper title=\"模板列表\">\n                <GridContent className={styles.tabsCard}>\n                    <Card\n                        bordered={false}\n                    >\n                        <div className={styles.container}>\n                            <div className={styles.filter}>\n                                <Form name=\"basic\" onFinish={this._onFinish} ref={this.formRef} labelCol={{ span: 8 }}>\n                                    <Row gutter={[8, 0]} className={styles.rowWrapper}>\n                                        <Col span={6}>\n                                            <FormItem label=\"模板名称\" name=\"templateName\">\n                                                <Input placeholder=\"请输入\" autoComplete=\"off\" />\n                                            </FormItem>\n                                        </Col>\n                                        <Col span={6} className={styles.btnGroup}>\n                                            <Button type=\"primary\" htmlType=\"submit\">\n                                                查询\n                                            </Button>\n                                            <Button onClick={this._reset}>重置</Button>\n                                        </Col>\n                                    </Row>\n                                </Form>\n                            </div>\n                            <div className={styles.dataTable}>\n                                <div className={styles.operationBtn}>\n                                    {\n                                        authEdit &&\n                                        <Button type=\"primary\" onClick={this._addTemplate}>创建流程模板</Button>\n                                    }\n\n\n                                </div>\n                                <MXTable\n                                    loading={loading}\n                                    columns={this.columns}\n                                    dataSource={templateList && templateList.list}\n                                    total={templateList && templateList.total}\n                                    pageNum={pageData.current}\n                                    rowKey={(record) => record.lifecycleTemplateId}\n                                    onChange={(p, e, s) => this._tableChange(p, e, s)}\n                                    scroll={{ x: '100%', scrollToFirstRowOnChange: true }}\n                                    sticky\n                                />\n                            </div>\n                        </div>\n\n                    </Card>\n                </GridContent>\n            </PageHeaderWrapper>\n        );\n    }\n}\n\nexport default connect(({ newProductLifeCycleInfoTemplate, loading }) => ({\n    newProductLifeCycleInfoTemplate,\n    loading: loading.effects['newProductLifeCycleInfoTemplate/querylifeCycleTemplateList']\n}))(NewProductLifeCycleInfoTemplate);\n"]}}